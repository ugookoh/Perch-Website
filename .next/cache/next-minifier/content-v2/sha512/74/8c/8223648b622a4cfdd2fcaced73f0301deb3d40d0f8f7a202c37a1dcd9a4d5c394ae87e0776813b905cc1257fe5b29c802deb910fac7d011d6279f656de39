{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[53],{SAip:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/s/db/udash\",function(){return s(\"iJvk\")}])},iJvk:function(e,t,s){\"use strict\";s.r(t),s.d(t,\"default\",(function(){return k}));var i=s(\"1OyB\"),c=s(\"vuIU\"),n=s(\"JX7q\"),a=s(\"Ji7U\"),o=s(\"md7G\"),l=s(\"foSv\"),r=s(\"rePB\"),d=s(\"nKUr\"),j=s(\"q1tI\"),h=s.n(j),b=s(\"mw2Z\"),p=s.n(b),u=s(\"8Kt/\"),O=s.n(u),x=s(\"+jxT\"),f=s(\"Z6QF\"),m=s(\"nOHt\"),v=s.n(m),g=s(\"8rXc\"),w=s(\"JZFu\"),N=s(\"l099\"),C=s(\"9uY5\");function D(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,i=Object(l.a)(e);if(t){var c=Object(l.a)(this).constructor;s=Reflect.construct(i,arguments,c)}else s=i.apply(this,arguments);return Object(o.a)(this,s)}}var k=function(e){Object(a.a)(s,e);var t=D(s);function s(){var e;return Object(i.a)(this,s),e=t.call(this),Object(r.a)(Object(n.a)(e),\"setImage\",(function(t){w.a.storage().ref(\"\".concat(t)).getDownloadURL().then((function(t){e.setState({url:t})})).catch((function(e){console.log(e.message)}))})),Object(r.a)(Object(n.a)(e),\"updateWindowDimensions\",(function(){e.setState({width:window.innerWidth,height:window.innerHeight})})),Object(r.a)(Object(n.a)(e),\"navigate\",(function(t){switch(t){case\"db\":e.setState({optionCode:\"db\"});break;case\"th\":e.setState({optionCode:\"th\"});break;case\"pw\":e.setState({optionCode:\"pw\"});break;case\"cu\":e.setState({optionCode:\"cu\"});break;case\"ss\":e.setState({optionCode:\"ss\"})}})),e.state={optionCode:\"db\",width:0,height:0,loggedIn:\"NULL\",userDetails:null,url:null},e}return Object(c.a)(s,[{key:\"componentDidMount\",value:function(){var e=this;this.updateWindowDimensions(),window.addEventListener(\"resize\",this.updateWindowDimensions),w.a.auth().onAuthStateChanged((function(t){t?(e.setState({loggedIn:\"TRUE\"}),w.a.database().ref(\"users/\".concat(t.uid)).once(\"value\",(function(t){e.setState({userDetails:t.val()}),e.setImage(t.val().photoRef)})).catch((function(e){console.log(e.message)}))):e.setState({loggedIn:\"FALSE\"})}))}},{key:\"componentWillUnmount\",value:function(){window.removeEventListener(\"resize\",this.updateWindowDimensions)}},{key:\"render\",value:function(){var e=this;if(\"FALSE\"==this.state.loggedIn&&v.a.push(\"/s/auth/u_si_su\").then((function(){return window.scrollTo(0,0)})),\"TRUE\"!=this.state.loggedIn)return Object(d.jsx)(N.default,{});var t=\"\",s=Object(d.jsx)(d.Fragment,{});switch(this.state.optionCode){case\"db\":t=\"Dashboard\",s=Object(d.jsx)(g.k,{userDetails:this.state.userDetails});break;case\"th\":t=\"Trip History\",s=Object(d.jsx)(g.i,{userDetails:this.state.userDetails});break;case\"pw\":t=\"Perch Wallet\",s=Object(d.jsx)(g.g,{userDetails:this.state.userDetails});break;case\"cu\":t=\"Contact Us\",s=Object(d.jsx)(g.b,{userDetails:this.state.userDetails});break;case\"ss\":t=\"Settings\",s=Object(d.jsx)(g.h,{userDetails:this.state.userDetails})}return Object(d.jsxs)(\"div\",{className:p.a.container,style:{height:0!=this.state.height?this.state.height:\"100vh\"},children:[Object(d.jsxs)(O.a,{children:[Object(d.jsx)(\"html\",{lang:\"en\"}),Object(d.jsx)(\"title\",{children:\"Rider Dashboard | Perch\"}),Object(d.jsx)(\"meta\",{name:\"viewport\",content:\"width=device-width, initial-scale=1\"}),Object(d.jsx)(\"link\",{rel:\"icon\",type:\"image/png\",sizes:\"32x32\",href:\"/favicon-32x32.png\"}),Object(d.jsx)(\"link\",{rel:\"icon\",type:\"image/png\",sizes:\"16x16\",href:\"/favicon-16x16.png\"}),Object(d.jsx)(\"link\",{rel:\"apple-touch-icon\",sizes:\"180x180\",href:\"/apple-touch-icon.png\"}),Object(d.jsx)(\"link\",{rel:\"manifest\",href:\"/site.webmanifest\"}),Object(d.jsx)(\"link\",{rel:\"mask-icon\",href:\"/safari-pinned-tab.svg\",color:\"#5bbad5\"}),Object(d.jsx)(\"meta\",{name:\"theme-color\",content:\"#ffffff\"})]}),Object(d.jsxs)(\"div\",{className:p.a.header,children:[Object(d.jsx)(\"div\",{className:p.a.logoBox,children:Object(d.jsx)(\"a\",{href:\"/\",children:Object(d.jsx)(\"div\",{className:p.a.logo,children:Object(d.jsx)(f.c,{color:\"#FFFFFF\"})})})}),Object(d.jsxs)(\"div\",{className:p.a.optionShadowBox,children:[Object(d.jsx)(\"p\",{className:p.a.optionTitle,children:t}),Object(d.jsxs)(\"div\",{className:p.a.textRow1,children:[this.state.userDetails?Object(d.jsxs)(d.Fragment,{children:[this.state.url?Object(d.jsx)(\"img\",{src:this.state.url,className:p.a.dp,style:{objectFit:\"cover\",borderWidth:\"0px\"}}):Object(d.jsx)(\"div\",{className:p.a.dp}),Object(d.jsx)(\"p\",{className:p.a.text_,children:\"Hello, \".concat(this.state.userDetails.firstName)})]}):Object(d.jsx)(d.Fragment,{}),Object(d.jsx)(\"a\",{className:p.a.link_,href:\"/s/articles/how_perch_works\",children:Object(d.jsx)(\"p\",{className:p.a.text,children:\"How it works\"})}),Object(d.jsx)(\"a\",{children:Object(d.jsx)(\"div\",{className:p.a.circle,onClick:function(){C.h.call(e,!0)},children:Object(d.jsx)(x.a,{color:\"#FFFFFF\",className:p.a.logOut})})})]})]})]}),Object(d.jsxs)(\"div\",{className:p.a.body,children:[Object(d.jsxs)(\"div\",{className:p.a.couple,children:[Object(d.jsxs)(\"div\",{className:p.a.column,children:[Object(d.jsx)(\"a\",{onClick:function(){e.navigate(\"db\")},children:Object(d.jsx)(\"div\",{className:\"db\"==this.state.optionCode?p.a.optionIcon_Selected:p.a.optionIcon,children:Object(d.jsx)(\"div\",{className:p.a.db,children:Object(d.jsx)(f.a,{icon:\"db\"})})})}),Object(d.jsx)(\"a\",{onClick:function(){e.navigate(\"th\")},children:Object(d.jsx)(\"div\",{className:\"th\"==this.state.optionCode?p.a.optionIcon_Selected:p.a.optionIcon,children:Object(d.jsx)(\"div\",{className:p.a.th,children:Object(d.jsx)(f.a,{icon:\"th\"})})})}),Object(d.jsx)(\"a\",{onClick:function(){e.navigate(\"pw\")},children:Object(d.jsx)(\"div\",{className:\"pw\"==this.state.optionCode?p.a.optionIcon_Selected:p.a.optionIcon,children:Object(d.jsx)(\"div\",{className:p.a.pw,children:Object(d.jsx)(f.a,{icon:\"pw\"})})})}),Object(d.jsx)(\"a\",{onClick:function(){e.navigate(\"cu\")},children:Object(d.jsx)(\"div\",{className:\"cu\"==this.state.optionCode?p.a.optionIcon_Selected:p.a.optionIcon,children:Object(d.jsx)(\"div\",{className:p.a.cu,children:Object(d.jsx)(f.a,{icon:\"cu\"})})})}),Object(d.jsx)(\"a\",{onClick:function(){e.navigate(\"ss\")},children:Object(d.jsx)(\"div\",{className:\"ss\"==this.state.optionCode?p.a.optionIcon_Selected:p.a.optionIcon,children:Object(d.jsx)(\"div\",{className:p.a.ss,children:Object(d.jsx)(f.a,{icon:\"ss\"})})})})]}),Object(d.jsxs)(\"div\",{className:p.a.optionList,children:[Object(d.jsx)(\"a\",{onClick:function(){e.navigate(\"db\")},children:Object(d.jsx)(\"div\",{className:\"db\"==this.state.optionCode?p.a.optionDescriptionCont_Selected:p.a.optionDescriptionCont,children:Object(d.jsx)(\"p\",{className:p.a.optionDescription,children:\"Dashboard\"})})}),Object(d.jsx)(\"a\",{onClick:function(){e.navigate(\"th\")},children:Object(d.jsx)(\"div\",{className:\"th\"==this.state.optionCode?p.a.optionDescriptionCont_Selected:p.a.optionDescriptionCont,children:Object(d.jsx)(\"p\",{className:p.a.optionDescription,children:\"Trip History\"})})}),Object(d.jsx)(\"a\",{onClick:function(){e.navigate(\"pw\")},children:Object(d.jsx)(\"div\",{className:\"pw\"==this.state.optionCode?p.a.optionDescriptionCont_Selected:p.a.optionDescriptionCont,children:Object(d.jsx)(\"p\",{className:p.a.optionDescription,children:\"Perch Wallet\"})})}),Object(d.jsx)(\"a\",{onClick:function(){e.navigate(\"cu\")},children:Object(d.jsx)(\"div\",{className:\"cu\"==this.state.optionCode?p.a.optionDescriptionCont_Selected:p.a.optionDescriptionCont,children:Object(d.jsx)(\"p\",{className:p.a.optionDescription,children:\"Contact Us\"})})}),Object(d.jsx)(\"a\",{onClick:function(){e.navigate(\"ss\")},children:Object(d.jsx)(\"div\",{className:\"ss\"==this.state.optionCode?p.a.optionDescriptionCont_Selected:p.a.optionDescriptionCont,children:Object(d.jsx)(\"p\",{className:p.a.optionDescription,children:\"Settings\"})})})]})]}),Object(d.jsx)(\"div\",{className:p.a.content,children:s})]})]})}}]),s}(h.a.Component)}},[[\"SAip\",0,1,6,5,7,9,15,14,19,20,21,17,18,16,22,2,3,4,8,13,23,24]]]);","extractedComments":[]}