{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[33],{\"0cAO\":function(e,t,a){e.exports={container:\"layout_container__2ADV5\",textRow1:\"layout_textRow1__ERVQN\",dp:\"layout_dp__Ifzz0\",body:\"layout_body__yC-8h\",couple:\"layout_couple__iH6Aq\",column:\"layout_column__2rFOr\",column_d:\"layout_column_d__1fsPK\",optionList:\"layout_optionList__3teyz\",content:\"layout_content__1YobZ\",text:\"layout_text__1_CG2\",text_:\"layout_text___5f2ze\",text_d:\"layout_text_d__gSSke\",link_:\"layout_link___2iCwt\",link_d:\"layout_link_d__1WTRL\",circle:\"layout_circle__3B_CB\",circle_d:\"layout_circle_d__2YVz2\",logOut:\"layout_logOut__1BTG5\",header:\"layout_header__3lryg\",logo:\"layout_logo__1DxVv\",logoBox:\"layout_logoBox__34MU2\",logoBox_d:\"layout_logoBox_d__13tV4\",optionTitle:\"layout_optionTitle__2LFRH\",optionShadowBox:\"layout_optionShadowBox__v4hlT\",optionIcon:\"layout_optionIcon__3_F0B\",optionIcon_Selected:\"layout_optionIcon_Selected__moxJu\",optionIcon_d:\"layout_optionIcon_d__Bo2d_\",optionIcon_Selected_d:\"layout_optionIcon_Selected_d__ihY43\",optionDescriptionCont:\"layout_optionDescriptionCont__JZ3Jc\",optionDescriptionCont_Selected:\"layout_optionDescriptionCont_Selected__32efo\",optionDescription:\"layout_optionDescription__3b8Ib\",db:\"layout_db__1a_mg\",th:\"layout_th__3Q28w\",pw:\"layout_pw__1RZnt\",cu:\"layout_cu__3Q_ta\",ss:\"layout_ss__3nf8Z\",tt:\"layout_tt__2aHzP\",vh:\"layout_vh__2yoBR\",tx:\"layout_tx__2-tXV\",pi:\"layout_pi__1LFIq\",one:\"layout_one__1G-qG\",two:\"layout_two__1xd4j\",three:\"layout_three__KwZAf\",badgeIcon:\"layout_badgeIcon__1wspK\",badgeIcon_:\"layout_badgeIcon___2rgla\",badgeText:\"layout_badgeText__1pT46\"}},JjXC:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"default\",(function(){return A}));var s=a(\"1OyB\"),i=a(\"vuIU\"),n=a(\"JX7q\"),o=a(\"Ji7U\"),c=a(\"md7G\"),l=a(\"foSv\"),r=a(\"rePB\"),d=a(\"JZFu\"),j=a(\"8Kt/\"),p=a.n(j),u=a(\"nOHt\"),b=a.n(u),h=a(\"q1tI\"),_=a.n(h),x=a(\"qtta\"),O=a(\"X13+\"),f=a(\"Lnxd\");function m(e){return Object(f.a)({tag:\"svg\",attr:{viewBox:\"0 0 16 16\"},child:[{tag:\"path\",attr:{fillRule:\"evenodd\",d:\"M12 9H2V8h10v1zm4-6v9c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h14c.55 0 1 .45 1 1zm-1 3H1v6h14V6zm0-3H1v1h14V3zm-9 7H2v1h4v-1z\"}}]})(e)}var v=a(\"PRV2\"),g=a(\"+jxT\"),C=a(\"rCLJ\"),D=a(\"9uY5\"),y=a(\"Z6QF\"),N=a(\"8rXc\"),S=a(\"l099\"),w=a(\"0cAO\"),k=a.n(w),I=a(\"nKUr\");function F(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,s=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return Object(c.a)(this,a)}}var A=function(e){Object(o.a)(a,e);var t=F(a);function a(){var e;return Object(s.a)(this,a),e=t.call(this),Object(r.a)(Object(n.a)(e),\"setImage\",(function(t){d.a.storage().ref(\"\".concat(t)).getDownloadURL().then((function(t){e.setState({url:t})})).catch((function(e){console.log(e.message)}))})),Object(r.a)(Object(n.a)(e),\"updateWindowDimensions\",(function(){e.setState({width:window.innerWidth,height:window.innerHeight})})),Object(r.a)(Object(n.a)(e),\"navigate\",(function(t){switch(t){case\"db\":e.setState({optionCode:\"db\"});break;case\"pp\":e.setState({optionCode:\"pp\"});break;case\"um\":e.setState({optionCode:\"um\"});break;case\"se\":e.setState({optionCode:\"se\"});break;case\"ct\":e.setState({optionCode:\"ct\"});break;case\"va\":e.setState({optionCode:\"va\"});break;case\"da\":e.setState({optionCode:\"da\"});break;case\"pa\":e.setState({optionCode:\"pa\"});break;case\"lr\":e.setState({optionCode:\"lr\"});break;case\"ss\":e.setState({optionCode:\"ss\"})}})),e.state={optionCode:\"db\",width:0,height:0,loggedIn:\"NULL\",userDetails:null,url:null,numberOfDriverApplications:0,unansweredMessages:0,unansweredDriverMessages:0,numberOfVehicleAdditionRequest:0,numberOfCancelledTrips:0,numberOfPendingProcesses:0},e}return Object(i.a)(a,[{key:\"componentDidMount\",value:function(){var e=this;this.updateWindowDimensions(),window.addEventListener(\"resize\",this.updateWindowDimensions),d.a.auth().onAuthStateChanged((function(t){t?(d.a.database().ref(\"users/\".concat(t.uid)).once(\"value\",(function(t){e.setState({userDetails:t.val()}),e.setImage(t.val().photoRef)})).catch((function(e){console.log(e.message)})),d.a.database().ref(\"adminAuthorized/\".concat(t.uid)).once(\"value\",(function(t){t.val()?e.setState({loggedIn:\"TRUE\"}):e.setState({loggedIn:\"FALSE\"})})).catch((function(t){e.setState({loggedIn:\"FALSE\"})}))):e.setState({loggedIn:\"FALSE\"})})),d.a.database().ref(\"analytics/numberOfUserFeedbackMessages\").on(\"value\",(function(t){e.setState({unansweredMessages:t.val()})})),d.a.database().ref(\"analytics/numberOfCancelledTrips\").on(\"value\",(function(t){e.setState({numberOfCancelledTrips:t.val()})})),d.a.database().ref(\"analytics/numberOfDriverFeedbackMessages\").on(\"value\",(function(t){e.setState({unansweredDriverMessages:t.val()})})),d.a.database().ref(\"analytics/numberOfVehicleAdditionRequest\").on(\"value\",(function(t){e.setState({numberOfVehicleAdditionRequest:t.val()})})),d.a.database().ref(\"analytics/numberOfDriverApplications\").on(\"value\",(function(t){e.setState({numberOfDriverApplications:t.val()})})),d.a.database().ref(\"analytics/numberOfPendingProcesses\").on(\"value\",(function(t){e.setState({numberOfPendingProcesses:t.val()})}))}},{key:\"componentWillUnmount\",value:function(){window.removeEventListener(\"resize\",this.updateWindowDimensions)}},{key:\"render\",value:function(){var e=this;if(\"FALSE\"==this.state.loggedIn&&b.a.push(\"/admin\"),\"TRUE\"!=this.state.loggedIn)return Object(I.jsx)(S.default,{});var t=\"\",a=Object(I.jsx)(I.Fragment,{});switch(this.state.optionCode){case\"db\":t=\"Dashboard\",a=Object(I.jsx)(N.a,{userDetails:this.state.userDetails});break;case\"pp\":t=\"Pending Processes\",a=Object(I.jsx)(N.m,{userDetails:this.state.userDetails});break;case\"um\":t=\"Unread Messages\",a=Object(I.jsx)(N.r,{userDetails:this.state.userDetails});break;case\"se\":t=\"Send an Email\",a=Object(I.jsx)(N.o,{userDetails:this.state.userDetails});break;case\"ct\":t=\"Cancelled Trips\",a=Object(I.jsx)(N.c,{userDetails:this.state.userDetails});break;case\"va\":t=\"Vehicle Applications\",a=Object(I.jsx)(N.u,{userDetails:this.state.userDetails});break;case\"da\":t=\"Driver Applications\",a=Object(I.jsx)(N.e,{userDetails:this.state.userDetails});break;case\"pa\":t=\"Payments\",a=Object(I.jsx)(N.l,{userDetails:this.state.userDetails});break;case\"lr\":t=\"List of Users\",a=Object(I.jsx)(N.k,{userDetails:this.state.userDetails});break;case\"ss\":t=\"Settings\",a=Object(I.jsx)(N.p,{userDetails:this.state.userDetails})}return Object(I.jsxs)(\"div\",{className:k.a.container,style:{height:0!=this.state.height?this.state.height:\"100vh\"},children:[Object(I.jsxs)(p.a,{children:[Object(I.jsx)(\"html\",{lang:\"en\"}),Object(I.jsx)(\"title\",{children:\"Admin Dashboard | Perch\"}),Object(I.jsx)(\"meta\",{name:\"viewport\",content:\"width=device-width, initial-scale=1\"}),Object(I.jsx)(\"link\",{rel:\"icon\",href:\"/favicon.ico\"})]}),Object(I.jsxs)(\"div\",{className:k.a.header,children:[Object(I.jsx)(\"div\",{className:k.a.logoBox,children:Object(I.jsx)(\"div\",{children:Object(I.jsx)(\"div\",{className:k.a.logo,children:Object(I.jsx)(y.c,{color:\"#FFFFFF\"})})})}),Object(I.jsxs)(\"div\",{className:k.a.optionShadowBox,children:[Object(I.jsx)(\"p\",{className:k.a.optionTitle,children:t}),Object(I.jsxs)(\"div\",{className:k.a.textRow1,children:[this.state.userDetails?Object(I.jsxs)(I.Fragment,{children:[this.state.url?Object(I.jsx)(\"img\",{src:this.state.url,className:k.a.dp,style:{objectFit:\"cover\",borderWidth:\"0px\"}}):Object(I.jsx)(\"div\",{className:k.a.dp}),Object(I.jsx)(\"p\",{className:k.a.text_,children:\"Hello, \".concat(this.state.userDetails.firstName)})]}):Object(I.jsx)(I.Fragment,{}),Object(I.jsx)(\"a\",{className:k.a.link_,children:Object(I.jsx)(\"p\",{className:k.a.text,children:\"How it works\"})}),Object(I.jsx)(\"a\",{children:Object(I.jsx)(\"div\",{className:k.a.circle,onClick:function(){D.C.call(e,!0)},children:Object(I.jsx)(g.a,{color:\"#FFFFFF\",className:k.a.logOut})})})]})]})]}),Object(I.jsxs)(\"div\",{className:k.a.body,children:[Object(I.jsxs)(\"div\",{className:k.a.couple,children:[Object(I.jsxs)(\"div\",{className:k.a.column,children:[Object(I.jsx)(\"a\",{onClick:function(){e.navigate(\"db\")},children:Object(I.jsx)(\"div\",{className:\"db\"==this.state.optionCode?k.a.optionIcon_Selected:k.a.optionIcon,children:Object(I.jsx)(\"div\",{className:k.a.db,children:Object(I.jsx)(y.a,{icon:\"db\"})})})}),Object(I.jsx)(\"a\",{onClick:function(){e.navigate(\"pp\")},children:Object(I.jsxs)(\"div\",{className:\"pp\"==this.state.optionCode?k.a.optionIcon_Selected:k.a.optionIcon,children:[this.state.numberOfPendingProcesses&&Object(I.jsx)(\"div\",{className:k.a.badgeIcon,children:Object(I.jsx)(\"p\",{className:k.a.badgeText,children:this.state.numberOfPendingProcesses})}),Object(I.jsx)(\"p\",{style:{fontFamily:\"Gilroy-ExtraBold\",color:\"#FFFFFF\",fontSize:\"120%\",margin:\"0px\"},children:\"PP\"})]})}),Object(I.jsx)(\"a\",{onClick:function(){e.navigate(\"um\")},children:Object(I.jsxs)(\"div\",{className:\"um\"==this.state.optionCode?k.a.optionIcon_Selected:k.a.optionIcon,children:[this.state.unansweredMessages&&Object(I.jsx)(\"div\",{className:k.a.badgeIcon,children:Object(I.jsx)(\"p\",{className:k.a.badgeText,children:this.state.unansweredMessages})}),this.state.unansweredDriverMessages&&Object(I.jsx)(\"div\",{className:k.a.badgeIcon_,children:Object(I.jsx)(\"p\",{className:k.a.badgeText,style:{color:D.g.BLUE},children:this.state.unansweredDriverMessages})}),Object(I.jsx)(\"div\",{className:k.a.th,children:Object(I.jsx)(C.a,{color:\"#ffffff\",size:\"27.26px\"})})]})}),Object(I.jsx)(\"a\",{onClick:function(){e.navigate(\"se\")},children:Object(I.jsx)(\"div\",{className:\"se\"==this.state.optionCode?k.a.optionIcon_Selected:k.a.optionIcon,children:Object(I.jsx)(\"div\",{className:k.a.pw,children:Object(I.jsx)(v.b,{color:\"#ffffff\",size:\"27.26px\"})})})}),Object(I.jsx)(\"a\",{onClick:function(){e.navigate(\"ct\")},children:Object(I.jsxs)(\"div\",{className:\"ct\"==this.state.optionCode?k.a.optionIcon_Selected:k.a.optionIcon,children:[this.state.numberOfCancelledTrips&&Object(I.jsx)(\"div\",{className:k.a.badgeIcon,children:Object(I.jsx)(\"p\",{className:k.a.badgeText,children:this.state.numberOfCancelledTrips})}),Object(I.jsx)(\"div\",{className:k.a.cu,children:Object(I.jsx)(O.c,{color:\"#ffffff\",size:\"27.26px\"})})]})}),Object(I.jsx)(\"a\",{onClick:function(){e.navigate(\"va\")},children:Object(I.jsxs)(\"div\",{className:\"va\"==this.state.optionCode?k.a.optionIcon_Selected:k.a.optionIcon,children:[this.state.numberOfVehicleAdditionRequest&&Object(I.jsx)(\"div\",{className:k.a.badgeIcon,children:Object(I.jsx)(\"p\",{className:k.a.badgeText,children:this.state.numberOfVehicleAdditionRequest})}),Object(I.jsx)(\"div\",{className:k.a.db,children:Object(I.jsx)(x.a,{color:\"#ffffff\",size:\"27.26px\"})})]})}),Object(I.jsx)(\"a\",{onClick:function(){e.navigate(\"da\")},children:Object(I.jsxs)(\"div\",{className:\"da\"==this.state.optionCode?k.a.optionIcon_Selected:k.a.optionIcon,children:[this.state.numberOfDriverApplications&&Object(I.jsx)(\"div\",{className:k.a.badgeIcon,children:Object(I.jsx)(\"p\",{className:k.a.badgeText,children:this.state.numberOfDriverApplications})}),Object(I.jsx)(\"div\",{className:k.a.th,children:Object(I.jsx)(O.h,{color:\"#ffffff\",size:\"27.26px\"})})]})}),Object(I.jsx)(\"a\",{onClick:function(){e.navigate(\"pa\")},children:Object(I.jsx)(\"div\",{className:\"pa\"==this.state.optionCode?k.a.optionIcon_Selected:k.a.optionIcon,children:Object(I.jsx)(\"div\",{className:k.a.pw,children:Object(I.jsx)(m,{color:\"#ffffff\",size:\"27.26px\"})})})}),Object(I.jsx)(\"a\",{onClick:function(){e.navigate(\"lr\")},children:Object(I.jsx)(\"div\",{className:\"lr\"==this.state.optionCode?k.a.optionIcon_Selected:k.a.optionIcon,children:Object(I.jsx)(\"p\",{style:{fontFamily:\"Gilroy-ExtraBold\",color:\"#FFFFFF\",fontSize:\"120%\",margin:\"0px\"},children:\"LU\"})})}),Object(I.jsx)(\"a\",{onClick:function(){e.navigate(\"ss\")},children:Object(I.jsx)(\"div\",{className:\"ss\"==this.state.optionCode?k.a.optionIcon_Selected:k.a.optionIcon,children:Object(I.jsx)(\"div\",{className:k.a.ss,children:Object(I.jsx)(y.a,{icon:\"ss\"})})})})]}),Object(I.jsxs)(\"div\",{className:k.a.optionList,children:[Object(I.jsx)(\"a\",{onClick:function(){e.navigate(\"db\")},children:Object(I.jsx)(\"div\",{className:\"db\"==this.state.optionCode?k.a.optionDescriptionCont_Selected:k.a.optionDescriptionCont,children:Object(I.jsx)(\"p\",{className:k.a.optionDescription,children:\"Dashboard\"})})}),Object(I.jsx)(\"a\",{onClick:function(){e.navigate(\"pp\")},children:Object(I.jsx)(\"div\",{className:\"pp\"==this.state.optionCode?k.a.optionDescriptionCont_Selected:k.a.optionDescriptionCont,children:Object(I.jsx)(\"p\",{className:k.a.optionDescription,children:\"Pending Processes\"})})}),Object(I.jsx)(\"a\",{onClick:function(){e.navigate(\"um\")},children:Object(I.jsx)(\"div\",{className:\"um\"==this.state.optionCode?k.a.optionDescriptionCont_Selected:k.a.optionDescriptionCont,children:Object(I.jsx)(\"p\",{className:k.a.optionDescription,children:\"Unread Messages\"})})}),Object(I.jsx)(\"a\",{onClick:function(){e.navigate(\"se\")},children:Object(I.jsx)(\"div\",{className:\"se\"==this.state.optionCode?k.a.optionDescriptionCont_Selected:k.a.optionDescriptionCont,children:Object(I.jsx)(\"p\",{className:k.a.optionDescription,children:\"Send an Email\"})})}),Object(I.jsx)(\"a\",{onClick:function(){e.navigate(\"ct\")},children:Object(I.jsx)(\"div\",{className:\"ct\"==this.state.optionCode?k.a.optionDescriptionCont_Selected:k.a.optionDescriptionCont,children:Object(I.jsx)(\"p\",{className:k.a.optionDescription,children:\"Cancelled trips\"})})}),Object(I.jsx)(\"a\",{onClick:function(){e.navigate(\"va\")},children:Object(I.jsx)(\"div\",{className:\"va\"==this.state.optionCode?k.a.optionDescriptionCont_Selected:k.a.optionDescriptionCont,children:Object(I.jsx)(\"p\",{className:k.a.optionDescription,children:\"Vehicle Application\"})})}),Object(I.jsx)(\"a\",{onClick:function(){e.navigate(\"da\")},children:Object(I.jsx)(\"div\",{className:\"da\"==this.state.optionCode?k.a.optionDescriptionCont_Selected:k.a.optionDescriptionCont,children:Object(I.jsx)(\"p\",{className:k.a.optionDescription,children:\"Driver Application\"})})}),Object(I.jsx)(\"a\",{onClick:function(){e.navigate(\"pa\")},children:Object(I.jsx)(\"div\",{className:\"pa\"==this.state.optionCode?k.a.optionDescriptionCont_Selected:k.a.optionDescriptionCont,children:Object(I.jsx)(\"p\",{className:k.a.optionDescription,children:\"Payments\"})})}),Object(I.jsx)(\"a\",{onClick:function(){e.navigate(\"lr\")},children:Object(I.jsx)(\"div\",{className:\"lr\"==this.state.optionCode?k.a.optionDescriptionCont_Selected:k.a.optionDescriptionCont,children:Object(I.jsx)(\"p\",{className:k.a.optionDescription,children:\"List of Users\"})})}),Object(I.jsx)(\"a\",{onClick:function(){e.navigate(\"ss\")},children:Object(I.jsx)(\"div\",{className:\"ss\"==this.state.optionCode?k.a.optionDescriptionCont_Selected:k.a.optionDescriptionCont,children:Object(I.jsx)(\"p\",{className:k.a.optionDescription,children:\"Settings\"})})})]})]}),Object(I.jsx)(\"div\",{className:k.a.content,children:a})]})]})}}]),a}(_.a.Component)},R6UK:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/admin/dash\",function(){return a(\"JjXC\")}])}},[[\"R6UK\",0,1,6,5,7,9,15,14,21,23,24,22,17,18,16,27,3,2,4,8,13,19,20]]]);","extractedComments":[]}