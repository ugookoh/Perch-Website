{"ast":null,"code":"function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport axios from 'axios';\nimport firebase from 'firebase';\nimport React from 'react';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { AiOutlineCamera, AiOutlineCheck } from 'react-icons/ai';\nimport { BsClockHistory, BsCloudUpload } from 'react-icons/bs';\nimport { CgAdd } from 'react-icons/cg';\nimport { RiShieldCheckFill } from 'react-icons/ri';\nimport Loader from 'react-loader-spinner';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport { makeid, colors } from '../../functions';\nimport styles from '../panel_layout.module.css';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport default class DriverVehicles extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"loadResult\", () => {\n      if (this.state.userDetails) firebase.database().ref(`vehicles/${this.state.userDetails.userID}`).once('value', snapshot => {\n        this.setState({\n          result: snapshot.val()\n        });\n      }).catch(error => {\n        console.log(error.message);\n      });\n    });\n\n    this.state = {\n      result: null,\n      addVehicle: false,\n      userDetails: this.props.userDetails,\n      make: '',\n      model: '',\n      year: '',\n      color: '',\n      plateNumber: '',\n      vehicleImage: '',\n      vehicleImagePreview: '',\n      registration: '',\n      insurance: '',\n      inspection: '',\n      loading: false,\n      errorMessage: ''\n    };\n  }\n\n  componentDidMount() {\n    this.loadResult();\n  }\n\n  handleFileUpload() {\n    this.setState({\n      loading: true,\n      errorMessage: ''\n    }, () => {\n      const randomID = makeid(6);\n      firebase.storage().ref(`driverVehicleDocs/${this.state.userDetails.userID}/${randomID}/vehicleRegistration`).put(this.state.registration).catch(error => {\n        console.log(error.message);\n      });\n      firebase.storage().ref(`driverVehicleDocs/${this.state.userDetails.userID}/${randomID}/vehicleInsurance`).put(this.state.insurance).catch(error => {\n        console.log(error.message);\n      });\n      firebase.storage().ref(`driverVehicleDocs/${this.state.userDetails.userID}/${randomID}/vehicleInspection`).put(this.state.inspection).catch(error => {\n        console.log(error.message);\n      });\n      firebase.storage().ref(`driverVehicleDocs/${this.state.userDetails.userID}/${randomID}/vehicleImage`).put(this.state.vehicleImage).catch(error => {\n        console.log(error.message);\n      });\n      firebase.storage().ref(`vehicles/${this.state.userDetails.userID}/${randomID}`).put(this.state.vehicleImage).catch(error => {\n        console.log(error.message);\n      });\n      axios.post('https://us-central1-perch-01.cloudfunctions.net/addVehicle', {\n        userID: this.state.userDetails.userID,\n        vehicle: {\n          make: this.state.make,\n          model: this.state.model,\n          color: this.state.color,\n          year: this.state.year,\n          plateNumber: this.state.plateNumber.toUpperCase(),\n          maxSeatNumber: 3,\n          displayImage: `driverVehicleDocs/${this.state.userDetails.userID}/${randomID}/vehicleImage.jpeg`,\n          documentStorageID: randomID\n        }\n      }).then(() => {\n        this.setState({\n          errorMessage: '',\n          loading: false,\n          make: '',\n          model: '',\n          year: '',\n          color: '',\n          plateNumber: '',\n          addVehicle: false\n        }, () => {\n          this.loadResult();\n        });\n      }).catch(error => {\n        this.setState({\n          errorMessage: error.message,\n          loading: false\n        });\n      });\n    });\n  }\n\n  render() {\n    if (!this.state.userDetails && this.props.userDetails) this.setState({\n      userDetails: this.props.userDetails\n    }, () => {\n      this.loadResult();\n    });\n    let vehicle = [];\n\n    if (this.state.result) {\n      const keys = Object.keys(this.state.result);\n\n      for (let k = 0; k < keys.length; k++) if (keys[k] != 'selected') vehicle.push( /*#__PURE__*/_jsx(Vehicle, {\n        data: this.state.result[keys[k]],\n        lastItem: k == keys.length - 1\n      }));\n    }\n\n    return /*#__PURE__*/_jsx(_Fragment, {\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: styles.cont,\n        style: {\n          height: '100%',\n          paddingTop: '10px',\n          position: 'relative'\n        },\n        children: this.state.addVehicle ? /*#__PURE__*/_jsxs(_Fragment, {\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: styles.container,\n            style: {\n              backgroundColor: colors.WHITE,\n              marginTop: '20px'\n            },\n            children: [/*#__PURE__*/_jsx(\"p\", {\n              className: styles.title,\n              style: {\n                color: BLACK\n              },\n              children: \"Add a vehicle\"\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: styles.enterKilometerDiv,\n              style: {\n                marginTop: '15px'\n              },\n              children: [/*#__PURE__*/_jsx(\"input\", {\n                type: \"text\",\n                placeholder: \"Vehicle Make\",\n                className: styles.inputPaymentPanel,\n                style: {\n                  width: '49%',\n                  margin: '0px'\n                },\n                id: styles.inputPaymentPanel_ADD,\n                value: this.state.make,\n                onChange: event => {\n                  this.setState({\n                    make: event.target.value\n                  });\n                }\n              }), /*#__PURE__*/_jsx(\"input\", {\n                type: \"text\",\n                placeholder: \"Vehicle Model\",\n                className: styles.inputPaymentPanel,\n                style: {\n                  width: '49%',\n                  margin: '0px'\n                },\n                id: styles.inputPaymentPanel_ADD,\n                value: this.state.model,\n                onChange: event => {\n                  this.setState({\n                    model: event.target.value\n                  });\n                }\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: styles.enterKilometerDiv,\n              style: {\n                marginTop: '10px'\n              },\n              children: [/*#__PURE__*/_jsx(\"input\", {\n                type: \"text\",\n                placeholder: \"Vehicle Year\",\n                className: styles.inputPaymentPanel,\n                style: {\n                  width: '49%',\n                  margin: '0px'\n                },\n                id: styles.inputPaymentPanel_ADD,\n                value: this.state.year,\n                onChange: event => {\n                  this.setState({\n                    year: event.target.value\n                  });\n                }\n              }), /*#__PURE__*/_jsx(\"input\", {\n                type: \"text\",\n                placeholder: \"Vehicle Color\",\n                className: styles.inputPaymentPanel,\n                style: {\n                  width: '49%',\n                  margin: '0px'\n                },\n                id: styles.inputPaymentPanel_ADD,\n                value: this.state.color,\n                onChange: event => {\n                  this.setState({\n                    color: event.target.value\n                  });\n                }\n              })]\n            }), /*#__PURE__*/_jsx(\"input\", {\n              type: \"text\",\n              placeholder: \"Plate Number\",\n              className: styles.inputPaymentPanel,\n              id: styles.inputPaymentPanel_ADD,\n              style: {\n                marginTop: '10px'\n              },\n              value: this.state.plateNumber,\n              onChange: event => {\n                this.setState({\n                  plateNumber: event.target.value\n                });\n              }\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: styles.driver_ADD_VEHICLE_LOWER,\n              children: [this.state.vehicleImagePreview == '' ? /*#__PURE__*/_jsxs(\"div\", {\n                className: styles.driver_ADD_VEHICLE_IMGUPLOAD,\n                onClick: () => {\n                  this.vehicleImage.click();\n                },\n                children: [/*#__PURE__*/_jsx(AiOutlineCamera, {\n                  className: styles.driverVehicle_CAMERA\n                }), /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.driverVehicle_CAMERATEXT,\n                  children: \"UPLOAD A PICTURE OF YOUR VEHICLE\"\n                })]\n              }) : /*#__PURE__*/_jsx(\"img\", {\n                className: styles.driver_ADD_VEHICLE_IMGUPLOAD,\n                src: this.state.vehicleImagePreview,\n                onClick: () => {\n                  this.vehicleImage.click();\n                }\n              }), /*#__PURE__*/_jsxs(\"a\", {\n                className: styles.driver_ADD_VEHICLE_IMG_GL,\n                href: \"/s/articles/procedures_for_taking_a_picture\",\n                children: [/*#__PURE__*/_jsx(\"img\", {\n                  src: \"/cameraGuidelinesForPictures.svg\",\n                  className: styles.driverVehicle_GUIDELINES_CAM\n                }), /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.driverVehicle_GUIDELINES_CAM_TEXT,\n                  children: \"Guidelines for taking a picture of your vehicle\"\n                })]\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: styles.driver_ADD_VEHICLE_DOCSUPLOAD,\n                children: [/*#__PURE__*/_jsx(\"input\", {\n                  type: \"file\",\n                  ref: ref => this.vehicleRegistrationRef = ref,\n                  className: styles.driverVehicle_INPUT,\n                  onChange: event => {\n                    if (event.target.files.length != 0) {\n                      if (event.target.files[0].size / 1024 / 1024 > 15) this.setState({\n                        errorMessage: 'File size is too large. A maximum of 15 megabytes is permitted for uploads'\n                      });else this.setState({\n                        registration: event.target.files[0]\n                      });\n                    }\n                  }\n                }), /*#__PURE__*/_jsx(\"input\", {\n                  type: \"file\",\n                  ref: ref => this.vehicleInsuranceRef = ref,\n                  className: styles.driverVehicle_INPUT,\n                  onChange: event => {\n                    if (event.target.files.length != 0) {\n                      if (event.target.files[0].size / 1024 / 1024 > 15) this.setState({\n                        errorMessage: 'File size is too large. A maximum of 15 megabytes is permitted for uploads'\n                      });else this.setState({\n                        insurance: event.target.files[0]\n                      });\n                    }\n                  }\n                }), /*#__PURE__*/_jsx(\"input\", {\n                  type: \"file\",\n                  ref: ref => this.vehicleInspectionRef = ref,\n                  className: styles.driverVehicle_INPUT,\n                  onChange: event => {\n                    if (event.target.files.length != 0) {\n                      if (event.target.files[0].size / 1024 / 1024 > 15) this.setState({\n                        errorMessage: 'File size is too large. A maximum of 15 megabytes is permitted for uploads'\n                      });else this.setState({\n                        inspection: event.target.files[0]\n                      });\n                    }\n                  }\n                }), /*#__PURE__*/_jsx(\"input\", {\n                  type: \"file\",\n                  ref: ref => this.vehicleImage = ref,\n                  className: styles.driverVehicle_INPUT,\n                  onChange: event => {\n                    if (event.target.files.length != 0) {\n                      if (event.target.files[0].size / 1024 / 1024 > 15) this.setState({\n                        errorMessage: 'File size is too large. A maximum of 15 megabytes is permitted for uploads'\n                      });else this.setState({\n                        vehicleImage: event.target.files[0],\n                        vehicleImagePreview: URL.createObjectURL(event.target.files[0])\n                      });\n                    }\n                  }\n                }), /*#__PURE__*/_jsxs(\"div\", {\n                  className: styles.driverVehicle_UPLOADCONT,\n                  id: styles.driverVehicle_UPLOADCONT_,\n                  onClick: () => {\n                    this.vehicleRegistrationRef.click();\n                  },\n                  children: [/*#__PURE__*/_jsx(\"p\", {\n                    className: styles.driverVehicle_UPLOADTEXT,\n                    children: this.state.registration == '' ? 'Upload vehicle registration' : this.state.registration.name\n                  }), this.state.registration == '' ? /*#__PURE__*/_jsx(BsCloudUpload, {\n                    size: '20px',\n                    style: {\n                      marginLeft: '10px',\n                      minWidth: '20px'\n                    },\n                    color: colors.WHITE\n                  }) : /*#__PURE__*/_jsx(AiOutlineCheck, {\n                    size: '20px',\n                    style: {\n                      marginLeft: '10px',\n                      minWidth: '20px'\n                    },\n                    color: colors.WHITE\n                  })]\n                }), /*#__PURE__*/_jsxs(\"div\", {\n                  className: styles.driverVehicle_UPLOADCONT,\n                  onClick: () => {\n                    this.vehicleInsuranceRef.click();\n                  },\n                  children: [/*#__PURE__*/_jsx(\"p\", {\n                    className: styles.driverVehicle_UPLOADTEXT,\n                    children: this.state.insurance == '' ? 'Upload vehicle insurance' : this.state.insurance.name\n                  }), this.state.insurance == '' ? /*#__PURE__*/_jsx(BsCloudUpload, {\n                    size: '20px',\n                    style: {\n                      marginLeft: '10px',\n                      minWidth: '20px'\n                    },\n                    color: colors.WHITE\n                  }) : /*#__PURE__*/_jsx(AiOutlineCheck, {\n                    size: '20px',\n                    style: {\n                      marginLeft: '10px',\n                      minWidth: '20px'\n                    },\n                    color: colors.WHITE\n                  })]\n                }), /*#__PURE__*/_jsxs(\"div\", {\n                  className: styles.driverVehicle_UPLOADCONT,\n                  onClick: () => {\n                    this.vehicleInspectionRef.click();\n                  },\n                  children: [/*#__PURE__*/_jsx(\"p\", {\n                    className: styles.driverVehicle_UPLOADTEXT,\n                    children: this.state.inspection == '' ? 'Upload vehicle inspection' : this.state.inspection.name\n                  }), this.state.inspection == '' ? /*#__PURE__*/_jsx(BsCloudUpload, {\n                    size: '20px',\n                    style: {\n                      marginLeft: '10px',\n                      minWidth: '20px'\n                    },\n                    color: colors.WHITE\n                  }) : /*#__PURE__*/_jsx(AiOutlineCheck, {\n                    size: '20px',\n                    style: {\n                      marginLeft: '10px',\n                      minWidth: '20px'\n                    },\n                    color: colors.WHITE\n                  })]\n                })]\n              })]\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: styles.em,\n              style: {\n                textAlign: 'initial'\n              },\n              children: this.state.errorMessage\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: styles.enterKilometerDiv,\n            style: {\n              marginTop: '20px',\n              marginLeft: '2.5%',\n              width: '95%'\n            },\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: styles.button2,\n              style: {\n                backgroundColor: RED\n              },\n              id: styles.buttonBottom,\n              onClick: () => {\n                if (!this.state.loading) this.setState({\n                  addVehicle: false,\n                  errorMessage: ''\n                });\n              },\n              children: /*#__PURE__*/_jsx(\"p\", {\n                className: styles.buttonText1,\n                children: \"Cancel\"\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: styles.button2,\n              style: {\n                backgroundColor: BLUE\n              },\n              id: styles.buttonBottom,\n              onClick: () => {\n                if (!this.state.loading) {\n                  if (this.state.color == '' || this.state.model == '' || this.state.make == '' || this.state.year == '' || this.state.plateNumber == '') this.setState({\n                    errorMessage: 'Please fill all fields'\n                  });else if (this.state.inspection == '' || this.state.registration == '' || this.state.insurance == '') this.setState({\n                    errorMessage: 'Please upload all documents needed'\n                  });else if (this.state.vehicleImage == '') this.setState({\n                    errorMessage: 'Please upload an image of your vehicle. It does not have to fit perfectly in frame.'\n                  });else this.handleFileUpload();\n                }\n              },\n              children: this.state.loading ? /*#__PURE__*/_jsx(Loader, {\n                type: \"TailSpin\",\n                color: colors.WHITE,\n                height: '20px',\n                width: '20px'\n              }) : /*#__PURE__*/_jsx(\"p\", {\n                className: styles.buttonText1,\n                children: \"Add vehicle\"\n              })\n            })]\n          }), /*#__PURE__*/_jsx(\"div\", {\n            style: {\n              height: '150px',\n              width: '10px'\n            }\n          })]\n        }) : /*#__PURE__*/_jsxs(_Fragment, {\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: styles.tripPanelDesc,\n            id: styles.tripPanelCalenderCont_AV,\n            onClick: () => {\n              this.setState({\n                addVehicle: true\n              });\n            },\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: styles.tripPanelCalenderCont,\n              style: {\n                alignItems: 'center'\n              },\n              children: [/*#__PURE__*/_jsx(CgAdd, {\n                color: colors.WHITE,\n                style: {\n                  margin: '0px',\n                  minWidth: '20px',\n                  marginRight: '10px',\n                  height: '20px'\n                }\n              }), /*#__PURE__*/_jsx(\"p\", {\n                className: styles.driverVehicle_ADDAVEHICLE,\n                style: {\n                  margin: '0px',\n                  marginTop: '3px'\n                },\n                children: \"ADD A VEHICLE\"\n              })]\n            })\n          }), this.state.result ? this.state.result == 'NORESULTS' ? /*#__PURE__*/_jsxs(\"div\", {\n            className: styles.tripPanelLoading,\n            id: styles.tripPanelLoading_,\n            children: [/*#__PURE__*/_jsx(\"img\", {\n              src: \"/noResultsWoman.svg\",\n              className: styles.noResultsWoman,\n              alt: \"No Results\"\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: styles.contactUsLasttext,\n              style: {\n                width: 'initial',\n                fontSize: '90%',\n                margin: '0px'\n              },\n              id: styles.tripPanelLoadingText,\n              children: \"We can't find any vehicles in your name at the moment\"\n            })]\n          }) : vehicle : /*#__PURE__*/_jsx(\"div\", {\n            className: styles.tripPanelLoading,\n            children: /*#__PURE__*/_jsx(Loader, {\n              type: \"TailSpin\",\n              color: BLUE,\n              height: '100px',\n              width: '100px'\n            })\n          })]\n        })\n      })\n    });\n  }\n\n}\n;\n\nclass Vehicle extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"setImage\", photoRef => {\n      firebase.storage().ref(`${photoRef}`).getDownloadURL().then(result => {\n        this.setState({\n          url: result\n        });\n      }).catch(error => {\n        console.log(error.message);\n      });\n    });\n\n    this.state = {\n      verified: this.props.data.verifyStatus == 'VERIFIED',\n      url: null\n    };\n  }\n\n  componentDidMount() {\n    this.setImage(this.props.data.displayImage);\n  }\n\n  render() {\n    const data = this.props.data;\n    return /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        id: styles.tripPanelCont_,\n        style: {\n          overflow: 'hidden',\n          flexDirection: 'row'\n        },\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: styles.driverVehicle_PIC_CONT,\n          children: /*#__PURE__*/_jsx(\"img\", {\n            src: this.state.url,\n            className: styles.driverVehicle_PIC\n          })\n        }), /*#__PURE__*/_jsxs(\"p\", {\n          className: styles.driverVehicle_DESC,\n          children: [\"Color - \", data.color, /*#__PURE__*/_jsx(\"br\", {}), \"Year - \", data.year, /*#__PURE__*/_jsx(\"br\", {}), \"Make - \", data.make, /*#__PURE__*/_jsx(\"br\", {}), \"Model - \", data.model]\n        }), this.state.verified ? /*#__PURE__*/_jsxs(\"div\", {\n          id: styles.driverVehicle_VERIFYCONT,\n          style: {\n            backgroundColor: '#39A2E5'\n          },\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            id: styles.driverVehicle_VERIFYCONTTEXT,\n            children: \"Verified\"\n          }), /*#__PURE__*/_jsx(RiShieldCheckFill, {\n            className: styles.settingsVerifyOrNotIcon,\n            style: {\n              margin: '0px'\n            },\n            color: colors.WHITE\n          })]\n        }) : /*#__PURE__*/_jsxs(\"div\", {\n          id: styles.driverVehicle_VERIFYCONT,\n          style: {\n            backgroundColor: '#FF4040'\n          },\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            id: styles.driverVehicle_VERIFYCONTTEXT,\n            children: \"Verifying\"\n          }), /*#__PURE__*/_jsx(BsClockHistory, {\n            className: styles.settingsVerifyOrNotIcon,\n            style: {\n              margin: '0px'\n            },\n            color: colors.WHITE\n          })]\n        }), /*#__PURE__*/_jsx(\"p\", {\n          id: styles.driverVehiclePLATENUMBER,\n          children: data.plateNumber\n        })]\n      }), this.props.lastItem ?\n      /*#__PURE__*/\n      //just for padding at the bottom\n      _jsx(\"div\", {\n        style: {\n          height: '150px',\n          width: '100%',\n          backgroundColor: 'transparent'\n        }\n      }) : /*#__PURE__*/_jsx(_Fragment, {})]\n    });\n  }\n\n}\n\n;","map":{"version":3,"sources":["/Users/edokoh9/Documents/PerchWebsite/perch/functions/panels/driverPanels/driverVehicles.js"],"names":["axios","firebase","React","AiOutlineCamera","AiOutlineCheck","BsClockHistory","BsCloudUpload","CgAdd","RiShieldCheckFill","Loader","makeid","colors","styles","DriverVehicles","Component","constructor","props","state","userDetails","database","ref","userID","once","snapshot","setState","result","val","catch","error","console","log","message","addVehicle","make","model","year","color","plateNumber","vehicleImage","vehicleImagePreview","registration","insurance","inspection","loading","errorMessage","componentDidMount","loadResult","handleFileUpload","randomID","storage","put","post","vehicle","toUpperCase","maxSeatNumber","displayImage","documentStorageID","then","render","keys","Object","k","length","push","cont","height","paddingTop","position","container","backgroundColor","WHITE","marginTop","title","BLACK","enterKilometerDiv","inputPaymentPanel","width","margin","inputPaymentPanel_ADD","event","target","value","driver_ADD_VEHICLE_LOWER","driver_ADD_VEHICLE_IMGUPLOAD","click","driverVehicle_CAMERA","driverVehicle_CAMERATEXT","driver_ADD_VEHICLE_IMG_GL","driverVehicle_GUIDELINES_CAM","driverVehicle_GUIDELINES_CAM_TEXT","driver_ADD_VEHICLE_DOCSUPLOAD","vehicleRegistrationRef","driverVehicle_INPUT","files","size","vehicleInsuranceRef","vehicleInspectionRef","URL","createObjectURL","driverVehicle_UPLOADCONT","driverVehicle_UPLOADCONT_","driverVehicle_UPLOADTEXT","name","marginLeft","minWidth","em","textAlign","button2","RED","buttonBottom","buttonText1","BLUE","tripPanelDesc","tripPanelCalenderCont_AV","tripPanelCalenderCont","alignItems","marginRight","driverVehicle_ADDAVEHICLE","tripPanelLoading","tripPanelLoading_","noResultsWoman","contactUsLasttext","fontSize","tripPanelLoadingText","Vehicle","photoRef","getDownloadURL","url","verified","data","verifyStatus","setImage","tripPanelCont_","overflow","flexDirection","driverVehicle_PIC_CONT","driverVehicle_PIC","driverVehicle_DESC","driverVehicle_VERIFYCONT","driverVehicle_VERIFYCONTTEXT","settingsVerifyOrNotIcon","driverVehiclePLATENUMBER","lastItem"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport firebase from 'firebase';\nimport React from 'react';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { AiOutlineCamera, AiOutlineCheck } from 'react-icons/ai';\nimport { BsClockHistory, BsCloudUpload } from 'react-icons/bs';\nimport { CgAdd } from 'react-icons/cg';\nimport { RiShieldCheckFill } from 'react-icons/ri';\nimport Loader from 'react-loader-spinner';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport { makeid, colors } from '../../functions';\nimport styles from '../panel_layout.module.css';\n\n\n\nexport default class DriverVehicles extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            result: null,\n            addVehicle: false,\n            userDetails: this.props.userDetails,\n\n            make: '',\n            model: '',\n            year: '',\n            color: '',\n            plateNumber: '',\n\n\n            vehicleImage: '',\n            vehicleImagePreview: '',\n            registration: '',\n            insurance: '',\n            inspection: '',\n            loading: false,\n\n            errorMessage: '',\n        };\n\n    }\n    componentDidMount() {\n        this.loadResult();\n    };\n\n    handleFileUpload() {\n        this.setState({ loading: true, errorMessage: '' }, () => {\n            const randomID = makeid(6);\n            firebase.storage().ref(`driverVehicleDocs/${this.state.userDetails.userID}/${randomID}/vehicleRegistration`).put(this.state.registration).catch(error => { console.log(error.message) });\n            firebase.storage().ref(`driverVehicleDocs/${this.state.userDetails.userID}/${randomID}/vehicleInsurance`).put(this.state.insurance).catch(error => { console.log(error.message) });\n            firebase.storage().ref(`driverVehicleDocs/${this.state.userDetails.userID}/${randomID}/vehicleInspection`).put(this.state.inspection).catch(error => { console.log(error.message) });\n            firebase.storage().ref(`driverVehicleDocs/${this.state.userDetails.userID}/${randomID}/vehicleImage`).put(this.state.vehicleImage).catch(error => { console.log(error.message) });\n            firebase.storage().ref(`vehicles/${this.state.userDetails.userID}/${randomID}`).put(this.state.vehicleImage).catch(error => { console.log(error.message) });\n\n            axios.post('https://us-central1-perch-01.cloudfunctions.net/addVehicle', {\n                userID: this.state.userDetails.userID,\n                vehicle: {\n                    make: this.state.make,\n                    model: this.state.model,\n                    color: this.state.color,\n                    year: this.state.year,\n                    plateNumber: this.state.plateNumber.toUpperCase(),\n                    maxSeatNumber: 3,\n                    displayImage: `driverVehicleDocs/${this.state.userDetails.userID}/${randomID}/vehicleImage.jpeg`,\n                    documentStorageID: randomID,\n                },\n            })\n                .then(() => {\n                    this.setState({ errorMessage: '', loading: false, make: '', model: '', year: '', color: '', plateNumber: '', addVehicle: false }, () => { this.loadResult(); })\n                }).catch(error => { this.setState({ errorMessage: error.message, loading: false }) })\n\n\n        });\n    };\n    loadResult = () => {\n        if (this.state.userDetails)\n            firebase.database().ref(`vehicles/${this.state.userDetails.userID}`).once('value', snapshot => {\n                this.setState({ result: snapshot.val() });\n            }).catch(error => { console.log(error.message) });\n    };\n    render() {\n        if (!this.state.userDetails && this.props.userDetails)\n            this.setState({ userDetails: this.props.userDetails }, () => { this.loadResult(); });\n\n        let vehicle = [];\n        if (this.state.result) {\n            const keys = Object.keys(this.state.result);\n            for (let k = 0; k < keys.length; k++)\n                if (keys[k] != 'selected')\n                    vehicle.push(\n                        <Vehicle\n                            data={this.state.result[keys[k]]}\n                            lastItem={k == keys.length - 1}\n                        />\n                    );\n        }\n        return (\n            <>\n\n                <div className={styles.cont} style={{ height: '100%', paddingTop: '10px', position: 'relative' }}>\n                    {this.state.addVehicle ?\n                        <>\n                            <div className={styles.container} style={{ backgroundColor: colors.WHITE, marginTop: '20px' }}>\n                                <p className={styles.title} style={{ color: BLACK }}>Add a vehicle</p>\n                                <div className={styles.enterKilometerDiv} style={{ marginTop: '15px', }}>\n                                    <input type=\"text\"\n                                        placeholder={\"Vehicle Make\"}\n                                        className={styles.inputPaymentPanel}\n                                        style={{ width: '49%', margin: '0px' }} id={styles.inputPaymentPanel_ADD}\n                                        value={this.state.make}\n                                        onChange={event => { this.setState({ make: event.target.value }) }}\n                                    />\n                                    <input type=\"text\"\n                                        placeholder={\"Vehicle Model\"}\n                                        className={styles.inputPaymentPanel}\n                                        style={{ width: '49%', margin: '0px' }} id={styles.inputPaymentPanel_ADD}\n                                        value={this.state.model}\n                                        onChange={event => { this.setState({ model: event.target.value }) }} />\n                                </div>\n                                <div className={styles.enterKilometerDiv} style={{ marginTop: '10px', }}>\n                                    <input type=\"text\"\n                                        placeholder={\"Vehicle Year\"}\n                                        className={styles.inputPaymentPanel}\n                                        style={{ width: '49%', margin: '0px' }}\n                                        id={styles.inputPaymentPanel_ADD}\n                                        value={this.state.year}\n                                        onChange={event => { this.setState({ year: event.target.value }) }} />\n                                    <input type=\"text\"\n                                        placeholder={\"Vehicle Color\"}\n                                        className={styles.inputPaymentPanel}\n                                        style={{ width: '49%', margin: '0px' }}\n                                        id={styles.inputPaymentPanel_ADD}\n                                        value={this.state.color}\n                                        onChange={event => { this.setState({ color: event.target.value }) }} />\n                                </div>\n                                <input type=\"text\"\n                                    placeholder=\"Plate Number\"\n                                    className={styles.inputPaymentPanel}\n                                    id={styles.inputPaymentPanel_ADD}\n                                    style={{ marginTop: '10px' }}\n                                    value={this.state.plateNumber}\n                                    onChange={event => { this.setState({ plateNumber: event.target.value }) }} />\n                                <div className={styles.driver_ADD_VEHICLE_LOWER}>\n\n                                    {\n                                        this.state.vehicleImagePreview == '' ?\n                                            <div className={styles.driver_ADD_VEHICLE_IMGUPLOAD} onClick={() => { this.vehicleImage.click() }}>\n                                                <AiOutlineCamera className={styles.driverVehicle_CAMERA} />\n                                                <p className={styles.driverVehicle_CAMERATEXT}>\n                                                    UPLOAD A PICTURE OF YOUR VEHICLE\n                                        </p>\n                                            </div> :\n                                            <img className={styles.driver_ADD_VEHICLE_IMGUPLOAD} src={this.state.vehicleImagePreview} onClick={() => { this.vehicleImage.click() }} />\n                                    }\n                                    <a className={styles.driver_ADD_VEHICLE_IMG_GL} href='/s/articles/procedures_for_taking_a_picture'>\n                                        <img src=\"/cameraGuidelinesForPictures.svg\" className={styles.driverVehicle_GUIDELINES_CAM} />\n                                        <p className={styles.driverVehicle_GUIDELINES_CAM_TEXT}>Guidelines for taking a picture of your vehicle</p>\n                                    </a>\n                                    <div className={styles.driver_ADD_VEHICLE_DOCSUPLOAD}>\n\n                                        <input type='file'\n                                            ref={(ref) => this.vehicleRegistrationRef = ref}\n                                            className={styles.driverVehicle_INPUT}\n                                            onChange={event => {\n                                                if (event.target.files.length != 0) {\n                                                    if (((event.target.files[0].size / 1024) / 1024) > 15)\n                                                        this.setState({ errorMessage: 'File size is too large. A maximum of 15 megabytes is permitted for uploads' })\n                                                    else\n                                                        this.setState({ registration: event.target.files[0] })\n                                                }\n                                            }} />\n\n                                        <input type='file'\n                                            ref={(ref) => this.vehicleInsuranceRef = ref}\n                                            className={styles.driverVehicle_INPUT}\n                                            onChange={event => {\n                                                if (event.target.files.length != 0) {\n                                                    if (((event.target.files[0].size / 1024) / 1024) > 15)\n                                                        this.setState({ errorMessage: 'File size is too large. A maximum of 15 megabytes is permitted for uploads' })\n                                                    else\n                                                        this.setState({ insurance: event.target.files[0] })\n                                                }\n                                            }} />\n\n                                        <input type='file'\n                                            ref={(ref) => this.vehicleInspectionRef = ref}\n                                            className={styles.driverVehicle_INPUT}\n                                            onChange={event => {\n                                                if (event.target.files.length != 0) {\n                                                    if (((event.target.files[0].size / 1024) / 1024) > 15)\n                                                        this.setState({ errorMessage: 'File size is too large. A maximum of 15 megabytes is permitted for uploads' })\n                                                    else\n                                                        this.setState({ inspection: event.target.files[0] })\n                                                }\n                                            }} />\n\n                                        <input type='file'\n                                            ref={(ref) => this.vehicleImage = ref}\n                                            className={styles.driverVehicle_INPUT}\n                                            onChange={event => {\n                                                if (event.target.files.length != 0) {\n                                                    if (((event.target.files[0].size / 1024) / 1024) > 15)\n                                                        this.setState({ errorMessage: 'File size is too large. A maximum of 15 megabytes is permitted for uploads' })\n                                                    else\n                                                        this.setState({ vehicleImage: event.target.files[0], vehicleImagePreview: URL.createObjectURL(event.target.files[0]) })\n                                                }\n                                            }} />\n\n                                        <div\n                                            className={styles.driverVehicle_UPLOADCONT} id={styles.driverVehicle_UPLOADCONT_}\n                                            onClick={() => { this.vehicleRegistrationRef.click() }}>\n                                            <p className={styles.driverVehicle_UPLOADTEXT}>{this.state.registration == '' ? 'Upload vehicle registration' : this.state.registration.name}</p>\n                                            {this.state.registration == '' ?\n                                                <BsCloudUpload size={'20px'} style={{ marginLeft: '10px', minWidth: '20px' }} color={colors.WHITE} /> :\n                                                <AiOutlineCheck size={'20px'} style={{ marginLeft: '10px', minWidth: '20px' }} color={colors.WHITE} />}\n                                        </div>\n\n                                        <div\n                                            className={styles.driverVehicle_UPLOADCONT}\n                                            onClick={() => { this.vehicleInsuranceRef.click() }}>\n                                            <p className={styles.driverVehicle_UPLOADTEXT}>{this.state.insurance == '' ? 'Upload vehicle insurance' : this.state.insurance.name}</p>\n                                            {this.state.insurance == '' ?\n                                                <BsCloudUpload size={'20px'} style={{ marginLeft: '10px', minWidth: '20px' }} color={colors.WHITE} /> :\n                                                <AiOutlineCheck size={'20px'} style={{ marginLeft: '10px', minWidth: '20px' }} color={colors.WHITE} />}\n                                        </div>\n\n                                        <div\n                                            className={styles.driverVehicle_UPLOADCONT}\n                                            onClick={() => { this.vehicleInspectionRef.click() }}>\n                                            <p className={styles.driverVehicle_UPLOADTEXT}>{this.state.inspection == '' ? 'Upload vehicle inspection' : this.state.inspection.name}</p>\n                                            {this.state.inspection == '' ?\n                                                <BsCloudUpload size={'20px'} style={{ marginLeft: '10px', minWidth: '20px' }} color={colors.WHITE} /> :\n                                                <AiOutlineCheck size={'20px'} style={{ marginLeft: '10px', minWidth: '20px' }} color={colors.WHITE} />}\n                                        </div>\n                                    </div>\n                                </div>\n                                <p className={styles.em} style={{ textAlign: 'initial' }}>{this.state.errorMessage}</p>\n                            </div>\n                            <div className={styles.enterKilometerDiv} style={{ marginTop: '20px', marginLeft: '2.5%', width: '95%' }}>\n                                <div className={styles.button2} style={{ backgroundColor: RED }}\n                                    id={styles.buttonBottom}\n                                    onClick={() => {\n                                        if (!this.state.loading)\n                                            this.setState({ addVehicle: false, errorMessage: '' });\n                                    }}>\n                                    <p className={styles.buttonText1}>Cancel</p>\n                                </div>\n                                <div className={styles.button2} style={{ backgroundColor: BLUE }} id={styles.buttonBottom}\n                                    onClick={() => {\n                                        if (!this.state.loading) {\n                                            if (this.state.color == '' || this.state.model == '' || this.state.make == '' || this.state.year == '' || this.state.plateNumber == '')\n                                                this.setState({ errorMessage: 'Please fill all fields' });\n                                            else if (this.state.inspection == '' || this.state.registration == '' || this.state.insurance == '')\n                                                this.setState({ errorMessage: 'Please upload all documents needed' });\n                                            else if (this.state.vehicleImage == '')\n                                                this.setState({ errorMessage: 'Please upload an image of your vehicle. It does not have to fit perfectly in frame.' });\n                                            else\n                                                this.handleFileUpload();\n                                        }\n                                    }}>\n                                    {this.state.loading ?\n                                        <Loader\n                                            type=\"TailSpin\"\n                                            color={colors.WHITE}\n                                            height={'20px'}\n                                            width={'20px'}\n                                        /> :\n                                        <p className={styles.buttonText1}>Add vehicle</p>}\n                                </div>\n                            </div>\n                            <div style={{ height: '150px', width: '10px' }}></div>\n                        </> :\n                        <>\n                            <div className={styles.tripPanelDesc} id={styles.tripPanelCalenderCont_AV} onClick={() => { this.setState({ addVehicle: true }) }}>\n                                <div className={styles.tripPanelCalenderCont} style={{ alignItems: 'center', }}>\n                                    <CgAdd color={colors.WHITE} style={{ margin: '0px', minWidth: '20px', marginRight: '10px', height: '20px' }} />\n                                    <p className={styles.driverVehicle_ADDAVEHICLE} style={{ margin: '0px', marginTop: '3px' }}>ADD A VEHICLE</p>\n                                </div>\n                            </div>\n\n                            {this.state.result ?\n                                this.state.result == 'NORESULTS' ?\n                                    <div className={styles.tripPanelLoading} id={styles.tripPanelLoading_}>\n                                        <img src=\"/noResultsWoman.svg\" className={styles.noResultsWoman} alt=\"No Results\" />\n                                        <p className={styles.contactUsLasttext} style={{ width: 'initial', fontSize: '90%', margin: '0px' }} id={styles.tripPanelLoadingText}>\n                                            We can't find any vehicles in your name at the moment\n                                </p>\n                                    </div> :\n                                    vehicle :\n                                <div className={styles.tripPanelLoading}>\n                                    <Loader\n                                        type=\"TailSpin\"\n                                        color={BLUE}\n                                        height={'100px'}\n                                        width={'100px'}\n                                    />\n                                </div>}\n                        </>}\n                </div>\n            </>\n        );\n    }\n};\nclass Vehicle extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            verified: this.props.data.verifyStatus == 'VERIFIED',\n            url: null,\n        }\n    }\n    componentDidMount() {\n        this.setImage(this.props.data.displayImage);\n    };\n    setImage = (photoRef) => {\n        firebase.storage().ref(`${photoRef}`).getDownloadURL()\n            .then(result => {\n                this.setState({ url: result })\n            }).catch(error => { console.log(error.message) });\n    };\n    render() {\n        const data = this.props.data;\n        return (\n            <>\n                <div id={styles.tripPanelCont_} style={{ overflow: 'hidden', flexDirection: 'row' }}>\n                    <div className={styles.driverVehicle_PIC_CONT}>\n                        <img src={this.state.url} className={styles.driverVehicle_PIC} />\n                    </div>\n                    <p className={styles.driverVehicle_DESC}>\n                        Color - {data.color}<br />\n                        Year - {data.year}<br />\n                        Make - {data.make}<br />\n                        Model - {data.model}\n                    </p>\n                    {this.state.verified ?\n                        <div id={styles.driverVehicle_VERIFYCONT} style={{ backgroundColor: '#39A2E5' }}>\n                            <p id={styles.driverVehicle_VERIFYCONTTEXT}>Verified</p>\n                            <RiShieldCheckFill className={styles.settingsVerifyOrNotIcon} style={{ margin: '0px' }} color={colors.WHITE} />\n                        </div>\n                        :\n                        <div id={styles.driverVehicle_VERIFYCONT} style={{ backgroundColor: '#FF4040' }}>\n                            <p id={styles.driverVehicle_VERIFYCONTTEXT}>Verifying</p>\n                            <BsClockHistory className={styles.settingsVerifyOrNotIcon} style={{ margin: '0px' }} color={colors.WHITE} />\n                        </div>}\n                    <p id={styles.driverVehiclePLATENUMBER}>{data.plateNumber}</p>\n                </div>\n                {\n                    this.props.lastItem ?//just for padding at the bottom\n                        <div style={{ height: '150px', width: '100%', backgroundColor: 'transparent' }}></div>\n                        : <></>\n                }\n            </>\n        );\n    }\n};"]},"metadata":{},"sourceType":"module"}