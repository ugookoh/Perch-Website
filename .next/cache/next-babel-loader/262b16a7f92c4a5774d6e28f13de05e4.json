{"ast":null,"code":"import firebase from 'firebase';\nimport React from 'react';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport { colors } from '../../functions';\nimport styles from '../panel_layout.module.css';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default class AdminDashBoard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sharedLinks: true,\n      userDetails: this.props.userDetails,\n      numberOfDriverApplications: 0,\n      unansweredMessages: 0,\n      unansweredDriverMessages: 0,\n      numberOVehicleAdditionRequest: 0,\n      numberOfCancelledTrips: 0\n    };\n  }\n\n  componentDidMount() {\n    firebase.database().ref(`analytics/numberOfUserFeedbackMessages`).on('value', snapshot => {\n      this.setState({\n        unansweredMessages: snapshot.val()\n      });\n    });\n    firebase.database().ref(`analytics/numberOfCancelledTrips`).on('value', snapshot => {\n      this.setState({\n        numberOfCancelledTrips: snapshot.val()\n      });\n    });\n    firebase.database().ref(`analytics/numberOfDriverFeedbackMessages`).on('value', snapshot => {\n      this.setState({\n        unansweredDriverMessages: snapshot.val()\n      });\n    });\n    firebase.database().ref(`analytics/numberOVehicleAdditionRequest`).on('value', snapshot => {\n      this.setState({\n        unansweredDriverMessages: snapshot.val()\n      });\n    });\n    firebase.database().ref(`analytics/numberOfDriverApplications`).on('value', snapshot => {\n      this.setState({\n        numberOfDriverApplications: snapshot.val()\n      });\n    });\n  }\n\n  render() {\n    const unixTime = new Date().getTime();\n    const weekInMilliSecs = 604800 * 1000;\n    const sundayBuffer = 345600 * 1000;\n    const weekNumber = Math.floor(unixTime / weekInMilliSecs);\n    const dateOfWeekBeginning = weekNumber * weekInMilliSecs - sundayBuffer;\n    const dateOfWeekEnding = (weekNumber + 1) * weekInMilliSecs - sundayBuffer - 1;\n\n    const _5MinsAfterWeekBeginning = dateOfWeekBeginning + 5 * 60000;\n\n    console.log(\"weekNumber\", weekNumber);\n    console.log(\"dateOfWeekBeginning\", dateOfWeekBeginning);\n    console.log(\"_5MinsAfterWeekBeginning\", _5MinsAfterWeekBeginning);\n    return /*#__PURE__*/_jsxs(\"div\", {\n      className: styles.cont,\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: styles.container,\n        style: {\n          backgroundColor: colors.WHITE,\n          marginTop: '20px'\n        },\n        children: [this.props.title == 'OH' ? /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.enterKilometerDiv,\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: styles.title,\n            style: {\n              color: colors.BLACK,\n              width: 'initial'\n            },\n            children: \"Overall history\"\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            className: styles.driverDashboard_BOXTITLE,\n            style: {\n              margin: '0px',\n              textAlign: 'center',\n              marginLeft: '20px'\n            },\n            children: [/*#__PURE__*/_jsx(\"span\", {\n              id: styles.driverDashboard_HALFDATE,\n              children: `Joined 09/2019`\n            }), /*#__PURE__*/_jsx(\"span\", {\n              id: styles.driverDashboard_FULLDATE,\n              children: `Joined September 2019`\n            })]\n          })]\n        }) : /*#__PURE__*/_jsx(\"p\", {\n          className: styles.title,\n          style: {\n            color: colors.BLACK\n          },\n          children: \"Breakdown\"\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.driverDashboardCont,\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: styles.driverDashboard_TE,\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: styles.driverDashboard_BOX,\n              style: {\n                alignItems: 'flex-start',\n                marginLeft: '0px'\n              },\n              children: [/*#__PURE__*/_jsx(\"p\", {\n                className: styles.driverDashboard_BOXTITLE,\n                children: \"Total number of users\"\n              }), /*#__PURE__*/_jsx(\"p\", {\n                className: styles.driverDashboard_BOXTEXT,\n                style: {\n                  color: colors.GREEN\n                },\n                children: \"1672\"\n              })]\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: styles.sharedLine,\n            style: {\n              width: '95%',\n              backgroundColor: 'rgba(112, 112, 112, 0.19)'\n            }\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: styles.driverDashboard_TE,\n            style: {\n              marginBottom: '15px'\n            },\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              className: styles.driverDashboard_BOX,\n              style: {\n                marginLeft: '0px'\n              },\n              children: [/*#__PURE__*/_jsx(\"p\", {\n                className: styles.driverDashboard_BOXTITLE,\n                children: \"Completed trips\"\n              }), /*#__PURE__*/_jsx(\"p\", {\n                className: styles.driverDashboard_BOXTEXT,\n                children: \"7\"\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: styles.driverDashboard_BOX,\n              children: [/*#__PURE__*/_jsx(\"p\", {\n                className: styles.driverDashboard_BOXTITLE,\n                children: \"Unread feedback\"\n              }), /*#__PURE__*/_jsx(\"p\", {\n                className: styles.driverDashboard_BOXTEXT,\n                style: {\n                  color: colors.RED\n                },\n                children: \"328\"\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: styles.driverDashboard_BOX,\n              children: [/*#__PURE__*/_jsx(\"p\", {\n                className: styles.driverDashboard_BOXTITLE,\n                children: \"Rider cancellations\"\n              }), /*#__PURE__*/_jsx(\"p\", {\n                className: styles.driverDashboard_BOXTEXT,\n                children: \"17\"\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: styles.driverDashboard_BOX,\n              children: [/*#__PURE__*/_jsx(\"p\", {\n                className: styles.driverDashboard_BOXTITLE,\n                children: \"Driver cancellations\"\n              }), /*#__PURE__*/_jsx(\"p\", {\n                className: styles.driverDashboard_BOXTEXT,\n                style: {\n                  color: colors.RED\n                },\n                children: \"3\"\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: styles.driverDashboard_BOX,\n              style: {\n                marginRight: '0px'\n              },\n              children: [/*#__PURE__*/_jsx(\"p\", {\n                className: styles.driverDashboard_BOXTITLE,\n                children: \"Number of deleted accounts\"\n              }), /*#__PURE__*/_jsx(\"p\", {\n                className: styles.driverDashboard_BOXTEXT,\n                style: {},\n                children: \"132\"\n              })]\n            })]\n          })]\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.container,\n        style: {\n          backgroundColor: colors.GREEN,\n          marginTop: '20px'\n        },\n        children: [/*#__PURE__*/_jsx(\"p\", {\n          className: styles.title,\n          style: {\n            color: colors.WHITE\n          },\n          children: \"New driver applications\"\n        }), /*#__PURE__*/_jsxs(\"p\", {\n          className: styles.text,\n          style: {\n            color: colors.WHITE\n          },\n          children: [\"You have \", this.state.numberOfDriverApplications, \" new driver applications left\"]\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.container,\n        style: {\n          backgroundColor: colors.GREEN,\n          marginTop: '20px'\n        },\n        children: [/*#__PURE__*/_jsx(\"p\", {\n          className: styles.title,\n          style: {\n            color: colors.WHITE\n          },\n          children: \"New vehicle applications\"\n        }), /*#__PURE__*/_jsxs(\"p\", {\n          className: styles.text,\n          style: {\n            color: colors.WHITE\n          },\n          children: [\"You have \", this.state.numberOVehicleAdditionRequest, \" new vehicle applications left\"]\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.container,\n        style: {\n          backgroundColor: colors.GREEN,\n          marginTop: '20px'\n        },\n        children: [/*#__PURE__*/_jsx(\"p\", {\n          className: styles.title,\n          style: {\n            color: colors.WHITE\n          },\n          children: \"Unanswered messages\"\n        }), /*#__PURE__*/_jsxs(\"p\", {\n          className: styles.text,\n          style: {\n            color: colors.WHITE\n          },\n          children: [\"You have \", this.state.unansweredMessages, \" unaswered messages\"]\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.container,\n        style: {\n          backgroundColor: colors.GREEN,\n          marginTop: '20px'\n        },\n        children: [/*#__PURE__*/_jsx(\"p\", {\n          className: styles.title,\n          style: {\n            color: colors.WHITE\n          },\n          children: \"Unanswered driver messages\"\n        }), /*#__PURE__*/_jsxs(\"p\", {\n          className: styles.text,\n          style: {\n            color: colors.WHITE\n          },\n          children: [\"You have \", this.state.unansweredDriverMessages, \" unaswered driver messages\"]\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.container,\n        style: {\n          backgroundColor: colors.GREEN,\n          marginTop: '20px'\n        },\n        children: [/*#__PURE__*/_jsx(\"p\", {\n          className: styles.title,\n          style: {\n            color: colors.WHITE\n          },\n          children: \"Cancelled trips\"\n        }), /*#__PURE__*/_jsxs(\"p\", {\n          className: styles.text,\n          style: {\n            color: colors.WHITE\n          },\n          children: [\"You have \", this.state.numberOfCancelledTrips, \" unresolved cancelled trips\"]\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        style: {\n          backgroundColor: colors.WHITE,\n          marginTop: '20px',\n          marginBottom: '150px'\n        }\n      })]\n    });\n  }\n\n}\n;","map":null,"metadata":{},"sourceType":"module"}