{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//admin dashboard\nimport React, { Component } from 'react';\nimport styles from './layout.module.css';\nimport Head from 'next/head';\nimport { ImExit } from \"react-icons/im\";\nimport { Logo, DashboardIcons } from '../../functions/images/vectors';\nimport { TiMessages } from 'react-icons/ti';\nimport { HiOutlineMail } from 'react-icons/hi';\nimport { BsConeStriped, BsListCheck } from 'react-icons/bs';\nimport { GoCreditCard } from 'react-icons/go';\nimport { BiCar } from 'react-icons/bi';\nimport Router from 'next/router';\nimport { AdminDashBoard, SendAnEmail, UnreadMessages, CancelledTrips, VehicleApplications, DriverApplications, Payments, ListOfRiders, ListOfDrivers, Settings } from '../../functions/panels/panels';\nimport { signOut } from '../../functions/functions';\nimport firebase from 'firebase';\nimport LoadingScreen from '../components/loadingScreen/loadingScreen';\nexport default class index extends React.Component {\n  constructor() {\n    super();\n\n    _defineProperty(this, \"setImage\", photoRef => {\n      firebase.storage().ref(`${photoRef}`).getDownloadURL().then(result => {\n        this.setState({\n          url: result\n        });\n      }).catch(error => {\n        console.log(error.message);\n      });\n    });\n\n    _defineProperty(this, \"updateWindowDimensions\", () => {\n      this.setState({\n        width: window.innerWidth,\n        height: window.innerHeight\n      });\n    });\n\n    _defineProperty(this, \"navigate\", x => {\n      switch (x) {\n        case 'db':\n          {\n            this.setState({\n              optionCode: 'db'\n            });\n          }\n          break;\n\n        case 'um':\n          {\n            this.setState({\n              optionCode: 'um'\n            });\n          }\n          break;\n\n        case 'se':\n          {\n            this.setState({\n              optionCode: 'se'\n            });\n          }\n          break;\n\n        case 'ct':\n          {\n            this.setState({\n              optionCode: 'ct'\n            });\n          }\n          break;\n\n        case 'va':\n          {\n            this.setState({\n              optionCode: 'va'\n            });\n          }\n          break;\n\n        case 'da':\n          {\n            this.setState({\n              optionCode: 'da'\n            });\n          }\n          break;\n\n        case 'pa':\n          {\n            this.setState({\n              optionCode: 'pa'\n            });\n          }\n          break;\n\n        case 'lr':\n          {\n            this.setState({\n              optionCode: 'lr'\n            });\n          }\n          break;\n\n        case 'ld':\n          {\n            this.setState({\n              optionCode: 'ld'\n            });\n          }\n          break;\n\n        case 'ss':\n          {\n            this.setState({\n              optionCode: 'ss'\n            });\n          }\n          break;\n      }\n    });\n\n    this.state = {\n      optionCode: 'db',\n      width: 0,\n      height: 0,\n      loggedIn: 'NULL',\n      userDetails: null,\n      url: null\n    };\n  }\n\n  componentDidMount() {\n    this.updateWindowDimensions();\n    window.addEventListener('resize', this.updateWindowDimensions);\n    firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        firebase.database().ref(`users/${user.uid}`).once('value', snapshot => {\n          this.setState({\n            userDetails: snapshot.val()\n          });\n          this.setImage(snapshot.val().photoRef);\n        }).catch(error => {\n          console.log(error.message);\n        });\n        firebase.database().ref(`adminAuthorized/${user.uid}`).once(`value`, snapshot => {\n          if (snapshot.val()) this.setState({\n            loggedIn: 'TRUE'\n          });else this.setState({\n            loggedIn: 'FALSE'\n          });\n        }).catch(error => {\n          this.setState({\n            loggedIn: 'FALSE'\n          });\n        });\n      } else this.setState({\n        loggedIn: 'FALSE'\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.updateWindowDimensions);\n  }\n\n  render() {\n    if (this.state.loggedIn == 'FALSE') Router.push('/admin');\n    if (this.state.loggedIn != 'TRUE') return /*#__PURE__*/_jsx(LoadingScreen, {});\n    let option = '';\n\n    let content = /*#__PURE__*/_jsx(_Fragment, {});\n\n    switch (this.state.optionCode) {\n      case 'db':\n        {\n          option = 'Dashboard';\n          content = /*#__PURE__*/_jsx(AdminDashBoard, {\n            userDetails: this.state.userDetails\n          });\n        }\n        break;\n\n      case 'um':\n        {\n          option = 'Unread Messages';\n          content = /*#__PURE__*/_jsx(UnreadMessages, {\n            userDetails: this.state.userDetails\n          });\n        }\n        break;\n\n      case 'se':\n        {\n          option = 'Send an Email';\n          content = /*#__PURE__*/_jsx(SendAnEmail, {\n            userDetails: this.state.userDetails\n          });\n        }\n        break;\n\n      case 'ct':\n        {\n          option = 'Cancelled Trips';\n          content = /*#__PURE__*/_jsx(CancelledTrips, {\n            userDetails: this.state.userDetails\n          });\n        }\n        break;\n\n      case 'va':\n        {\n          option = 'Vehicle Applications';\n          content = /*#__PURE__*/_jsx(VehicleApplications, {\n            userDetails: this.state.userDetails\n          });\n        }\n        break;\n\n      case 'da':\n        {\n          option = 'Driver Applications';\n          content = /*#__PURE__*/_jsx(DriverApplications, {\n            userDetails: this.state.userDetails\n          });\n        }\n        break;\n\n      case 'pa':\n        {\n          option = 'Payments';\n          content = /*#__PURE__*/_jsx(Payments, {\n            userDetails: this.state.userDetails\n          });\n        }\n        break;\n\n      case 'lr':\n        {\n          option = 'List of Riders';\n          content = /*#__PURE__*/_jsx(ListOfRiders, {\n            userDetails: this.state.userDetails\n          });\n        }\n        break;\n\n      case 'ld':\n        {\n          option = 'List of Drivers';\n          content = /*#__PURE__*/_jsx(ListOfDrivers, {\n            userDetails: this.state.userDetails\n          });\n        }\n        break;\n\n      case 'ss':\n        {\n          option = 'Settings';\n          content = /*#__PURE__*/_jsx(Settings, {\n            userDetails: this.state.userDetails\n          });\n        }\n        break;\n    }\n\n    return /*#__PURE__*/_jsxs(\"div\", {\n      className: styles.container,\n      style: {\n        height: this.state.height != 0 ? this.state.height : '100vh'\n      },\n      children: [/*#__PURE__*/_jsxs(Head, {\n        children: [/*#__PURE__*/_jsx(\"html\", {\n          lang: \"en\"\n        }), /*#__PURE__*/_jsx(\"title\", {\n          children: \"Admin Dashboard | Perch\"\n        }), /*#__PURE__*/_jsx(\"meta\", {\n          name: \"viewport\",\n          content: \"width=device-width, initial-scale=1\"\n        }), /*#__PURE__*/_jsx(\"link\", {\n          rel: \"icon\",\n          href: \"/favicon.ico\"\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.header,\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: styles.logoBox,\n          children: /*#__PURE__*/_jsx(\"div\", {\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: styles.logo,\n              children: /*#__PURE__*/_jsx(Logo, {\n                color: '#FFFFFF'\n              })\n            })\n          })\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.optionShadowBox,\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: styles.optionTitle,\n            children: option\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: styles.textRow1,\n            children: [this.state.userDetails ? /*#__PURE__*/_jsxs(_Fragment, {\n              children: [this.state.url ? /*#__PURE__*/_jsx(\"img\", {\n                src: this.state.url,\n                className: styles.dp,\n                style: {\n                  objectFit: 'cover',\n                  borderWidth: '0px'\n                }\n              }) : /*#__PURE__*/_jsx(\"div\", {\n                className: styles.dp\n              }), /*#__PURE__*/_jsx(\"p\", {\n                className: styles.text_,\n                children: `Hello, ${this.state.userDetails.firstName}`\n              })]\n            }) : /*#__PURE__*/_jsx(_Fragment, {}), /*#__PURE__*/_jsx(\"a\", {\n              className: styles.link_,\n              children: /*#__PURE__*/_jsx(\"p\", {\n                className: styles.text,\n                children: \"How it works\"\n              })\n            }), /*#__PURE__*/_jsx(\"a\", {\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: styles.circle,\n                onClick: () => {\n                  signOut.call(this, true);\n                },\n                children: /*#__PURE__*/_jsx(ImExit, {\n                  color: '#FFFFFF',\n                  className: styles.logOut\n                })\n              })\n            })]\n          })]\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.body,\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: styles.couple,\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: styles.column,\n            children: [/*#__PURE__*/_jsx(\"a\", {\n              onClick: () => {\n                this.navigate('db');\n              },\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: this.state.optionCode == 'db' ? styles.optionIcon_Selected : styles.optionIcon,\n                children: /*#__PURE__*/_jsx(\"div\", {\n                  className: styles.db,\n                  children: /*#__PURE__*/_jsx(DashboardIcons, {\n                    icon: 'db'\n                  })\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"a\", {\n              onClick: () => {\n                this.navigate('um');\n              },\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: this.state.optionCode == 'um' ? styles.optionIcon_Selected : styles.optionIcon,\n                children: /*#__PURE__*/_jsx(\"div\", {\n                  className: styles.th,\n                  children: /*#__PURE__*/_jsx(TiMessages, {\n                    color: \"#ffffff\",\n                    size: '27.26px'\n                  })\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"a\", {\n              onClick: () => {\n                this.navigate('se');\n              },\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: this.state.optionCode == 'se' ? styles.optionIcon_Selected : styles.optionIcon,\n                children: /*#__PURE__*/_jsx(\"div\", {\n                  className: styles.pw,\n                  children: /*#__PURE__*/_jsx(HiOutlineMail, {\n                    color: \"#ffffff\",\n                    size: '27.26px'\n                  })\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"a\", {\n              onClick: () => {\n                this.navigate('ct');\n              },\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: this.state.optionCode == 'ct' ? styles.optionIcon_Selected : styles.optionIcon,\n                children: /*#__PURE__*/_jsx(\"div\", {\n                  className: styles.cu,\n                  children: /*#__PURE__*/_jsx(BsConeStriped, {\n                    color: \"#ffffff\",\n                    size: '27.26px'\n                  })\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"a\", {\n              onClick: () => {\n                this.navigate('va');\n              },\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: this.state.optionCode == 'va' ? styles.optionIcon_Selected : styles.optionIcon,\n                children: /*#__PURE__*/_jsx(\"div\", {\n                  className: styles.db,\n                  children: /*#__PURE__*/_jsx(BiCar, {\n                    color: \"#ffffff\",\n                    size: '27.26px'\n                  })\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"a\", {\n              onClick: () => {\n                this.navigate('da');\n              },\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: this.state.optionCode == 'da' ? styles.optionIcon_Selected : styles.optionIcon,\n                children: /*#__PURE__*/_jsx(\"div\", {\n                  className: styles.th,\n                  children: /*#__PURE__*/_jsx(BsListCheck, {\n                    color: \"#ffffff\",\n                    size: '27.26px'\n                  })\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"a\", {\n              onClick: () => {\n                this.navigate('pa');\n              },\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: this.state.optionCode == 'pa' ? styles.optionIcon_Selected : styles.optionIcon,\n                children: /*#__PURE__*/_jsx(\"div\", {\n                  className: styles.pw,\n                  children: /*#__PURE__*/_jsx(GoCreditCard, {\n                    color: \"#ffffff\",\n                    size: '27.26px'\n                  })\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"a\", {\n              onClick: () => {\n                this.navigate('lr');\n              },\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: this.state.optionCode == 'lr' ? styles.optionIcon_Selected : styles.optionIcon,\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  style: {\n                    fontFamily: 'Gilroy-ExtraBold',\n                    color: '#FFFFFF',\n                    fontSize: '120%',\n                    margin: '0px'\n                  },\n                  children: \"RI\"\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"a\", {\n              onClick: () => {\n                this.navigate('ld');\n              },\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: this.state.optionCode == 'ss' ? styles.optionIcon_Selected : styles.optionIcon,\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  style: {\n                    fontFamily: 'Gilroy-ExtraBold',\n                    color: '#FFFFFF',\n                    fontSize: '120%',\n                    margin: '0px'\n                  },\n                  children: \"DR\"\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"a\", {\n              onClick: () => {\n                this.navigate('ss');\n              },\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: this.state.optionCode == 'ss' ? styles.optionIcon_Selected : styles.optionIcon,\n                children: /*#__PURE__*/_jsx(\"div\", {\n                  className: styles.ss,\n                  children: /*#__PURE__*/_jsx(DashboardIcons, {\n                    icon: 'ss'\n                  })\n                })\n              })\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: styles.optionList,\n            children: [/*#__PURE__*/_jsx(\"a\", {\n              onClick: () => {\n                this.navigate('db');\n              },\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: this.state.optionCode == 'db' ? styles.optionDescriptionCont_Selected : styles.optionDescriptionCont,\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.optionDescription,\n                  children: \"Dashboard\"\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"a\", {\n              onClick: () => {\n                this.navigate('um');\n              },\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: this.state.optionCode == 'um' ? styles.optionDescriptionCont_Selected : styles.optionDescriptionCont,\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.optionDescription,\n                  children: \"Unread Messages\"\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"a\", {\n              onClick: () => {\n                this.navigate('se');\n              },\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: this.state.optionCode == 'se' ? styles.optionDescriptionCont_Selected : styles.optionDescriptionCont,\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.optionDescription,\n                  children: \"Send an Email\"\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"a\", {\n              onClick: () => {\n                this.navigate('ct');\n              },\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: this.state.optionCode == 'ct' ? styles.optionDescriptionCont_Selected : styles.optionDescriptionCont,\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.optionDescription,\n                  children: \"Cancelled trips\"\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"a\", {\n              onClick: () => {\n                this.navigate('va');\n              },\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: this.state.optionCode == 'va' ? styles.optionDescriptionCont_Selected : styles.optionDescriptionCont,\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.optionDescription,\n                  children: \"Vehicle Application\"\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"a\", {\n              onClick: () => {\n                this.navigate('da');\n              },\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: this.state.optionCode == 'da' ? styles.optionDescriptionCont_Selected : styles.optionDescriptionCont,\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.optionDescription,\n                  children: \"Driver Application\"\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"a\", {\n              onClick: () => {\n                this.navigate('pa');\n              },\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: this.state.optionCode == 'pa' ? styles.optionDescriptionCont_Selected : styles.optionDescriptionCont,\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.optionDescription,\n                  children: \"Payments\"\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"a\", {\n              onClick: () => {\n                this.navigate('lr');\n              },\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: this.state.optionCode == 'lr' ? styles.optionDescriptionCont_Selected : styles.optionDescriptionCont,\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.optionDescription,\n                  children: \"List of Riders\"\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"a\", {\n              onClick: () => {\n                this.navigate('ld');\n              },\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: this.state.optionCode == 'ld' ? styles.optionDescriptionCont_Selected : styles.optionDescriptionCont,\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.optionDescription,\n                  children: \"List of Drivers\"\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"a\", {\n              onClick: () => {\n                this.navigate('ss');\n              },\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: this.state.optionCode == 'ss' ? styles.optionDescriptionCont_Selected : styles.optionDescriptionCont,\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.optionDescription,\n                  children: \"Settings\"\n                })\n              })\n            })]\n          })]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: styles.content,\n          children: content\n        })]\n      })]\n    });\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}