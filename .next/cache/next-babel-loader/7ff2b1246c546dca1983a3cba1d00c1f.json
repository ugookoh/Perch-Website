{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport firebase from 'firebase';\nimport React from 'react';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport { colors } from '../../functions';\nimport styles from '../panel_layout.module.css';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar AdminDashBoard = /*#__PURE__*/function (_React$Component) {\n  _inherits(AdminDashBoard, _React$Component);\n\n  var _super = _createSuper(AdminDashBoard);\n\n  function AdminDashBoard(props) {\n    var _this;\n\n    _classCallCheck(this, AdminDashBoard);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      sharedLinks: true,\n      userDetails: _this.props.userDetails,\n      numberOfDriverApplications: 0,\n      unansweredMessages: 0,\n      unansweredDriverMessages: 0,\n      numberOVehicleAdditionRequest: 0,\n      numberOfCancelledTrips: 0,\n      allTimeAnalytics: {},\n      weeklyAnalytics: {}\n    };\n    return _this;\n  }\n\n  _createClass(AdminDashBoard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      firebase.database().ref(\"analytics/numberOfUserFeedbackMessages\").on('value', function (snapshot) {\n        _this2.setState({\n          unansweredMessages: snapshot.val()\n        });\n      });\n      firebase.database().ref(\"analytics/numberOfCancelledTrips\").on('value', function (snapshot) {\n        _this2.setState({\n          numberOfCancelledTrips: snapshot.val()\n        });\n      });\n      firebase.database().ref(\"analytics/numberOfDriverFeedbackMessages\").on('value', function (snapshot) {\n        _this2.setState({\n          unansweredDriverMessages: snapshot.val()\n        });\n      });\n      firebase.database().ref(\"analytics/numberOVehicleAdditionRequest\").on('value', function (snapshot) {\n        _this2.setState({\n          unansweredDriverMessages: snapshot.val()\n        });\n      });\n      firebase.database().ref(\"analytics/numberOfDriverApplications\").on('value', function (snapshot) {\n        _this2.setState({\n          numberOfDriverApplications: snapshot.val()\n        });\n      });\n      firebase.database().ref(\"analytics/allTimeAnalytics/admin\").once('value', function (snapshot) {\n        _this2.setState({\n          allTimeAnalytics: snapshot.val()\n        });\n      });\n      firebase.database().ref(\"currentWeek/value\").once('value', function (week) {\n        firebase.database().ref(\"analytics/weeklyAnalytics/\".concat(week.val(), \"/admin\")).once('value', function (snapshot) {\n          _this2.setState({\n            weeklyAnalytics: snapshot.val()\n          });\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.cont,\n        children: [/*#__PURE__*/_jsx(AdminDashSummary, {\n          title: 'WH',\n          data: this.state.weeklyAnalytics\n        }), /*#__PURE__*/_jsx(AdminDashSummary, {\n          title: 'OH',\n          data: this.state.allTimeAnalytics\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.container,\n          style: {\n            backgroundColor: colors.GREEN,\n            marginTop: '20px'\n          },\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: styles.title,\n            style: {\n              color: colors.WHITE\n            },\n            children: \"New driver applications\"\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            className: styles.text,\n            style: {\n              color: colors.WHITE\n            },\n            children: [\"You have \", this.state.numberOfDriverApplications, \" new driver applications left\"]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.container,\n          style: {\n            backgroundColor: colors.GREEN,\n            marginTop: '20px'\n          },\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: styles.title,\n            style: {\n              color: colors.WHITE\n            },\n            children: \"New vehicle applications\"\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            className: styles.text,\n            style: {\n              color: colors.WHITE\n            },\n            children: [\"You have \", this.state.numberOVehicleAdditionRequest, \" new vehicle applications left\"]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.container,\n          style: {\n            backgroundColor: colors.GREEN,\n            marginTop: '20px'\n          },\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: styles.title,\n            style: {\n              color: colors.WHITE\n            },\n            children: \"Unanswered messages\"\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            className: styles.text,\n            style: {\n              color: colors.WHITE\n            },\n            children: [\"You have \", this.state.unansweredMessages, \" unaswered messages\"]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.container,\n          style: {\n            backgroundColor: colors.GREEN,\n            marginTop: '20px'\n          },\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: styles.title,\n            style: {\n              color: colors.WHITE\n            },\n            children: \"Unanswered driver messages\"\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            className: styles.text,\n            style: {\n              color: colors.WHITE\n            },\n            children: [\"You have \", this.state.unansweredDriverMessages, \" unaswered driver messages\"]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.container,\n          style: {\n            backgroundColor: colors.GREEN,\n            marginTop: '20px'\n          },\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: styles.title,\n            style: {\n              color: colors.WHITE\n            },\n            children: \"Cancelled trips\"\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            className: styles.text,\n            style: {\n              color: colors.WHITE\n            },\n            children: [\"You have \", this.state.numberOfCancelledTrips, \" unresolved cancelled trips\"]\n          })]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          style: {\n            backgroundColor: colors.WHITE,\n            marginTop: '20px',\n            marginBottom: '150px'\n          }\n        })]\n      });\n    }\n  }]);\n\n  return AdminDashBoard;\n}(React.Component);\n\nexport { AdminDashBoard as default };\n;\n\nvar AdminDashSummary = function AdminDashSummary(_ref) {\n  var _data, _data2, _data3, _data3$cancelledTrips, _data4, _data4$cancelledTrips, _data5;\n\n  var title = _ref.title;\n\n  var rendervalid = function rendervalid(x) {\n    if (x) return x;else return 0;\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: styles.container,\n    style: {\n      backgroundColor: colors.WHITE,\n      marginTop: '20px'\n    },\n    children: [title == 'OH' ? /*#__PURE__*/_jsxs(\"div\", {\n      className: styles.enterKilometerDiv,\n      children: [/*#__PURE__*/_jsx(\"p\", {\n        className: styles.title,\n        style: {\n          color: colors.BLACK,\n          width: 'initial'\n        },\n        children: \"Overall history\"\n      }), /*#__PURE__*/_jsxs(\"p\", {\n        className: styles.driverDashboard_BOXTITLE,\n        style: {\n          margin: '0px',\n          textAlign: 'center',\n          marginLeft: '20px'\n        },\n        children: [/*#__PURE__*/_jsx(\"span\", {\n          id: styles.driverDashboard_HALFDATE,\n          children: \"Joined 09/2019\"\n        }), /*#__PURE__*/_jsx(\"span\", {\n          id: styles.driverDashboard_FULLDATE,\n          children: \"Joined September 2019\"\n        })]\n      })]\n    }) : /*#__PURE__*/_jsx(\"p\", {\n      className: styles.title,\n      style: {\n        color: colors.BLACK\n      },\n      children: \"Weekly History\"\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: styles.driverDashboardCont,\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: styles.driverDashboard_TE,\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.driverDashboard_BOX,\n          style: {\n            alignItems: 'flex-start',\n            marginLeft: '0px'\n          },\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: styles.driverDashboard_BOXTITLE,\n            children: \"Total number of users\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: styles.driverDashboard_BOXTEXT,\n            style: {\n              color: colors.GREEN\n            },\n            children: rendervalid((_data = data) === null || _data === void 0 ? void 0 : _data.numberOfUsers)\n          })]\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: styles.sharedLine,\n        style: {\n          width: '95%',\n          backgroundColor: 'rgba(112, 112, 112, 0.19)'\n        }\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.driverDashboard_TE,\n        style: {\n          marginBottom: '15px'\n        },\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: styles.driverDashboard_BOX,\n          style: {\n            marginLeft: '0px'\n          },\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: styles.driverDashboard_BOXTITLE,\n            children: \"Completed trips\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: styles.driverDashboard_BOXTEXT,\n            children: rendervalid((_data2 = data) === null || _data2 === void 0 ? void 0 : _data2.completedTrips)\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.driverDashboard_BOX,\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: styles.driverDashboard_BOXTITLE,\n            children: \"Unread feedback\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: styles.driverDashboard_BOXTEXT,\n            style: {\n              color: colors.RED\n            },\n            children: \"328\"\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.driverDashboard_BOX,\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: styles.driverDashboard_BOXTITLE,\n            children: \"Rider cancellations\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: styles.driverDashboard_BOXTEXT,\n            children: rendervalid((_data3 = data) === null || _data3 === void 0 ? void 0 : (_data3$cancelledTrips = _data3.cancelledTrips) === null || _data3$cancelledTrips === void 0 ? void 0 : _data3$cancelledTrips.rider)\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.driverDashboard_BOX,\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: styles.driverDashboard_BOXTITLE,\n            children: \"Driver cancellations\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: styles.driverDashboard_BOXTEXT,\n            style: {\n              color: colors.RED\n            },\n            children: rendervalid((_data4 = data) === null || _data4 === void 0 ? void 0 : (_data4$cancelledTrips = _data4.cancelledTrips) === null || _data4$cancelledTrips === void 0 ? void 0 : _data4$cancelledTrips.driver)\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.driverDashboard_BOX,\n          style: {\n            marginRight: '0px'\n          },\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: styles.driverDashboard_BOXTITLE,\n            children: \"Number of deleted accounts\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: styles.driverDashboard_BOXTEXT,\n            style: {},\n            children: rendervalid((_data5 = data) === null || _data5 === void 0 ? void 0 : _data5.numberOfDeletedUsers)\n          })]\n        })]\n      })]\n    })]\n  });\n};\n\n_c = AdminDashSummary;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminDashSummary\");","map":{"version":3,"sources":["/Users/ugo/Documents/Perch_Projects/Perch-Website/functions/panels/adminPanels/adminDashBoard.js"],"names":["firebase","React","colors","styles","AdminDashBoard","props","state","sharedLinks","userDetails","numberOfDriverApplications","unansweredMessages","unansweredDriverMessages","numberOVehicleAdditionRequest","numberOfCancelledTrips","allTimeAnalytics","weeklyAnalytics","database","ref","on","snapshot","setState","val","once","week","cont","container","backgroundColor","GREEN","marginTop","title","color","WHITE","text","marginBottom","Component","AdminDashSummary","rendervalid","x","enterKilometerDiv","BLACK","width","driverDashboard_BOXTITLE","margin","textAlign","marginLeft","driverDashboard_HALFDATE","driverDashboard_FULLDATE","driverDashboardCont","driverDashboard_TE","driverDashboard_BOX","alignItems","driverDashboard_BOXTEXT","data","numberOfUsers","sharedLine","completedTrips","RED","cancelledTrips","rider","driver","marginRight","numberOfDeletedUsers"],"mappings":"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","sourcesContent":["import firebase from 'firebase';\nimport React from 'react';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport { colors } from '../../functions';\nimport styles from '../panel_layout.module.css';\n\nexport default class AdminDashBoard extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            sharedLinks: true,\n            userDetails: this.props.userDetails,\n            numberOfDriverApplications: 0,\n            unansweredMessages: 0,\n            unansweredDriverMessages: 0,\n            numberOVehicleAdditionRequest: 0,\n            numberOfCancelledTrips: 0,\n            allTimeAnalytics: {},\n            weeklyAnalytics: {},\n        };\n    };\n    componentDidMount() {\n        firebase.database().ref(`analytics/numberOfUserFeedbackMessages`).on('value', snapshot => {\n            this.setState({ unansweredMessages: snapshot.val() })\n        });\n        firebase.database().ref(`analytics/numberOfCancelledTrips`).on('value', snapshot => {\n            this.setState({ numberOfCancelledTrips: snapshot.val() })\n        });\n        firebase.database().ref(`analytics/numberOfDriverFeedbackMessages`).on('value', snapshot => {\n            this.setState({ unansweredDriverMessages: snapshot.val() })\n        });\n        firebase.database().ref(`analytics/numberOVehicleAdditionRequest`).on('value', snapshot => {\n            this.setState({ unansweredDriverMessages: snapshot.val() })\n        });\n        firebase.database().ref(`analytics/numberOfDriverApplications`).on('value', snapshot => {\n            this.setState({ numberOfDriverApplications: snapshot.val() })\n        });\n\n        firebase.database().ref(`analytics/allTimeAnalytics/admin`).once('value', snapshot => {\n            this.setState({ allTimeAnalytics: snapshot.val() });\n        });\n        firebase.database().ref(`currentWeek/value`).once('value', week => {\n            firebase.database().ref(`analytics/weeklyAnalytics/${week.val()}/admin`).once('value', snapshot => {\n                this.setState({ weeklyAnalytics: snapshot.val() })\n            });\n        });\n    };\n\n    render() {\n        return (\n            <div className={styles.cont}>\n                <AdminDashSummary\n                    title={'WH'}\n                    data={this.state.weeklyAnalytics}\n                />\n                <AdminDashSummary\n                    title={'OH'}\n                    data={this.state.allTimeAnalytics}\n                />\n                <div className={styles.container} style={{ backgroundColor: colors.GREEN, marginTop: '20px' }}>\n                    <p className={styles.title} style={{ color: colors.WHITE }}>New driver applications</p>\n                    <p className={styles.text} style={{ color: colors.WHITE }}>\n                        You have {this.state.numberOfDriverApplications} new driver applications left\n                    </p>\n                </div>\n\n                <div className={styles.container} style={{ backgroundColor: colors.GREEN, marginTop: '20px' }}>\n                    <p className={styles.title} style={{ color: colors.WHITE }}>New vehicle applications</p>\n                    <p className={styles.text} style={{ color: colors.WHITE }}>\n                        You have {this.state.numberOVehicleAdditionRequest} new vehicle applications left\n                    </p>\n                </div>\n\n                <div className={styles.container} style={{ backgroundColor: colors.GREEN, marginTop: '20px' }}>\n                    <p className={styles.title} style={{ color: colors.WHITE }}>Unanswered messages</p>\n                    <p className={styles.text} style={{ color: colors.WHITE }}>\n                        You have {this.state.unansweredMessages} unaswered messages\n                    </p>\n                </div>\n\n                <div className={styles.container} style={{ backgroundColor: colors.GREEN, marginTop: '20px' }}>\n                    <p className={styles.title} style={{ color: colors.WHITE }}>Unanswered driver messages</p>\n                    <p className={styles.text} style={{ color: colors.WHITE }}>\n                        You have {this.state.unansweredDriverMessages} unaswered driver messages\n                    </p>\n                </div>\n\n                <div className={styles.container} style={{ backgroundColor: colors.GREEN, marginTop: '20px' }}>\n                    <p className={styles.title} style={{ color: colors.WHITE }}>Cancelled trips</p>\n                    <p className={styles.text} style={{ color: colors.WHITE }}>\n                        You have {this.state.numberOfCancelledTrips} unresolved cancelled trips\n                    </p>\n                </div>\n                <div style={{ backgroundColor: colors.WHITE, marginTop: '20px', marginBottom: '150px' }}>\n                </div>\n            </div>\n        )\n\n    }\n};\n\nconst AdminDashSummary = ({ title }) => {\n    const rendervalid = (x) => {\n        if (x) return x;\n        else return 0;\n    }\n    return (\n        <div className={styles.container} style={{ backgroundColor: colors.WHITE, marginTop: '20px' }}>\n            {title == 'OH' ?\n                <div className={styles.enterKilometerDiv}>\n                    <p className={styles.title} style={{ color: colors.BLACK, width: 'initial', }}>Overall history</p>\n                    <p className={styles.driverDashboard_BOXTITLE} style={{ margin: '0px', textAlign: 'center', marginLeft: '20px' }}><span id={styles.driverDashboard_HALFDATE}>{`Joined 09/2019`}</span><span id={styles.driverDashboard_FULLDATE}>{`Joined September 2019`}</span></p>\n                </div> :\n                <p className={styles.title} style={{ color: colors.BLACK }}>Weekly History</p>}\n\n            <div className={styles.driverDashboardCont}>\n                <div className={styles.driverDashboard_TE}>\n                    <div className={styles.driverDashboard_BOX} style={{ alignItems: 'flex-start', marginLeft: '0px' }}>\n                        <p className={styles.driverDashboard_BOXTITLE}>Total number of users</p>\n                        <p className={styles.driverDashboard_BOXTEXT} style={{ color: colors.GREEN }}>{rendervalid(data?.numberOfUsers)}</p>\n                    </div>\n                </div>\n                <div className={styles.sharedLine} style={{ width: '95%', backgroundColor: 'rgba(112, 112, 112, 0.19)' }}></div>\n                <div className={styles.driverDashboard_TE} style={{ marginBottom: '15px' }}>\n\n                    <div className={styles.driverDashboard_BOX} style={{ marginLeft: '0px' }}>\n                        <p className={styles.driverDashboard_BOXTITLE}>Completed trips</p>\n                        <p className={styles.driverDashboard_BOXTEXT} >{rendervalid(data?.completedTrips)}</p>\n                    </div>\n\n                    <div className={styles.driverDashboard_BOX}>\n                        <p className={styles.driverDashboard_BOXTITLE}>Unread feedback</p>\n                        <p className={styles.driverDashboard_BOXTEXT} style={{ color: colors.RED }}>328</p>\n                    </div>\n\n                    <div className={styles.driverDashboard_BOX}>\n                        <p className={styles.driverDashboard_BOXTITLE}>Rider cancellations</p>\n                        <p className={styles.driverDashboard_BOXTEXT} >{rendervalid(data?.cancelledTrips?.rider)}</p>\n                    </div>\n\n                    <div className={styles.driverDashboard_BOX}>\n                        <p className={styles.driverDashboard_BOXTITLE}>Driver cancellations</p>\n                        <p className={styles.driverDashboard_BOXTEXT} style={{ color: colors.RED }}>{rendervalid(data?.cancelledTrips?.driver)}</p>\n                    </div>\n\n                    <div className={styles.driverDashboard_BOX} style={{ marginRight: '0px' }}>\n                        <p className={styles.driverDashboard_BOXTITLE}>Number of deleted accounts</p>\n                        <p className={styles.driverDashboard_BOXTEXT} style={{}}>{rendervalid(data?.numberOfDeletedUsers)}</p>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n\n    );\n};"]},"metadata":{},"sourceType":"module"}