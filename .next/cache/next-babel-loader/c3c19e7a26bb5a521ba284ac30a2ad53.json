{"ast":null,"code":"function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport firebase from 'firebase';\nimport React from 'react';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { AiOutlineCheck } from 'react-icons/ai';\nimport Loader from 'react-loader-spinner';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport styles from '../panel_layout.module.css';\nimport { colors } from '../../functions';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport default class VehicleConfirmation extends React.Component {\n  constructor() {\n    super();\n\n    _defineProperty(this, \"nextStage\", () => {\n      this.setState({\n        loading2: true,\n        errorMessage: ''\n      }, () => {\n        firebase.database().ref(`driverApplications/${this.props.userID}`).update({\n          stage: 'two',\n          city: this.capitalizeFirstLetter(this.state.city.toLowerCase())\n        }).then(() => {\n          this.props.nextStage('two');\n        }).catch(error => {\n          console.log(error.message);\n        });\n      });\n    });\n\n    _defineProperty(this, \"verifyCity\", () => {\n      if (!this.state.cityVerified) this.setState({\n        loading1: true\n      }, () => {\n        firebase.database().ref(`cities/${this.capitalizeFirstLetter(this.state.city.toLowerCase())}`).once('value', snapshot => {\n          if (snapshot.val()) {\n            this.setState({\n              cityVerified: true,\n              loading1: false,\n              errorMessage: ''\n            });\n          } else this.setState({\n            loading1: false,\n            errorMessage: 'Sadly Perch does not yet operate in your city. When we get there we would let you know. For further information please contact us.'\n          });\n        }).catch(error => {\n          console.log(erroe.message);\n        });\n      });\n    });\n\n    this.state = {\n      s1: false,\n      s2: false,\n      s3: false,\n      errorMessage: '',\n      city: '',\n      loading1: false,\n      loading2: false,\n      cityVerified: false\n    };\n  }\n\n  componentDidMount() {}\n\n  capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxs(\"div\", {\n      className: styles.cont,\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: styles.container,\n        style: {\n          backgroundColor: colors.WHITE,\n          marginTop: '20px'\n        },\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: styles.driver_APP_TOPCONT,\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: styles.driver_APP_TOP_TEXT,\n            style: {\n              color: colors.WHITE\n            },\n            children: \"Vehicle Confirmation\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: styles.driver_APP_TOP_TEXT,\n            children: \"Upload Documents\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: styles.driver_APP_TOP_TEXT,\n            children: \"Application Status\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: styles.driver_APP_TOP_TEXT_NUMB,\n            style: {\n              color: colors.WHITE\n            },\n            children: \"1\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: styles.driver_APP_TOP_TEXT_NUMB,\n            children: \"2\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: styles.driver_APP_TOP_TEXT_NUMB,\n            children: \"3\"\n          }), /*#__PURE__*/_jsx(\"img\", {\n            src: \"/applicationDashArrow_.svg\",\n            className: styles.applicationDashArrow,\n            style: {\n              width: '36%'\n            }\n          })]\n        }), /*#__PURE__*/_jsx(\"p\", {\n          className: styles.title,\n          style: {\n            color: colors.BLACK\n          },\n          children: `Please confirm that your vehicle meets the following requirements`\n        }), /*#__PURE__*/_jsx(\"p\", {\n          className: styles.text,\n          style: {\n            color: colors.GREY\n          },\n          children: \"You must be at least xx years of age and your car must satisfy these in order to continue\"\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.driverFAQ_PICDESC,\n          style: {\n            width: '90%',\n            marginTop: '10px'\n          },\n          id: styles.driver_APP_TOP_RADIO_CONT,\n          onClick: () => {\n            this.setState({\n              s1: !this.state.s1\n            });\n          },\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: styles.driver_APP_RADIO,\n            style: {\n              backgroundColor: this.state.s1 ? colors.GREEN : `rgba(78, 184, 72,0.5)`\n            },\n            children: this.state.s1 ? /*#__PURE__*/_jsx(AiOutlineCheck, {\n              color: colors.WHITE,\n              size: '15px'\n            }) : /*#__PURE__*/_jsx(_Fragment, {})\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: styles.text,\n            style: {\n              color: colors.GREY,\n              width: 'initial',\n              margin: '0px'\n            },\n            children: \"A 4 door vehicle\"\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.driverFAQ_PICDESC,\n          style: {\n            width: '90%',\n            marginTop: '10px'\n          },\n          id: styles.driver_APP_TOP_RADIO_CONT,\n          onClick: () => {\n            this.setState({\n              s2: !this.state.s2\n            });\n          },\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: styles.driver_APP_RADIO,\n            style: {\n              backgroundColor: this.state.s2 ? colors.GREEN : `rgba(78, 184, 72,0.5)`\n            },\n            children: this.state.s2 ? /*#__PURE__*/_jsx(AiOutlineCheck, {\n              color: colors.WHITE,\n              size: '15px'\n            }) : /*#__PURE__*/_jsx(_Fragment, {})\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: styles.text,\n            style: {\n              color: colors.GREY,\n              width: 'initial',\n              margin: '0px'\n            },\n            children: \"A 2010 or newer car model\"\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.driverFAQ_PICDESC,\n          style: {\n            width: '90%',\n            marginTop: '10px'\n          },\n          id: styles.driver_APP_TOP_RADIO_CONT,\n          onClick: () => {\n            this.setState({\n              s3: !this.state.s3\n            });\n          },\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: styles.driver_APP_RADIO,\n            style: {\n              backgroundColor: this.state.s3 ? colors.GREEN : `rgba(78, 184, 72,0.5)`\n            },\n            children: this.state.s3 ? /*#__PURE__*/_jsx(AiOutlineCheck, {\n              color: colors.WHITE,\n              size: '15px'\n            }) : /*#__PURE__*/_jsx(_Fragment, {})\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: styles.text,\n            style: {\n              color: colors.GREY,\n              width: 'initial',\n              margin: '0px'\n            },\n            children: \"Active status\"\n          })]\n        }), /*#__PURE__*/_jsxs(\"p\", {\n          className: styles.text,\n          style: {\n            color: colors.GREY,\n            marginTop: '20px'\n          },\n          children: [\"Enter your city to see if Perch is currently operating there. Please spell it out correctly .\", /*#__PURE__*/_jsx(\"a\", {\n            href: \"/s/articles/available_locations\",\n            target: \"_blank\",\n            style: {\n              fontFamily: 'Gilroy-Semibold'\n            },\n            children: \"Click here for our available locations\"\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.driverFAQ_PICDESC,\n          style: {\n            width: '90%',\n            marginTop: '10px',\n            marginBottom: '30px'\n          },\n          children: [/*#__PURE__*/_jsx(\"input\", {\n            type: \"text\",\n            placeholder: \"Enter your city\",\n            className: styles.inputPaymentPanel,\n            style: {\n              width: '150px',\n              margin: '0px',\n              fontSize: '90%',\n              border: '1px solid rgba(149, 154, 172, 0.5)'\n            },\n            value: this.state.city,\n            onChange: event => {\n              this.setState({\n                city: event.target.value\n              });\n              if (this.state.cityVerified) this.setState({\n                cityVerified: false\n              });\n            }\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: styles.button2,\n            style: {\n              backgroundColor: colors.GREEN,\n              width: '80px',\n              margin: '0px',\n              marginLeft: '10px'\n            },\n            id: styles.buttonBottom,\n            onClick: () => {\n              if (!this.state.loading1) this.verifyCity();\n            },\n            children: this.state.loading1 ? /*#__PURE__*/_jsx(Loader, {\n              type: \"TailSpin\",\n              color: colors.WHITE,\n              height: '20px',\n              width: '20px'\n            }) : /*#__PURE__*/_jsx(\"p\", {\n              className: styles.buttonText1,\n              children: this.state.cityVerified ? 'Verified' : 'Verify'\n            })\n          })]\n        }), /*#__PURE__*/_jsx(\"p\", {\n          className: styles.em,\n          style: {\n            textAlign: 'initial'\n          },\n          children: this.state.errorMessage\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.contactUsLC,\n        style: {\n          marginTop: '15px',\n          marginBottom: '150px'\n        },\n        children: [/*#__PURE__*/_jsx(\"a\", {\n          className: styles.button1,\n          id: styles.sendMessageContactUS,\n          onClick: () => {\n            if (!this.state.loading2) {\n              if (!this.state.s1 || !this.state.s2 || !this.state.s3) this.setState({\n                errorMessage: 'Please tick out all the Perch car requirements if your vehicle meets them.'\n              });else if (!this.state.cityVerified) this.setState({\n                errorMessage: 'Please verify your city.'\n              });else this.nextStage();\n            }\n          },\n          children: this.state.loading2 ? /*#__PURE__*/_jsx(Loader, {\n            type: \"TailSpin\",\n            color: colors.WHITE,\n            height: '20px',\n            width: '20px'\n          }) : /*#__PURE__*/_jsx(\"p\", {\n            className: styles.buttonText1,\n            children: \"Confirm\"\n          })\n        }), /*#__PURE__*/_jsxs(\"p\", {\n          className: styles.contactUsLasttext,\n          children: [\"Having issues? \", /*#__PURE__*/_jsx(\"a\", {\n            href: \"/contact_us\",\n            children: /*#__PURE__*/_jsx(\"span\", {\n              id: styles.driver_APP_CU1,\n              children: \"Contact Us\"\n            })\n          }), \".\"]\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        style: {\n          height: '100px',\n          width: '20px',\n          backgroundColor: 'transparent'\n        }\n      })]\n    });\n  }\n\n}\n;","map":null,"metadata":{},"sourceType":"module"}