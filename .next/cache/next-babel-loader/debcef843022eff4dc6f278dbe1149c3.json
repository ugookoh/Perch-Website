{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport firebase from 'firebase';\nimport React from 'react';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport { colors } from '../../functions';\nimport styles from '../panel_layout.module.css';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar AdminDashBoard = /*#__PURE__*/function (_React$Component) {\n  _inherits(AdminDashBoard, _React$Component);\n\n  var _super = _createSuper(AdminDashBoard);\n\n  function AdminDashBoard(props) {\n    var _this;\n\n    _classCallCheck(this, AdminDashBoard);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      sharedLinks: true,\n      userDetails: _this.props.userDetails,\n      numberOfDriverApplications: 0,\n      unansweredMessages: 0,\n      unansweredDriverMessages: 0,\n      numberOVehicleAdditionRequest: 0,\n      numberOfCancelledTrips: 0\n    };\n    return _this;\n  }\n\n  _createClass(AdminDashBoard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      firebase.database().ref(\"analytics/numberOfUserFeedbackMessages\").on('value', function (snapshot) {\n        _this2.setState({\n          unansweredMessages: snapshot.val()\n        });\n      });\n      firebase.database().ref(\"analytics/numberOfCancelledTrips\").on('value', function (snapshot) {\n        _this2.setState({\n          numberOfCancelledTrips: snapshot.val()\n        });\n      });\n      firebase.database().ref(\"analytics/numberOfDriverFeedbackMessages\").on('value', function (snapshot) {\n        _this2.setState({\n          unansweredDriverMessages: snapshot.val()\n        });\n      });\n      firebase.database().ref(\"analytics/numberOVehicleAdditionRequest\").on('value', function (snapshot) {\n        _this2.setState({\n          unansweredDriverMessages: snapshot.val()\n        });\n      });\n      firebase.database().ref(\"analytics/numberOfDriverApplications\").on('value', function (snapshot) {\n        _this2.setState({\n          numberOfDriverApplications: snapshot.val()\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var unixTime = new Date().getTime();\n      var weekInMilliSecs = 604800 * 1000;\n      var sundayBuffer = 345600 * 1000;\n      var weekNumber = Math.floor(unixTime / weekInMilliSecs);\n      var dateOfWeekBeginning = weekNumber * weekInMilliSecs - sundayBuffer;\n      var dateOfWeekEnding = (weekNumber + 1) * weekInMilliSecs - sundayBuffer - 1;\n\n      var _5MinsAfterWeekBeginning = dateOfWeekBeginning + 5 * 60000;\n\n      console.log(\"weekNumber\", weekNumber);\n      console.log(\"dateOfWeekBeginning\", dateOfWeekBeginning);\n      console.log(\"_5MinsAfterWeekBeginning\", _5MinsAfterWeekBeginning);\n      return /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.cont,\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: styles.container,\n          style: {\n            backgroundColor: colors.WHITE,\n            marginTop: '20px'\n          },\n          children: [this.props.title == 'OH' ? /*#__PURE__*/_jsxs(\"div\", {\n            className: styles.enterKilometerDiv,\n            children: [/*#__PURE__*/_jsx(\"p\", {\n              className: styles.title,\n              style: {\n                color: colors.BLACK,\n                width: 'initial'\n              },\n              children: \"Overall history\"\n            }), /*#__PURE__*/_jsxs(\"p\", {\n              className: styles.driverDashboard_BOXTITLE,\n              style: {\n                margin: '0px',\n                textAlign: 'center',\n                marginLeft: '20px'\n              },\n              children: [/*#__PURE__*/_jsx(\"span\", {\n                id: styles.driverDashboard_HALFDATE,\n                children: \"Joined 09/2019\"\n              }), /*#__PURE__*/_jsx(\"span\", {\n                id: styles.driverDashboard_FULLDATE,\n                children: \"Joined September 2019\"\n              })]\n            })]\n          }) : /*#__PURE__*/_jsx(\"p\", {\n            className: styles.title,\n            style: {\n              color: colors.BLACK\n            },\n            children: \"Breakdown\"\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: styles.driverDashboardCont,\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: styles.driverDashboard_TE,\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: styles.driverDashboard_BOX,\n                style: {\n                  alignItems: 'flex-start',\n                  marginLeft: '0px'\n                },\n                children: [/*#__PURE__*/_jsx(\"p\", {\n                  className: styles.driverDashboard_BOXTITLE,\n                  children: \"Total number of users\"\n                }), /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.driverDashboard_BOXTEXT,\n                  style: {\n                    color: colors.GREEN\n                  },\n                  children: \"1672\"\n                })]\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: styles.sharedLine,\n              style: {\n                width: '95%',\n                backgroundColor: 'rgba(112, 112, 112, 0.19)'\n              }\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: styles.driverDashboard_TE,\n              style: {\n                marginBottom: '15px'\n              },\n              children: [/*#__PURE__*/_jsxs(\"div\", {\n                className: styles.driverDashboard_BOX,\n                style: {\n                  marginLeft: '0px'\n                },\n                children: [/*#__PURE__*/_jsx(\"p\", {\n                  className: styles.driverDashboard_BOXTITLE,\n                  children: \"Completed trips\"\n                }), /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.driverDashboard_BOXTEXT,\n                  children: \"7\"\n                })]\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: styles.driverDashboard_BOX,\n                children: [/*#__PURE__*/_jsx(\"p\", {\n                  className: styles.driverDashboard_BOXTITLE,\n                  children: \"Unread feedback\"\n                }), /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.driverDashboard_BOXTEXT,\n                  style: {\n                    color: colors.RED\n                  },\n                  children: \"328\"\n                })]\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: styles.driverDashboard_BOX,\n                children: [/*#__PURE__*/_jsx(\"p\", {\n                  className: styles.driverDashboard_BOXTITLE,\n                  children: \"Rider cancellations\"\n                }), /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.driverDashboard_BOXTEXT,\n                  children: \"17\"\n                })]\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: styles.driverDashboard_BOX,\n                children: [/*#__PURE__*/_jsx(\"p\", {\n                  className: styles.driverDashboard_BOXTITLE,\n                  children: \"Driver cancellations\"\n                }), /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.driverDashboard_BOXTEXT,\n                  style: {\n                    color: colors.RED\n                  },\n                  children: \"3\"\n                })]\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: styles.driverDashboard_BOX,\n                style: {\n                  marginRight: '0px'\n                },\n                children: [/*#__PURE__*/_jsx(\"p\", {\n                  className: styles.driverDashboard_BOXTITLE,\n                  children: \"Number of deleted accounts\"\n                }), /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.driverDashboard_BOXTEXT,\n                  style: {},\n                  children: \"132\"\n                })]\n              })]\n            })]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.container,\n          style: {\n            backgroundColor: colors.GREEN,\n            marginTop: '20px'\n          },\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: styles.title,\n            style: {\n              color: colors.WHITE\n            },\n            children: \"New driver applications\"\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            className: styles.text,\n            style: {\n              color: colors.WHITE\n            },\n            children: [\"You have \", this.state.numberOfDriverApplications, \" new driver applications left\"]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.container,\n          style: {\n            backgroundColor: colors.GREEN,\n            marginTop: '20px'\n          },\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: styles.title,\n            style: {\n              color: colors.WHITE\n            },\n            children: \"New vehicle applications\"\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            className: styles.text,\n            style: {\n              color: colors.WHITE\n            },\n            children: [\"You have \", this.state.numberOVehicleAdditionRequest, \" new vehicle applications left\"]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.container,\n          style: {\n            backgroundColor: colors.GREEN,\n            marginTop: '20px'\n          },\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: styles.title,\n            style: {\n              color: colors.WHITE\n            },\n            children: \"Unanswered messages\"\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            className: styles.text,\n            style: {\n              color: colors.WHITE\n            },\n            children: [\"You have \", this.state.unansweredMessages, \" unaswered messages\"]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.container,\n          style: {\n            backgroundColor: colors.GREEN,\n            marginTop: '20px'\n          },\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: styles.title,\n            style: {\n              color: colors.WHITE\n            },\n            children: \"Unanswered driver messages\"\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            className: styles.text,\n            style: {\n              color: colors.WHITE\n            },\n            children: [\"You have \", this.state.unansweredDriverMessages, \" unaswered driver messages\"]\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.container,\n          style: {\n            backgroundColor: colors.GREEN,\n            marginTop: '20px'\n          },\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: styles.title,\n            style: {\n              color: colors.WHITE\n            },\n            children: \"Cancelled trips\"\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            className: styles.text,\n            style: {\n              color: colors.WHITE\n            },\n            children: [\"You have \", this.state.numberOfCancelledTrips, \" unresolved cancelled trips\"]\n          })]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          style: {\n            backgroundColor: colors.WHITE,\n            marginTop: '20px',\n            marginBottom: '150px'\n          }\n        })]\n      });\n    }\n  }]);\n\n  return AdminDashBoard;\n}(React.Component);\n\nexport { AdminDashBoard as default };\n;","map":null,"metadata":{},"sourceType":"module"}