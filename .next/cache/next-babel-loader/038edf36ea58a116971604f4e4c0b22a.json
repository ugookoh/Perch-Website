{"ast":null,"code":"function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport axios from 'axios';\nimport firebase from 'firebase';\nimport React from 'react';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { GiClick } from 'react-icons/gi';\nimport { RiShieldCheckFill } from 'react-icons/ri';\nimport Loader from 'react-loader-spinner';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport { changePassword, deleteAccount, sendVerification, colors } from '../../functions';\nimport styles from '../panel_layout.module.css';\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default class Settings extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"setImage\", photoRef => {\n      firebase.storage().ref(`${photoRef}`).getDownloadURL().then(result => {\n        this.setState({\n          url: result\n        });\n      }).catch(error => {\n        console.log(error.message);\n      });\n    });\n\n    _defineProperty(this, \"sendVerificationCode\", type => {\n      this.setState({\n        timer: 60\n      }, () => {\n        const time = setInterval(() => {\n          if (this.state.timer == 0) clearInterval(time);else this.setState({\n            timer: this.state.timer - 1\n          });\n        }, 1000);\n      });\n      if (this.state.timer == 0) switch (type) {\n        case 'email':\n          {\n            sendVerification(this.state.userDetails.userID, 'email', 'storeAndSend', '', '', this.state.newEmail, this.state.userDetails.firstName);\n            this.setState({\n              toShow: 'verify',\n              toVerify: 'email'\n            });\n          }\n          break;\n\n        case 'phoneNumber':\n          {\n            sendVerification(this.state.userDetails.userID, 'phoneNumber', 'storeAndSend', '', this.state.newPhoneNumber, '', this.state.userDetails.firstName);\n            this.setState({\n              toShow: 'verify',\n              toVerify: 'phone number'\n            });\n          }\n          break;\n      }\n      ;\n    });\n\n    this.state = {\n      toShow: 'default',\n      //default, changePassword, verify, whyDeleteAccount,logInToDeleteAccount,\n      toVerify: '',\n      url: null,\n      userDetails: this.props.userDetails,\n      newEmail: this.props.userDetails ? this.props.userDetails.email : '',\n      newPhoneNumber: this.props.userDetails ? this.props.userDetails.phoneNumber : '',\n      currentPassword: '',\n      newPassword: '',\n      confirmNewPassword: '',\n      loading: false,\n      errorMessage: '',\n      deleteAccountReason: '',\n      email1: '',\n      password1: '',\n      timer: 0,\n      emailVerified: false,\n      phoneVerified: true,\n      verifyText: ''\n    };\n  }\n\n  componentDidMount() {\n    this.setImage(this.state.userDetails.photoRef);\n    firebase.database().ref(`users/${this.state.userDetails.userID}/summarizedHistory`).on('value', snap => {\n      if (snap.val()) this.setState({\n        emailVerified: snap.val().emailVerified,\n        phoneVerified: snap.val().phoneVerified\n      });\n    });\n  }\n\n  render() {\n    let content = /*#__PURE__*/_jsx(_Fragment, {});\n\n    if (!this.state.userDetails && this.props.userDetails) this.setState({\n      userDetails: this.props.userDetails,\n      newEmail: this.props.userDetails.email,\n      newPhoneNumber: this.props.userDetails.phoneNumber\n    }, () => {\n      this.setImage(this.state.userDetails.photoRef);\n    });\n\n    switch (this.state.toShow) {\n      case 'default':\n        {\n          content = /*#__PURE__*/_jsxs(_Fragment, {\n            children: [/*#__PURE__*/_jsx(\"p\", {\n              className: styles.title,\n              style: {\n                color: colors.BLACK,\n                marginBottom: '15px'\n              },\n              children: `User details`\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: styles.enterKilometerDiv,\n              style: {\n                margin: '0px',\n                width: '100%'\n              },\n              children: [/*#__PURE__*/_jsx(\"input\", {\n                type: \"text\",\n                placeholder: \"First Name\",\n                className: styles.inputPaymentPanel,\n                id: styles.inputSettings,\n                style: {\n                  width: '49%',\n                  margin: '0px'\n                },\n                value: this.state.userDetails ? this.state.userDetails.firstName : 'First Name',\n                disabled: true\n              }), /*#__PURE__*/_jsx(\"input\", {\n                type: \"text\",\n                placeholder: \"Last Name\",\n                className: styles.inputPaymentPanel,\n                id: styles.inputSettings,\n                style: {\n                  width: '49%',\n                  margin: '0px'\n                },\n                value: this.state.userDetails ? this.state.userDetails.lastName : 'Last Name',\n                disabled: true\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: styles.enterKilometerDiv,\n              id: styles.inputSettingCont_,\n              children: [/*#__PURE__*/_jsx(\"input\", {\n                type: \"text\",\n                placeholder: \"Email Address\",\n                className: styles.inputPaymentPanel,\n                value: this.state.newEmail,\n                onChange: event => {\n                  this.setState({\n                    newEmail: event.target.value\n                  });\n                },\n                id: styles.inputSettingCont_L\n              }), this.state.emailVerified && this.state.userDetails.email == this.state.newEmail ? /*#__PURE__*/_jsxs(\"div\", {\n                className: styles.pickPaymentSelected,\n                style: {\n                  backgroundColor: this.props.type == 'Driver' ? '#39A2E5' : '#5EEF56'\n                },\n                id: styles.inputSettingCont_R,\n                children: [/*#__PURE__*/_jsx(\"p\", {\n                  className: styles.buttonText1,\n                  id: styles.settingsVerifyOrNot,\n                  children: \"Verified\"\n                }), /*#__PURE__*/_jsx(RiShieldCheckFill, {\n                  className: styles.settingsVerifyOrNotIcon,\n                  color: colors.WHITE\n                })]\n              }) : /*#__PURE__*/_jsxs(\"div\", {\n                className: styles.pickPaymentSelected,\n                style: {\n                  backgroundColor: '#FF4040'\n                },\n                id: styles.inputSettingCont_R_VERIFYNOW,\n                onClick: () => {\n                  this.sendVerificationCode('email');\n                },\n                children: [/*#__PURE__*/_jsx(\"p\", {\n                  className: styles.buttonText1,\n                  id: styles.settingsVerifyOrNot,\n                  children: \"Verify Now\"\n                }), /*#__PURE__*/_jsx(GiClick, {\n                  className: styles.settingsVerifyOrNotIcon,\n                  color: colors.WHITE\n                })]\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: styles.enterKilometerDiv,\n              id: styles.inputSettingCont_,\n              children: [/*#__PURE__*/_jsx(\"input\", {\n                type: \"text\",\n                placeholder: \"Phone Number\",\n                className: styles.inputPaymentPanel,\n                value: this.state.newPhoneNumber,\n                onChange: event => {\n                  this.setState({\n                    newPhoneNumber: event.target.value\n                  });\n                },\n                id: styles.inputSettingCont_L\n              }), this.state.phoneVerified && this.state.userDetails.phoneNumber == this.state.newPhoneNumber ? /*#__PURE__*/_jsxs(\"div\", {\n                className: styles.pickPaymentSelected,\n                style: {\n                  backgroundColor: this.props.type == 'Driver' ? '#39A2E5' : '#5EEF56'\n                },\n                id: styles.inputSettingCont_R,\n                children: [/*#__PURE__*/_jsx(\"p\", {\n                  className: styles.buttonText1,\n                  id: styles.settingsVerifyOrNot,\n                  children: \"Verified\"\n                }), /*#__PURE__*/_jsx(RiShieldCheckFill, {\n                  className: styles.settingsVerifyOrNotIcon,\n                  color: colors.WHITE\n                })]\n              }) : /*#__PURE__*/_jsxs(\"div\", {\n                className: styles.pickPaymentSelected,\n                style: {\n                  backgroundColor: '#FF4040'\n                },\n                id: styles.inputSettingCont_R_VERIFYNOW,\n                onClick: () => {\n                  axios.post(`https://us-central1-perch-01.cloudfunctions.net/checkIfPhoneNumberIsFree`, {\n                    phoneNumber: this.state.newPhoneNumber\n                  }).then(r => {\n                    if (r.data) {\n                      this.sendVerificationCode('phoneNumber');\n                    } else this.setState({\n                      error: true,\n                      errorMessage: 'Phone number already in use by another account'\n                    });\n                  }).catch(error => {\n                    this.setState({\n                      error: true,\n                      errorMessage: error.message\n                    });\n                  });\n                },\n                children: [/*#__PURE__*/_jsx(\"p\", {\n                  className: styles.buttonText1,\n                  id: styles.settingsVerifyOrNot,\n                  children: \"Verify Now\"\n                }), /*#__PURE__*/_jsx(GiClick, {\n                  className: styles.settingsVerifyOrNotIcon,\n                  color: colors.WHITE\n                })]\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: styles.enterKilometerDiv,\n              id: styles.inputSettingCont__,\n              children: [/*#__PURE__*/_jsx(\"p\", {\n                onClick: () => {\n                  this.setState({\n                    toShow: 'changePassword'\n                  });\n                },\n                className: styles.changePasswordButton,\n                style: this.props.type ? {\n                  color: colors.BLUE\n                } : {},\n                children: \"Change Password\"\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: styles.button1,\n                id: styles.deleteAccountButton_,\n                style: {\n                  backgroundColor: colors.RED,\n                  maxWidth: 'initial',\n                  height: '40px',\n                  minHeight: 'initial',\n                  margin: '0px'\n                },\n                onClick: () => {\n                  this.setState({\n                    toShow: 'whyDeleteAccount'\n                  });\n                },\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.buttonText1,\n                  id: styles.deleteAccountButton,\n                  children: \"Delete Account\"\n                })\n              })]\n            })]\n          });\n        }\n        break;\n\n      case 'changePassword':\n        {\n          content = /*#__PURE__*/_jsxs(_Fragment, {\n            children: [/*#__PURE__*/_jsx(\"p\", {\n              className: styles.title,\n              style: {\n                color: colors.BLACK\n              },\n              children: \"Change Password\"\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: styles.enterKilometerDiv,\n              id: styles.inputSettingCont_,\n              children: /*#__PURE__*/_jsx(\"input\", {\n                type: \"password\",\n                placeholder: \"Current Password\",\n                className: styles.inputPaymentPanel,\n                id: styles.inputSettingCont_L,\n                value: this.state.currentPassword,\n                onChange: event => {\n                  this.setState({\n                    currentPassword: event.target.value\n                  });\n                },\n                style: {\n                  width: '100%'\n                }\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: styles.enterKilometerDiv,\n              id: styles.inputSettingCont_,\n              children: /*#__PURE__*/_jsx(\"input\", {\n                type: \"password\",\n                placeholder: \"New Password\",\n                className: styles.inputPaymentPanel,\n                id: styles.inputSettingCont_L,\n                value: this.state.newPassword,\n                onChange: event => {\n                  this.setState({\n                    newPassword: event.target.value\n                  });\n                },\n                style: {\n                  width: '100%'\n                }\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: styles.enterKilometerDiv,\n              id: styles.inputSettingCont_,\n              children: /*#__PURE__*/_jsx(\"input\", {\n                type: \"password\",\n                placeholder: \"Confirm New Password\",\n                className: styles.inputPaymentPanel,\n                id: styles.inputSettingCont_L,\n                style: {\n                  width: '100%'\n                },\n                value: this.state.confirmNewPassword,\n                onChange: event => {\n                  this.setState({\n                    confirmNewPassword: event.target.value\n                  });\n                }\n              })\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: styles.em,\n              children: this.state.errorMessage\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: styles.enterKilometerDiv,\n              id: styles.inputSettingCont__,\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: styles.button1,\n                id: styles.deleteAccountButton_,\n                style: {\n                  backgroundColor: colors.RED,\n                  maxWidth: 'initial',\n                  height: '40px',\n                  minHeight: 'initial',\n                  margin: '0px',\n                  width: '49%'\n                },\n                onClick: () => {\n                  if (!this.state.loading) this.setState({\n                    toShow: 'default',\n                    errorMessage: '',\n                    currentPassword: '',\n                    newPassword: '',\n                    confirmNewPassword: ''\n                  });\n                },\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.buttonText1,\n                  id: styles.deleteAccountButton,\n                  children: \"Cancel\"\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: styles.button1,\n                id: styles.deleteAccountButton_,\n                style: {\n                  backgroundColor: this.props.type == 'Driver' ? colors.BLUE : colors.GREEN,\n                  maxWidth: 'initial',\n                  height: '40px',\n                  minHeight: 'initial',\n                  margin: '0px',\n                  width: '49%'\n                },\n                onClick: () => {\n                  if (!this.state.loading) {\n                    if (this.state.newPassword == '') this.setState({\n                      errorMessage: 'Please enter a new password'\n                    });else if (this.state.newPassword != this.state.confirmNewPassword) this.setState({\n                      errorMessage: 'New password and confirm new password do not match'\n                    });else changePassword.call(this, this.state.userDetails.email, this.state.currentPassword, this.state.newPassword);\n                  }\n                },\n                children: this.state.loading ? /*#__PURE__*/_jsx(Loader, {\n                  type: \"TailSpin\",\n                  color: colors.WHITE,\n                  height: '20px',\n                  width: '20px'\n                }) : /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.buttonText1,\n                  id: styles.deleteAccountButton,\n                  children: \"Change Password\"\n                })\n              })]\n            })]\n          });\n        }\n        break;\n\n      case 'verify':\n        {\n          content = /*#__PURE__*/_jsxs(_Fragment, {\n            children: [/*#__PURE__*/_jsx(\"p\", {\n              className: styles.title,\n              style: {\n                color: colors.BLACK\n              },\n              children: `Verify your ${this.state.toVerify}`\n            }), /*#__PURE__*/_jsxs(\"p\", {\n              className: styles.text,\n              style: {\n                color: colors.BLACK\n              },\n              children: [\"Enter the code sent to \", /*#__PURE__*/_jsx(\"span\", {\n                style: {\n                  color: this.props.type == 'Driver' ? colors.BLUE : colors.GREEN\n                },\n                children: this.state.toVerify == 'email' ? this.state.newEmail : this.state.newPhoneNumber\n              })]\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: styles.enterKilometerDiv,\n              id: styles.inputSettingCont_,\n              children: /*#__PURE__*/_jsx(\"input\", {\n                type: \"text\",\n                placeholder: \"Enter Code\",\n                className: styles.inputPaymentPanel,\n                id: styles.inputSettingCont_L,\n                style: {\n                  width: '100%'\n                },\n                value: this.state.verifyText,\n                onChange: v => {\n                  this.setState({\n                    verifyText: v.target.value\n                  });\n                }\n              })\n            }), this.state.timer == 0 ? /*#__PURE__*/_jsxs(\"p\", {\n              className: styles.text,\n              style: {\n                color: colors.BLACK,\n                fontSize: '80%'\n              },\n              children: [\"Didn't get a code yet? \", /*#__PURE__*/_jsx(\"span\", {\n                id: styles.resendCodeSettings,\n                onClick: () => {\n                  this.sendVerificationCode(this.state.toVerify == 'email' ? 'email' : 'phoneNumber');\n                },\n                style: {\n                  color: colors.BLUE_TEXT\n                },\n                children: \"Resend\"\n              })]\n            }) : /*#__PURE__*/_jsxs(\"p\", {\n              className: styles.text,\n              style: {\n                color: colors.BLACK,\n                fontSize: '80%'\n              },\n              children: [\"Resend in \", /*#__PURE__*/_jsx(\"span\", {\n                style: {\n                  color: colors.BLUE_TEXT\n                },\n                children: ` 0:${('0' + this.state.timer).slice(-2)}`\n              })]\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: styles.em,\n              children: this.state.errorMessage\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: styles.enterKilometerDiv,\n              id: styles.inputSettingCont__,\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: styles.button1,\n                id: styles.deleteAccountButton_,\n                style: {\n                  backgroundColor: colors.RED,\n                  maxWidth: 'initial',\n                  height: '40px',\n                  minHeight: 'initial',\n                  margin: '0px',\n                  width: '49%'\n                },\n                onClick: () => {\n                  this.setState({\n                    toShow: 'default',\n                    errorMessage: ''\n                  });\n                },\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.buttonText1,\n                  id: styles.deleteAccountButton,\n                  children: \"Cancel\"\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: styles.button1,\n                id: styles.deleteAccountButton_,\n                style: {\n                  backgroundColor: this.props.type == 'Driver' ? colors.BLUE : colors.GREEN,\n                  maxWidth: 'initial',\n                  height: '40px',\n                  minHeight: 'initial',\n                  margin: '0px',\n                  width: '49%'\n                },\n                onClick: () => {\n                  const code = this.state.verifyText;\n\n                  if (code.length != 6) {\n                    this.setState({\n                      errorMessage: 'Verification code must be 6 characters long'\n                    });\n                  } else {\n                    this.setState({\n                      loading: true\n                    }, () => {\n                      const type = this.state.toVerify == 'email' ? 'email' : 'phoneNumber';\n\n                      switch (type) {\n                        case 'email':\n                          {\n                            axios.post(`https://us-central1-perch-01.cloudfunctions.net/sendVerificationCode`, {\n                              userID: this.state.userDetails.userID,\n                              type: type,\n                              action: 'check',\n                              code: code,\n                              phoneNumber: '',\n                              email: this.state.newEmail,\n                              name: this.state.userDetails.firstName\n                            }).then(r => {\n                              if (r.data) {\n                                axios.post(`https://us-central1-perch-01.cloudfunctions.net/changeEmailAndPhoneNumberAfterVerifying`, {\n                                  userID: this.state.userDetails.userID,\n                                  type: type,\n                                  phoneNumber: '',\n                                  email: this.state.newEmail\n                                }).then(() => {\n                                  let userDetails = this.state.userDetails;\n                                  userDetails.email = this.state.newEmail;\n                                  this.setState({\n                                    toShow: 'default',\n                                    loading: false,\n                                    userDetails: userDetails,\n                                    errorMessage: ''\n                                  });\n                                }).catch(error => {\n                                  this.setState({\n                                    errorMessage: error.message,\n                                    loading: false\n                                  });\n                                });\n                              } else this.setState({\n                                errorMessage: 'Validation code is not valid',\n                                loading: false\n                              });\n                            }).catch(error => {\n                              this.setState({\n                                errorMessage: error.message,\n                                loading: false\n                              });\n                            });\n                          }\n                          break;\n\n                        case 'phoneNumber':\n                          {\n                            axios.post(`https://us-central1-perch-01.cloudfunctions.net/sendVerificationCode`, {\n                              userID: this.state.userDetails.userID,\n                              type: type,\n                              action: 'check',\n                              code: code,\n                              phoneNumber: this.state.newPhoneNumber,\n                              email: '',\n                              name: this.state.userDetails.firstName\n                            }).then(r => {\n                              if (r.data) {\n                                axios.post(`https://us-central1-perch-01.cloudfunctions.net/changeEmailAndPhoneNumberAfterVerifying`, {\n                                  userID: this.state.userDetails.userID,\n                                  type: type,\n                                  phoneNumber: '',\n                                  email: this.state.newEmail\n                                }).then(() => {\n                                  let userDetails = this.state.userDetails;\n                                  userDetails.phoneNumber = this.state.newPhoneNumber;\n                                  this.setState({\n                                    toShow: 'default',\n                                    loading: false,\n                                    userDetails: userDetails,\n                                    errorMessage: ''\n                                  });\n                                }).catch(error => {\n                                  this.setState({\n                                    errorMessage: error.message,\n                                    loading: false\n                                  });\n                                });\n                              } else this.setState({\n                                errorMessage: 'Validation code is not valid',\n                                loading: false\n                              });\n                            }).catch(error => {\n                              this.setState({\n                                errorMessage: error.message,\n                                loading: false\n                              });\n                            });\n                          }\n                          break;\n                      }\n                    });\n                  }\n                },\n                children: this.state.loading ? /*#__PURE__*/_jsx(Loader, {\n                  type: \"TailSpin\",\n                  color: colors.WHITE,\n                  height: '20px',\n                  width: '20px'\n                }) : /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.buttonText1,\n                  id: styles.deleteAccountButton,\n                  children: \"Verify\"\n                })\n              })]\n            })]\n          });\n        }\n        break;\n\n      case 'whyDeleteAccount':\n        {\n          content = /*#__PURE__*/_jsxs(_Fragment, {\n            children: [/*#__PURE__*/_jsx(\"p\", {\n              className: styles.title,\n              style: {\n                color: colors.BLACK\n              },\n              children: \"Are you sure you would like to delete your account?\"\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: styles.text,\n              style: {\n                color: colors.BLACK\n              },\n              children: \"Please describe briefly why you would like to delete your account\"\n            }), /*#__PURE__*/_jsx(\"textarea\", {\n              type: \"text\",\n              placeholder: \"Enter your message here\",\n              className: styles.contactUsContent,\n              style: {\n                width: '100%'\n              },\n              value: this.state.deleteAccountReason,\n              onChange: event => {\n                this.setState({\n                  deleteAccountReason: event.target.value\n                });\n              }\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: styles.em,\n              children: this.state.errorMessage\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: styles.enterKilometerDiv,\n              id: styles.inputSettingCont__,\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: styles.button1,\n                id: styles.deleteAccountButton_,\n                style: {\n                  backgroundColor: colors.RED,\n                  maxWidth: 'initial',\n                  height: '40px',\n                  minHeight: 'initial',\n                  margin: '0px',\n                  width: '49%'\n                },\n                onClick: () => {\n                  if (this.state.deleteAccountReason == '') this.setState({\n                    errorMessage: 'Please enter a reason to delete your account'\n                  });else if (this.state.deleteAccountReason.length < 15) this.setState({\n                    errorMessage: 'Please enter a reason longer than 15 characters'\n                  });else this.setState({\n                    toShow: 'logInToDeleteAccount',\n                    errorMessage: ''\n                  });\n                },\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.buttonText1,\n                  id: styles.deleteAccountButton,\n                  children: \"Delete Account\"\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: styles.button1,\n                id: styles.deleteAccountButton_,\n                style: {\n                  backgroundColor: this.props.type == 'Driver' ? colors.BLUE : colors.GREEN,\n                  maxWidth: 'initial',\n                  height: '40px',\n                  minHeight: 'initial',\n                  margin: '0px',\n                  width: '49%'\n                },\n                onClick: () => {\n                  this.setState({\n                    toShow: 'default',\n                    errorMessage: '',\n                    deleteAccountReason: ''\n                  });\n                },\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.buttonText1,\n                  id: styles.deleteAccountButton,\n                  children: \"Cancel\"\n                })\n              })]\n            })]\n          });\n        }\n        break;\n\n      case 'logInToDeleteAccount':\n        {\n          content = /*#__PURE__*/_jsxs(_Fragment, {\n            children: [/*#__PURE__*/_jsx(\"p\", {\n              className: styles.title,\n              style: {\n                color: colors.BLACK\n              },\n              children: \"We are sorry to see you leave Perch\"\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: styles.text,\n              style: {\n                color: colors.BLACK\n              },\n              children: \"Please describe briefly why you would like to delete your account\"\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: styles.enterKilometerDiv,\n              id: styles.inputSettingCont_,\n              children: /*#__PURE__*/_jsx(\"input\", {\n                type: \"text\",\n                placeholder: \"Email\",\n                className: styles.inputPaymentPanel,\n                id: styles.inputSettingCont_L,\n                style: {\n                  width: '100%'\n                },\n                value: this.state.email1,\n                autoComplete: 'off',\n                onChange: event => {\n                  this.setState({\n                    email1: event.target.value\n                  });\n                }\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: styles.enterKilometerDiv,\n              id: styles.inputSettingCont_,\n              children: /*#__PURE__*/_jsx(\"input\", {\n                type: \"password\",\n                placeholder: \"Password\",\n                className: styles.inputPaymentPanel,\n                id: styles.inputSettingCont_L,\n                style: {\n                  width: '100%'\n                },\n                value: this.state.password1,\n                autoComplete: 'off',\n                onChange: event => {\n                  this.setState({\n                    password1: event.target.value\n                  });\n                }\n              })\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: styles.em,\n              children: this.state.errorMessage\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: styles.enterKilometerDiv,\n              id: styles.inputSettingCont__,\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: styles.button1,\n                id: styles.deleteAccountButton_,\n                style: {\n                  backgroundColor: colors.RED,\n                  maxWidth: 'initial',\n                  height: '40px',\n                  minHeight: 'initial',\n                  margin: '0px',\n                  width: '49%'\n                },\n                onClick: () => {\n                  if (!this.state.loading) deleteAccount.call(this, this.state.email1, this.state.password1);\n                },\n                children: this.state.loading ? /*#__PURE__*/_jsx(Loader, {\n                  type: \"TailSpin\",\n                  color: colors.WHITE,\n                  height: '20px',\n                  width: '20px'\n                }) : /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.buttonText1,\n                  id: styles.deleteAccountButton,\n                  children: \"Delete Account\"\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: styles.button1,\n                id: styles.deleteAccountButton_,\n                style: {\n                  backgroundColor: this.props.type == 'Driver' ? colors.BLUE : colors.GREEN,\n                  maxWidth: 'initial',\n                  height: '40px',\n                  minHeight: 'initial',\n                  margin: '0px',\n                  width: '49%'\n                },\n                onClick: () => {\n                  this.setState({\n                    toShow: 'default',\n                    errorMessage: '',\n                    email1: '',\n                    password1: ''\n                  });\n                },\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.buttonText1,\n                  id: styles.deleteAccountButton,\n                  children: \"Cancel\"\n                })\n              })]\n            })]\n          });\n        }\n        break;\n    }\n\n    return /*#__PURE__*/_jsx(\"div\", {\n      className: styles.cont,\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.container,\n        style: {\n          backgroundColor: colors.WHITE,\n          marginTop: '20px',\n          marginBottom: '150px'\n        },\n        children: [/*#__PURE__*/_jsx(\"p\", {\n          className: styles.title,\n          style: {\n            color: colors.BLACK\n          },\n          children: \"Rider settings\"\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.settingUserDetails,\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: styles.displayPicSettings,\n            children: /*#__PURE__*/_jsx(\"img\", {\n              src: this.state.url,\n              className: styles.doggyProfilePicture\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: styles.settingsCont,\n            children: content\n          })]\n        })]\n      })\n    });\n  }\n\n}\n;","map":{"version":3,"sources":["/Users/ugo/Documents/Perch_Projects/Perch-Website/functions/panels/userPanels/settings.js"],"names":["axios","firebase","React","GiClick","RiShieldCheckFill","Loader","changePassword","deleteAccount","sendVerification","colors","styles","Settings","Component","constructor","props","photoRef","storage","ref","getDownloadURL","then","result","setState","url","catch","error","console","log","message","type","timer","time","setInterval","state","clearInterval","userDetails","userID","newEmail","firstName","toShow","toVerify","newPhoneNumber","email","phoneNumber","currentPassword","newPassword","confirmNewPassword","loading","errorMessage","deleteAccountReason","email1","password1","emailVerified","phoneVerified","verifyText","componentDidMount","setImage","database","on","snap","val","render","content","title","color","BLACK","marginBottom","enterKilometerDiv","margin","width","inputPaymentPanel","inputSettings","lastName","inputSettingCont_","event","target","value","inputSettingCont_L","pickPaymentSelected","backgroundColor","inputSettingCont_R","buttonText1","settingsVerifyOrNot","settingsVerifyOrNotIcon","WHITE","inputSettingCont_R_VERIFYNOW","sendVerificationCode","post","r","data","inputSettingCont__","changePasswordButton","BLUE","button1","deleteAccountButton_","RED","maxWidth","height","minHeight","deleteAccountButton","em","GREEN","call","text","v","fontSize","resendCodeSettings","BLUE_TEXT","slice","code","length","action","name","contactUsContent","cont","container","marginTop","settingUserDetails","displayPicSettings","doggyProfilePicture","settingsCont"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport firebase from 'firebase';\nimport React from 'react';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { GiClick } from 'react-icons/gi';\nimport { RiShieldCheckFill } from 'react-icons/ri';\nimport Loader from 'react-loader-spinner';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport {\n    changePassword,\n    deleteAccount,\n    sendVerification,\n    colors\n} from '../../functions';\nimport styles from '../panel_layout.module.css';\n\n\nexport default class Settings extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            toShow: 'default',//default, changePassword, verify, whyDeleteAccount,logInToDeleteAccount,\n            toVerify: '',\n            url: null,\n            userDetails: this.props.userDetails,\n            newEmail: this.props.userDetails ? this.props.userDetails.email : '',\n            newPhoneNumber: this.props.userDetails ? this.props.userDetails.phoneNumber : '',\n            currentPassword: '',\n            newPassword: '',\n            confirmNewPassword: '',\n            loading: false,\n            errorMessage: '',\n            deleteAccountReason: '',\n            email1: '',\n            password1: '',\n            timer: 0,\n\n            emailVerified: false,\n            phoneVerified: true,\n\n            verifyText: '',\n\n        };\n    };\n    componentDidMount() {\n        this.setImage(this.state.userDetails.photoRef);\n\n        firebase.database().ref(`users/${this.state.userDetails.userID}/summarizedHistory`).on('value', snap => {\n            if (snap.val())\n                this.setState({ emailVerified: snap.val().emailVerified, phoneVerified: snap.val().phoneVerified });\n        })\n    }\n    setImage = (photoRef) => {\n        firebase.storage().ref(`${photoRef}`).getDownloadURL()\n            .then(result => {\n                this.setState({ url: result })\n            }).catch(error => { console.log(error.message) });\n    };\n    sendVerificationCode = (type) => {\n        this.setState({ timer: 60 }, () => {\n            const time = setInterval(() => {\n                if (this.state.timer == 0)\n                    clearInterval(time);\n                else\n                    this.setState({ timer: this.state.timer - 1 })\n            }, 1000);\n        });\n        if (this.state.timer == 0)\n            switch (type) {\n                case 'email': {\n                    sendVerification(this.state.userDetails.userID,\n                        'email',\n                        'storeAndSend',\n                        '',\n                        '',\n                        this.state.newEmail,\n                        this.state.userDetails.firstName);\n                    this.setState({ toShow: 'verify', toVerify: 'email' });\n                } break;\n                case 'phoneNumber': {\n                    sendVerification(this.state.userDetails.userID,\n                        'phoneNumber',\n                        'storeAndSend',\n                        '',\n                        this.state.newPhoneNumber,\n                        '',\n                        this.state.userDetails.firstName);\n                    this.setState({ toShow: 'verify', toVerify: 'phone number' });\n                } break;\n            };\n    };\n    render() {\n        let content = <></>;\n        if (!this.state.userDetails && this.props.userDetails)\n            this.setState({\n                userDetails: this.props.userDetails,\n                newEmail: this.props.userDetails.email,\n                newPhoneNumber: this.props.userDetails.phoneNumber,\n            }, () => { this.setImage(this.state.userDetails.photoRef); });\n\n        switch (this.state.toShow) {\n            case 'default': {\n                content = (<>\n                    <p className={styles.title} style={{ color: colors.BLACK, marginBottom: '15px' }}>{`User details`}</p>\n\n                    <div className={styles.enterKilometerDiv} style={{ margin: '0px', width: '100%' }}>\n                        <input type=\"text\"\n                            placeholder=\"First Name\"\n                            className={styles.inputPaymentPanel}\n                            id={styles.inputSettings} style={{ width: '49%', margin: '0px' }}\n                            value={this.state.userDetails ? this.state.userDetails.firstName : 'First Name'}\n                            disabled={true}\n                        />\n                        <input type=\"text\"\n                            placeholder=\"Last Name\"\n                            className={styles.inputPaymentPanel}\n                            id={styles.inputSettings}\n                            style={{ width: '49%', margin: '0px' }}\n                            value={this.state.userDetails ? this.state.userDetails.lastName : 'Last Name'}\n                            disabled={true}\n                        />\n                    </div>\n                    <div className={styles.enterKilometerDiv} id={styles.inputSettingCont_}>\n                        <input type=\"text\"\n                            placeholder=\"Email Address\"\n                            className={styles.inputPaymentPanel}\n                            value={this.state.newEmail}\n                            onChange={(event) => { this.setState({ newEmail: event.target.value }) }}\n                            id={styles.inputSettingCont_L} />\n                        {this.state.emailVerified && this.state.userDetails.email == this.state.newEmail ?\n                            <div className={styles.pickPaymentSelected} style={{ backgroundColor: this.props.type == 'Driver' ? '#39A2E5' : '#5EEF56', }} id={styles.inputSettingCont_R}>\n                                <p className={styles.buttonText1} id={styles.settingsVerifyOrNot}>Verified</p>\n                                <RiShieldCheckFill className={styles.settingsVerifyOrNotIcon} color={colors.WHITE} />\n                            </div> :\n                            <div className={styles.pickPaymentSelected}\n                                style={{ backgroundColor: '#FF4040' }}\n                                id={styles.inputSettingCont_R_VERIFYNOW}\n                                onClick={() => { this.sendVerificationCode('email') }}\n                            >\n                                <p className={styles.buttonText1} id={styles.settingsVerifyOrNot}>Verify Now</p>\n                                <GiClick className={styles.settingsVerifyOrNotIcon} color={colors.WHITE} />\n                            </div>}\n                    </div>\n                    <div className={styles.enterKilometerDiv} id={styles.inputSettingCont_}>\n                        <input type=\"text\"\n                            placeholder=\"Phone Number\"\n                            className={styles.inputPaymentPanel}\n                            value={this.state.newPhoneNumber}\n                            onChange={(event) => { this.setState({ newPhoneNumber: event.target.value }) }}\n                            id={styles.inputSettingCont_L} />\n                        {this.state.phoneVerified && this.state.userDetails.phoneNumber == this.state.newPhoneNumber ?\n                            <div className={styles.pickPaymentSelected} style={{ backgroundColor: this.props.type == 'Driver' ? '#39A2E5' : '#5EEF56', }} id={styles.inputSettingCont_R}>\n                                <p className={styles.buttonText1} id={styles.settingsVerifyOrNot}>Verified</p>\n                                <RiShieldCheckFill className={styles.settingsVerifyOrNotIcon} color={colors.WHITE} />\n                            </div> :\n                            <div\n                                className={styles.pickPaymentSelected}\n                                style={{ backgroundColor: '#FF4040' }}\n                                id={styles.inputSettingCont_R_VERIFYNOW}\n                                onClick={() => {\n                                    axios.post(`https://us-central1-perch-01.cloudfunctions.net/checkIfPhoneNumberIsFree`, { phoneNumber: this.state.newPhoneNumber })\n                                        .then((r) => {\n                                            if (r.data) {\n                                                this.sendVerificationCode('phoneNumber')\n                                            }\n                                            else\n                                                this.setState({ error: true, errorMessage: 'Phone number already in use by another account' })\n                                        })\n                                        .catch(error => {\n                                            this.setState({ error: true, errorMessage: error.message })\n                                        })\n                                }}>\n                                <p className={styles.buttonText1} id={styles.settingsVerifyOrNot}>Verify Now</p>\n                                <GiClick className={styles.settingsVerifyOrNotIcon} color={colors.WHITE} />\n                            </div>}\n                    </div>\n                    <div className={styles.enterKilometerDiv} id={styles.inputSettingCont__} >\n                        <p\n                            onClick={() => { this.setState({ toShow: 'changePassword' }) }}\n                            className={styles.changePasswordButton}\n                            style={this.props.type ? { color: colors.BLUE } : {}}>Change Password</p>\n                        <div\n                            className={styles.button1}\n                            id={styles.deleteAccountButton_}\n                            style={{ backgroundColor: colors.RED, maxWidth: 'initial', height: '40px', minHeight: 'initial', margin: '0px' }}\n                            onClick={() => { this.setState({ toShow: 'whyDeleteAccount' }) }}\n                        >\n                            <p className={styles.buttonText1} id={styles.deleteAccountButton}>Delete Account</p>\n                        </div>\n                    </div>\n                </>);\n            } break;\n            case 'changePassword': {\n                content = (<>\n                    <p className={styles.title} style={{ color: colors.BLACK }}>Change Password</p>\n                    <div className={styles.enterKilometerDiv} id={styles.inputSettingCont_}>\n                        <input\n                            type=\"password\"\n                            placeholder=\"Current Password\"\n                            className={styles.inputPaymentPanel}\n                            id={styles.inputSettingCont_L}\n                            value={this.state.currentPassword}\n                            onChange={(event) => { this.setState({ currentPassword: event.target.value }) }}\n                            style={{ width: '100%' }} />\n\n                    </div>\n                    <div className={styles.enterKilometerDiv} id={styles.inputSettingCont_}>\n                        <input\n                            type=\"password\"\n                            placeholder=\"New Password\"\n                            className={styles.inputPaymentPanel}\n                            id={styles.inputSettingCont_L}\n                            value={this.state.newPassword}\n                            onChange={(event) => { this.setState({ newPassword: event.target.value }) }}\n                            style={{ width: '100%' }}\n                        />\n\n                    </div>\n                    <div className={styles.enterKilometerDiv} id={styles.inputSettingCont_}>\n                        <input\n                            type=\"password\"\n                            placeholder=\"Confirm New Password\"\n                            className={styles.inputPaymentPanel}\n                            id={styles.inputSettingCont_L}\n                            style={{ width: '100%' }}\n                            value={this.state.confirmNewPassword}\n                            onChange={(event) => { this.setState({ confirmNewPassword: event.target.value }) }}\n                        />\n\n                    </div>\n                    <p className={styles.em}>{this.state.errorMessage}</p>\n                    <div className={styles.enterKilometerDiv} id={styles.inputSettingCont__} >\n                        <div className={styles.button1}\n                            id={styles.deleteAccountButton_}\n                            style={{ backgroundColor: colors.RED, maxWidth: 'initial', height: '40px', minHeight: 'initial', margin: '0px', width: '49%' }}\n                            onClick={() => {\n                                if (!this.state.loading)\n                                    this.setState({ toShow: 'default', errorMessage: '', currentPassword: '', newPassword: '', confirmNewPassword: '' });\n                            }}>\n                            <p className={styles.buttonText1} id={styles.deleteAccountButton}>Cancel</p>\n                        </div>\n                        <div\n                            className={styles.button1}\n                            id={styles.deleteAccountButton_}\n                            style={{ backgroundColor: this.props.type == 'Driver' ? colors.BLUE : colors.GREEN, maxWidth: 'initial', height: '40px', minHeight: 'initial', margin: '0px', width: '49%' }}\n                            onClick={() => {\n                                if (!this.state.loading) {\n                                    if (this.state.newPassword == '')\n                                        this.setState({ errorMessage: 'Please enter a new password' })\n                                    else if (this.state.newPassword != this.state.confirmNewPassword)\n                                        this.setState({ errorMessage: 'New password and confirm new password do not match' })\n                                    else\n                                        changePassword.call(this,\n                                            this.state.userDetails.email,\n                                            this.state.currentPassword,\n                                            this.state.newPassword);\n                                }\n                            }}\n                        >\n                            {this.state.loading ?\n                                <Loader\n                                    type=\"TailSpin\"\n                                    color={colors.WHITE}\n                                    height={'20px'}\n                                    width={'20px'} /> :\n                                <p className={styles.buttonText1} id={styles.deleteAccountButton}>Change Password</p>\n                            }\n                        </div>\n                    </div>\n                </>);\n            } break;\n            case 'verify': {\n                content = (<>\n                    <p className={styles.title} style={{ color: colors.BLACK }}>{`Verify your ${this.state.toVerify}`}</p>\n                    <p className={styles.text} style={{ color: colors.BLACK }}>\n                        Enter the code sent to <span style={{ color: this.props.type == 'Driver' ? colors.BLUE : colors.GREEN }}>{\n                            this.state.toVerify == 'email' ?\n                                this.state.newEmail :\n                                this.state.newPhoneNumber}</span>\n                    </p>\n                    <div className={styles.enterKilometerDiv} id={styles.inputSettingCont_}>\n                        <input\n                            type=\"text\"\n                            placeholder=\"Enter Code\"\n                            className={styles.inputPaymentPanel}\n                            id={styles.inputSettingCont_L} style={{ width: '100%' }}\n                            value={this.state.verifyText}\n                            onChange={(v) => { this.setState({ verifyText: v.target.value }) }}\n                        />\n                    </div>\n                    {this.state.timer == 0 ?\n                        <p className={styles.text} style={{ color: colors.BLACK, fontSize: '80%' }}>\n                            Didn't get a code yet? <span\n                                id={styles.resendCodeSettings}\n                                onClick={() => { this.sendVerificationCode(this.state.toVerify == 'email' ? 'email' : 'phoneNumber') }}\n                                style={{ color: colors.BLUE_TEXT }}>Resend</span>\n                        </p> :\n                        <p className={styles.text} style={{ color: colors.BLACK, fontSize: '80%' }}>\n                            Resend in <span style={{ color: colors.BLUE_TEXT }}>{` 0:${('0' + this.state.timer).slice(-2)}`}</span>\n                        </p>}\n                    <p className={styles.em}>{this.state.errorMessage}</p>\n                    <div className={styles.enterKilometerDiv} id={styles.inputSettingCont__} >\n                        <div className={styles.button1}\n                            id={styles.deleteAccountButton_}\n                            style={{ backgroundColor: colors.RED, maxWidth: 'initial', height: '40px', minHeight: 'initial', margin: '0px', width: '49%' }}\n                            onClick={() => { this.setState({ toShow: 'default', errorMessage: '' }) }}>\n                            <p className={styles.buttonText1} id={styles.deleteAccountButton}>Cancel</p>\n                        </div>\n                        <div\n                            className={styles.button1}\n                            id={styles.deleteAccountButton_}\n                            style={{ backgroundColor: this.props.type == 'Driver' ? colors.BLUE : colors.GREEN, maxWidth: 'initial', height: '40px', minHeight: 'initial', margin: '0px', width: '49%' }}\n                            onClick={() => {\n                                const code = this.state.verifyText;\n                                if (code.length != 6) {\n                                    this.setState({ errorMessage: 'Verification code must be 6 characters long' })\n                                } else {\n                                    this.setState({ loading: true }, () => {\n                                        const type = this.state.toVerify == 'email' ? 'email' : 'phoneNumber';\n                                        switch (type) {\n                                            case 'email': {\n                                                axios.post(`https://us-central1-perch-01.cloudfunctions.net/sendVerificationCode`,\n                                                    {\n                                                        userID: this.state.userDetails.userID,\n                                                        type: type,\n                                                        action: 'check',\n                                                        code: code,\n                                                        phoneNumber: '',\n                                                        email: this.state.newEmail,\n                                                        name: this.state.userDetails.firstName\n                                                    })\n                                                    .then((r) => {\n                                                        if (r.data) {\n                                                            axios.post(`https://us-central1-perch-01.cloudfunctions.net/changeEmailAndPhoneNumberAfterVerifying`, {\n                                                                userID: this.state.userDetails.userID,\n                                                                type: type,\n                                                                phoneNumber: '',\n                                                                email: this.state.newEmail,\n                                                            }).then(() => {\n                                                                let userDetails = this.state.userDetails;\n                                                                userDetails.email = this.state.newEmail;\n                                                                this.setState({ toShow: 'default', loading: false, userDetails: userDetails, errorMessage: '' })\n                                                            }).catch((error) => { this.setState({ errorMessage: error.message, loading: false }) })\n                                                        }\n                                                        else\n                                                            this.setState({ errorMessage: 'Validation code is not valid', loading: false })\n                                                    })\n                                                    .catch((error) => { this.setState({ errorMessage: error.message, loading: false }) })\n\n                                            } break;\n                                            case 'phoneNumber': {\n                                                axios.post(`https://us-central1-perch-01.cloudfunctions.net/sendVerificationCode`,\n                                                    {\n                                                        userID: this.state.userDetails.userID,\n                                                        type: type,\n                                                        action: 'check',\n                                                        code: code,\n                                                        phoneNumber: this.state.newPhoneNumber,\n                                                        email: '',\n                                                        name: this.state.userDetails.firstName\n                                                    })\n                                                    .then((r) => {\n                                                        if (r.data) {\n                                                            axios.post(`https://us-central1-perch-01.cloudfunctions.net/changeEmailAndPhoneNumberAfterVerifying`, {\n                                                                userID: this.state.userDetails.userID,\n                                                                type: type,\n                                                                phoneNumber: '',\n                                                                email: this.state.newEmail,\n                                                            }).then(() => {\n                                                                let userDetails = this.state.userDetails;\n                                                                userDetails.phoneNumber = this.state.newPhoneNumber;\n                                                                this.setState({ toShow: 'default', loading: false, userDetails: userDetails, errorMessage: '' })\n                                                            }).catch((error) => { this.setState({ errorMessage: error.message, loading: false }) })\n                                                        }\n                                                        else\n                                                            this.setState({ errorMessage: 'Validation code is not valid', loading: false })\n                                                    })\n                                                    .catch((error) => { this.setState({ errorMessage: error.message, loading: false }) })\n                                            } break;\n                                        }\n                                    })\n                                }\n                            }}\n                        >\n                            {this.state.loading ?\n                                <Loader\n                                    type=\"TailSpin\"\n                                    color={colors.WHITE}\n                                    height={'20px'}\n                                    width={'20px'} /> :\n                                <p className={styles.buttonText1} id={styles.deleteAccountButton}>Verify</p>}\n                        </div>\n                    </div>\n                </>);\n            } break;\n            case 'whyDeleteAccount': {\n                content = (<>\n                    <p className={styles.title} style={{ color: colors.BLACK }}>Are you sure you would like to delete your account?</p>\n                    <p className={styles.text} style={{ color: colors.BLACK }}>\n                        Please describe briefly why you would like to delete your account\n                    </p>\n                    <textarea\n                        type=\"text\"\n                        placeholder=\"Enter your message here\"\n                        className={styles.contactUsContent}\n                        style={{ width: '100%' }}\n                        value={this.state.deleteAccountReason}\n                        onChange={event => { this.setState({ deleteAccountReason: event.target.value }) }}\n                    />\n\n                    <p className={styles.em}>{this.state.errorMessage}</p>\n\n                    <div className={styles.enterKilometerDiv} id={styles.inputSettingCont__} >\n                        <div\n                            className={styles.button1}\n                            id={styles.deleteAccountButton_}\n                            style={{ backgroundColor: colors.RED, maxWidth: 'initial', height: '40px', minHeight: 'initial', margin: '0px', width: '49%' }}\n                            onClick={() => {\n                                if (this.state.deleteAccountReason == '')\n                                    this.setState({ errorMessage: 'Please enter a reason to delete your account' });\n                                else if (this.state.deleteAccountReason.length < 15)\n                                    this.setState({ errorMessage: 'Please enter a reason longer than 15 characters' });\n                                else\n                                    this.setState({ toShow: 'logInToDeleteAccount', errorMessage: '' })\n                            }}\n                        >\n                            <p className={styles.buttonText1} id={styles.deleteAccountButton}>Delete Account</p>\n                        </div>\n\n                        <div className={styles.button1}\n                            id={styles.deleteAccountButton_}\n                            style={{ backgroundColor: this.props.type == 'Driver' ? colors.BLUE : colors.GREEN, maxWidth: 'initial', height: '40px', minHeight: 'initial', margin: '0px', width: '49%' }}\n                            onClick={() => { this.setState({ toShow: 'default', errorMessage: '', deleteAccountReason: '' }) }}>\n                            <p className={styles.buttonText1} id={styles.deleteAccountButton}>Cancel</p>\n                        </div>\n                    </div>\n                </>);\n            } break;\n            case 'logInToDeleteAccount': {\n                content = (<>\n                    <p className={styles.title} style={{ color: colors.BLACK }}>We are sorry to see you leave Perch</p>\n                    <p className={styles.text} style={{ color: colors.BLACK }}>\n                        Please describe briefly why you would like to delete your account\n                    </p>\n                    <div className={styles.enterKilometerDiv} id={styles.inputSettingCont_}>\n                        <input type=\"text\"\n                            placeholder=\"Email\"\n                            className={styles.inputPaymentPanel}\n                            id={styles.inputSettingCont_L}\n                            style={{ width: '100%' }}\n                            value={this.state.email1}\n                            autoComplete={'off'}\n                            onChange={(event) => { this.setState({ email1: event.target.value }) }} />\n                    </div>\n                    <div className={styles.enterKilometerDiv} id={styles.inputSettingCont_}>\n                        <input type=\"password\"\n                            placeholder=\"Password\"\n                            className={styles.inputPaymentPanel}\n                            id={styles.inputSettingCont_L}\n                            style={{ width: '100%' }}\n                            value={this.state.password1}\n                            autoComplete={'off'}\n                            onChange={(event) => { this.setState({ password1: event.target.value }) }} />\n                    </div>\n                    <p className={styles.em}>{this.state.errorMessage}</p>\n                    <div className={styles.enterKilometerDiv} id={styles.inputSettingCont__} >\n                        <div className={styles.button1}\n                            id={styles.deleteAccountButton_}\n                            style={{ backgroundColor: colors.RED, maxWidth: 'initial', height: '40px', minHeight: 'initial', margin: '0px', width: '49%' }}\n                            onClick={() => {\n                                if (!this.state.loading)\n                                    deleteAccount.call(this,\n                                        this.state.email1,\n                                        this.state.password1);\n                            }}>\n                            {this.state.loading ?\n                                <Loader\n                                    type=\"TailSpin\"\n                                    color={colors.WHITE}\n                                    height={'20px'}\n                                    width={'20px'} /> :\n                                <p className={styles.buttonText1} id={styles.deleteAccountButton}>Delete Account</p>\n                            }\n                        </div>\n                        <div\n                            className={styles.button1}\n                            id={styles.deleteAccountButton_}\n                            style={{ backgroundColor: this.props.type == 'Driver' ? colors.BLUE : colors.GREEN, maxWidth: 'initial', height: '40px', minHeight: 'initial', margin: '0px', width: '49%' }}\n                            onClick={() => { this.setState({ toShow: 'default', errorMessage: '', email1: '', password1: '' }) }}\n                        >\n                            <p className={styles.buttonText1} id={styles.deleteAccountButton}>Cancel</p>\n                        </div>\n                    </div>\n                </>);\n            } break;\n        }\n        return (\n            <div className={styles.cont}>\n\n                <div className={styles.container} style={{ backgroundColor: colors.WHITE, marginTop: '20px', marginBottom: '150px' }}>\n                    <p className={styles.title} style={{ color: colors.BLACK }}>Rider settings</p>\n                    <div className={styles.settingUserDetails} >\n                        <div className={styles.displayPicSettings}>\n                            <img src={this.state.url} className={styles.doggyProfilePicture} />\n                        </div>\n                        <div className={styles.settingsCont}>\n                            {content}\n                        </div>\n                    </div>\n                </div>\n            </div >\n        );\n    }\n};"]},"metadata":{},"sourceType":"module"}