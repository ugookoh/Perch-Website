{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n//driver sign in and sign up\nimport React from 'react';\nimport styles from './layout.module.css';\nimport Head from 'next/head';\nimport { Logo } from '../../../functions/images/vectors';\nimport { FaEnvelope } from 'react-icons/fa';\nimport { BsFillLockFill, BsEye, BsEyeSlash } from 'react-icons/bs';\nimport { CgKeyboard } from 'react-icons/cg';\nimport ReactCardFlip from 'react-card-flip';\nimport Truncate from 'react-truncate';\nimport Router from 'next/router';\nimport { signIn, signUp, signOut } from '../../../functions/functions';\nimport Loader from 'react-loader-spinner';\nvar WHITE = '#FFFFFF';\n\nvar index = /*#__PURE__*/function (_React$Component) {\n  _inherits(index, _React$Component);\n\n  var _super = _createSuper(index);\n\n  function index() {\n    var _this;\n\n    _classCallCheck(this, index);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"updateWindowDimensions\", function () {\n      _this.setState({\n        width: window.innerWidth,\n        height: window.innerHeight\n      });\n    });\n\n    _this.state = {\n      error: false,\n      errorMessage: '',\n      isFlipped: false,\n      displayVerification: false,\n      //false at first then if it is not verified then you have to display it,\n      email: '',\n      password: '',\n      showPassword: false,\n      firstName: '',\n      lastName: '',\n      email1: '',\n      phoneNumber: '',\n      password1: '',\n      confirmPassword: '',\n      showPassword1: false,\n      showPassword2: false,\n      loading: false,\n      width: '100vw',\n      height: '100vh'\n    };\n    return _this;\n  }\n\n  _createClass(index, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.addEventListener('resize', this.updateWindowDimensions);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('resize', this.updateWindowDimensions);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.container,\n        children: [/*#__PURE__*/_jsxs(Head, {\n          children: [/*#__PURE__*/_jsx(\"title\", {\n            children: \"Sign In or Sign Up | Perch\"\n          }), /*#__PURE__*/_jsx(\"meta\", {\n            name: \"viewport\",\n            content: \"width=device-width, initial-scale=1\"\n          }), /*#__PURE__*/_jsx(\"link\", {\n            rel: \"icon\",\n            type: \"image/png\",\n            sizes: \"32x32\",\n            href: \"/favicon-32x32.png\"\n          }), /*#__PURE__*/_jsx(\"link\", {\n            rel: \"icon\",\n            type: \"image/png\",\n            sizes: \"16x16\",\n            href: \"/favicon-16x16.png\"\n          }), /*#__PURE__*/_jsx(\"link\", {\n            rel: \"apple-touch-icon\",\n            sizes: \"180x180\",\n            href: \"/apple-touch-icon.png\"\n          }), /*#__PURE__*/_jsx(\"link\", {\n            rel: \"manifest\",\n            href: \"/site.webmanifest\"\n          }), /*#__PURE__*/_jsx(\"link\", {\n            rel: \"mask-icon\",\n            href: \"/safari-pinned-tab.svg\",\n            color: \"#5bbad5\"\n          }), /*#__PURE__*/_jsx(\"meta\", {\n            name: \"theme-color\",\n            content: \"#ffffff\"\n          }), /*#__PURE__*/_jsx(\"html\", {\n            lang: \"en\"\n          })]\n        }), this.state.isFlipped ? /*#__PURE__*/_jsx(\"img\", {\n          src: \"/d_su.svg\",\n          alt: \"Sign in\",\n          className: styles.img,\n          style: {\n            height: this.state.height,\n            width: this.state.width\n          }\n        }) : /*#__PURE__*/_jsx(\"img\", {\n          src: \"/d_si.svg\",\n          alt: \"Log in\",\n          className: styles.img,\n          style: {\n            height: this.state.height,\n            width: this.state.width\n          }\n        }), this.state.displayVerification ? /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.card ///SIGN IN\n          ,\n          children: [/*#__PURE__*/_jsx(\"a\", {\n            className: styles.logo,\n            href: \"/\",\n            children: /*#__PURE__*/_jsx(Logo, {\n              color: '#4EB848'\n            })\n          }), /*#__PURE__*/_jsx(\"p\", {\n            style: {\n              marginBottom: '10px'\n            },\n            className: styles.title,\n            children: \"Contact Verification\"\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            className: styles.cvTitle,\n            children: [\"Enter the verification code sent to the number \", /*#__PURE__*/_jsx(\"span\", {\n              style: {\n                color: \"#4EB848\",\n                display: 'inline-block'\n              },\n              children: \"+(919)110-7893\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: styles.inputCont_,\n            style: {\n              marginBottom: '5px'\n            },\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              className: styles.inputContHalf,\n              style: {\n                width: '65%',\n                marginBottom: '0px'\n              },\n              children: [/*#__PURE__*/_jsx(CgKeyboard, {\n                color: '#4EB848',\n                size: 20,\n                style: {\n                  marginRight: '10px',\n                  marginLeft: '10px'\n                }\n              }), /*#__PURE__*/_jsx(\"input\", {\n                type: \"text\",\n                placeholder: \"Code\",\n                className: styles.pH\n              })]\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: styles.button1,\n              style: {\n                width: '30%'\n              },\n              children: /*#__PURE__*/_jsx(\"p\", {\n                className: styles.buttonText1,\n                children: \"Verify\"\n              })\n            })]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            className: styles.cvTitle,\n            style: {\n              fontSize: 'smaller'\n            },\n            children: [\"Didnt get the code yet? \", /*#__PURE__*/_jsx(\"span\", {\n              className: styles.cursor,\n              style: {\n                color: \"#005BEA\",\n                display: 'inline',\n                fontFamily: 'Gilroy-Semibold'\n              },\n              children: \"Resend\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            className: styles.cvTitle,\n            style: {\n              marginTop: '10px'\n            },\n            children: [\"Enter the verification code sent to the email \", /*#__PURE__*/_jsx(\"span\", {\n              style: {\n                color: \"#4EB848\",\n                display: 'inline-block'\n              },\n              children: \"test2test.com\"\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: styles.inputCont_,\n            style: {\n              marginBottom: '5px'\n            },\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              className: styles.inputContHalf,\n              style: {\n                width: '65%',\n                marginBottom: '0px'\n              },\n              children: [/*#__PURE__*/_jsx(CgKeyboard, {\n                color: '#4EB848',\n                size: 20,\n                style: {\n                  marginRight: '10px',\n                  marginLeft: '10px'\n                }\n              }), /*#__PURE__*/_jsx(\"input\", {\n                type: \"text\",\n                placeholder: \"Code\",\n                className: styles.pH\n              })]\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: styles.button1,\n              style: {\n                width: '30%'\n              },\n              children: /*#__PURE__*/_jsx(\"p\", {\n                className: styles.buttonText1,\n                children: \"Verify\"\n              })\n            })]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            className: styles.cvTitle,\n            style: {\n              fontSize: 'smaller'\n            },\n            children: [\"Didnt get the code yet? \", /*#__PURE__*/_jsx(\"span\", {\n              className: styles.cursor,\n              style: {\n                color: \"#005BEA\",\n                display: 'inline',\n                fontFamily: 'Gilroy-Semibold'\n              },\n              children: \"Resend\"\n            })]\n          }), this.state.error ? /*#__PURE__*/_jsx(Truncate, {\n            lines: 1,\n            ellipsis: '...',\n            className: styles.em,\n            children: this.state.errorMessage\n          }) : /*#__PURE__*/_jsx(_Fragment, {}), /*#__PURE__*/_jsx(\"a\", {\n            className: styles.button1,\n            style: {\n              marginTop: this.state.error ? '0px' : '25px'\n            },\n            onClick: function onClick() {// this.setState({ error: !this.state.error })\n            },\n            children: /*#__PURE__*/_jsx(\"p\", {\n              className: styles.buttonText1,\n              children: \"Complete verification\"\n            })\n          }), /*#__PURE__*/_jsx(\"a\", {\n            className: styles.fp_,\n            children: /*#__PURE__*/_jsx(\"p\", {\n              className: styles.fp,\n              style: {\n                fontSize: 'smaller'\n              },\n              children: \"Change phone number or email\"\n            })\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: styles.inputCont_d,\n            style: {\n              marginTop: '30px'\n            },\n            children: [/*#__PURE__*/_jsxs(\"p\", {\n              className: styles.cu_,\n              style: {\n                margin: '0px'\n              },\n              children: [\"Running into an issue? \", /*#__PURE__*/_jsx(\"a\", {\n                href: \"/contact_us\",\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.cu,\n                  style: {\n                    color: '#4EB848'\n                  },\n                  children: \"Contact us\"\n                })\n              })]\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: styles.cu,\n              style: {\n                fontFamily: 'Gilroy-Semibold',\n                color: '#FF0000',\n                margin: '0px'\n              },\n              onClick: function onClick() {\n                _this2.setState({\n                  email: '',\n                  password: '',\n                  displayVerification: false,\n                  isFlipped: false\n                });\n\n                signOut.call(_this2, true);\n              },\n              children: \"Sign out\"\n            })]\n          })]\n        }) : /*#__PURE__*/_jsxs(ReactCardFlip, {\n          isFlipped: this.state.isFlipped,\n          flipDirection: \"horizontal\",\n          cardZIndex: 2,\n          containerStyle: {\n            marginRight: '5vw'\n          },\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: styles.card ///SIGN IN\n            ,\n            style: {\n              marginRight: '0px'\n            },\n            children: [/*#__PURE__*/_jsx(\"a\", {\n              className: styles.logo,\n              href: \"/\",\n              children: /*#__PURE__*/_jsx(Logo, {\n                color: '#4EB848'\n              })\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: styles.title,\n              children: \"Sign In\"\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: styles.inputCont,\n              children: [/*#__PURE__*/_jsx(FaEnvelope, {\n                color: '#4EB848',\n                className: styles.env\n              }), /*#__PURE__*/_jsx(\"input\", {\n                type: \"text\",\n                placeholder: \"Email\",\n                className: styles.pH,\n                value: this.state.email,\n                onChange: function onChange(event) {\n                  _this2.setState({\n                    email: event.target.value\n                  });\n                }\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: styles.inputCont,\n              children: [/*#__PURE__*/_jsx(BsFillLockFill, {\n                color: '#4EB848',\n                className: styles.pad\n              }), /*#__PURE__*/_jsx(\"input\", {\n                type: this.state.showPassword ? \"text\" : \"password\",\n                placeholder: \"Password\",\n                className: styles.pH_,\n                value: this.state.password,\n                onChange: function onChange(event) {\n                  _this2.setState({\n                    password: event.target.value\n                  });\n                }\n              }), this.state.showPassword ? /*#__PURE__*/_jsx(BsEyeSlash, {\n                color: 'rgba(112, 112, 112, 0.9)',\n                className: styles.eye,\n                onClick: function onClick() {\n                  _this2.setState({\n                    showPassword: !_this2.state.showPassword\n                  });\n                }\n              }) : /*#__PURE__*/_jsx(BsEye, {\n                color: 'rgba(112, 112, 112, 0.9)',\n                className: styles.eye,\n                onClick: function onClick() {\n                  _this2.setState({\n                    showPassword: !_this2.state.showPassword\n                  });\n                }\n              })]\n            }), this.state.error ? /*#__PURE__*/_jsx(Truncate, {\n              lines: 1,\n              ellipsis: '...',\n              className: styles.em,\n              children: this.state.errorMessage\n            }) : /*#__PURE__*/_jsx(_Fragment, {}), /*#__PURE__*/_jsx(\"a\", {\n              className: styles.button1,\n              style: {\n                marginTop: this.state.error ? '0px' : '25px'\n              },\n              onClick: function onClick() {\n                if (!_this2.state.loading) {\n                  if (_this2.state.email == '') _this2.setState({\n                    error: true,\n                    errorMessage: 'Please enter your email'\n                  });else if (_this2.state.password == '') _this2.setState({\n                    error: true,\n                    errorMessage: 'Please enter your password'\n                  });else signIn.call(_this2, _this2.state.email, _this2.state.password, 'driver');\n                }\n              },\n              children: this.state.loading ? /*#__PURE__*/_jsx(Loader, {\n                type: \"TailSpin\",\n                color: WHITE,\n                height: '20px',\n                width: '20px'\n              }) : /*#__PURE__*/_jsx(\"p\", {\n                className: styles.buttonText1,\n                children: \"Log in\"\n              })\n            }), /*#__PURE__*/_jsx(\"a\", {\n              className: styles.fp_,\n              children: /*#__PURE__*/_jsx(\"p\", {\n                className: styles.fp,\n                children: \"Forgot password?\"\n              })\n            }), /*#__PURE__*/_jsxs(\"p\", {\n              className: styles.cu_,\n              children: [\"Running into an issue? \", /*#__PURE__*/_jsx(\"a\", {\n                href: \"/contact_us\",\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.cu,\n                  children: \"Contact us\"\n                })\n              })]\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: styles.ca,\n              children: \"Don't have an account\"\n            }), /*#__PURE__*/_jsx(\"a\", {\n              className: styles.caC,\n              onClick: function onClick() {\n                _this2.setState({\n                  isFlipped: !_this2.state.isFlipped,\n                  error: false\n                });\n              },\n              children: /*#__PURE__*/_jsx(\"p\", {\n                className: styles.ca_,\n                children: \"Create a new account\"\n              })\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: styles.card //SIGN UP\n            ,\n            style: {\n              marginRight: '0px'\n            },\n            children: [/*#__PURE__*/_jsx(\"a\", {\n              className: styles.logo,\n              href: \"/\",\n              children: /*#__PURE__*/_jsx(Logo, {\n                color: '#4EB848'\n              })\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: styles.title,\n              children: \"Sign up\"\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: styles.inputCont_,\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: styles.inputContHalf,\n                children: /*#__PURE__*/_jsx(\"input\", {\n                  type: \"text\",\n                  placeholder: \"First Name\",\n                  className: styles.pH,\n                  value: this.state.firstName,\n                  onChange: function onChange(event) {\n                    _this2.setState({\n                      firstName: event.target.value\n                    });\n                  }\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: styles.inputContHalf,\n                children: /*#__PURE__*/_jsx(\"input\", {\n                  type: \"text\",\n                  placeholder: \"Last Name\",\n                  className: styles.pH,\n                  value: this.state.lastName,\n                  onChange: function onChange(event) {\n                    _this2.setState({\n                      lastName: event.target.value\n                    });\n                  }\n                })\n              })]\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: styles.inputCont,\n              children: /*#__PURE__*/_jsx(\"input\", {\n                type: \"text\",\n                placeholder: \"Email\",\n                className: styles.pH_,\n                value: this.state.email1,\n                onChange: function onChange(event) {\n                  _this2.setState({\n                    email1: event.target.value\n                  });\n                }\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: styles.inputCont,\n              children: /*#__PURE__*/_jsx(\"input\", {\n                type: \"text\",\n                placeholder: \"Phone Number\",\n                className: styles.pH_,\n                value: this.state.phoneNumber,\n                onChange: function onChange(event) {\n                  _this2.setState({\n                    phoneNumber: event.target.value\n                  });\n                }\n              })\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: styles.inputCont_,\n              children: [/*#__PURE__*/_jsxs(\"div\", {\n                className: styles.inputContHalf,\n                children: [/*#__PURE__*/_jsx(\"input\", {\n                  type: this.state.showPassword1 ? \"text\" : \"password\",\n                  placeholder: \"Password\",\n                  className: styles.pH,\n                  value: this.state.password1,\n                  onChange: function onChange(event) {\n                    _this2.setState({\n                      password1: event.target.value\n                    });\n                  }\n                }), this.state.showPassword1 ? /*#__PURE__*/_jsx(BsEyeSlash, {\n                  color: 'rgba(112, 112, 112, 0.9)',\n                  className: styles.eye,\n                  onClick: function onClick() {\n                    _this2.setState({\n                      showPassword1: !_this2.state.showPassword1\n                    });\n                  }\n                }) : /*#__PURE__*/_jsx(BsEye, {\n                  color: 'rgba(112, 112, 112, 0.9)',\n                  className: styles.eye,\n                  onClick: function onClick() {\n                    _this2.setState({\n                      showPassword1: !_this2.state.showPassword1\n                    });\n                  }\n                })]\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: styles.inputContHalf,\n                children: [/*#__PURE__*/_jsx(\"input\", {\n                  type: this.state.showPassword2 ? \"text\" : \"password\",\n                  placeholder: \"Confirm Password\",\n                  className: styles.pH,\n                  value: this.state.confirmPassword,\n                  onChange: function onChange(event) {\n                    _this2.setState({\n                      confirmPassword: event.target.value\n                    });\n                  }\n                }), this.state.showPassword2 ? /*#__PURE__*/_jsx(BsEyeSlash, {\n                  color: 'rgba(112, 112, 112, 0.9)',\n                  className: styles.eye,\n                  onClick: function onClick() {\n                    _this2.setState({\n                      showPassword2: !_this2.state.showPassword2\n                    });\n                  }\n                }) : /*#__PURE__*/_jsx(BsEye, {\n                  color: 'rgba(112, 112, 112, 0.9)',\n                  className: styles.eye,\n                  onClick: function onClick() {\n                    _this2.setState({\n                      showPassword2: !_this2.state.showPassword2\n                    });\n                  }\n                })]\n              })]\n            }), this.state.error ? /*#__PURE__*/_jsx(Truncate, {\n              lines: 1,\n              ellipsis: '...',\n              className: styles.em,\n              children: this.state.errorMessage\n            }) : /*#__PURE__*/_jsx(_Fragment, {}), /*#__PURE__*/_jsx(\"a\", {\n              className: styles.button1,\n              onClick: function onClick() {\n                if (!_this2.state.loading) {\n                  if (_this2.state.firstName == '') _this2.setState({\n                    error: true,\n                    errorMessage: 'Please enter your first name'\n                  });else if (_this2.state.lastName == '') _this2.setState({\n                    error: true,\n                    errorMessage: 'Please enter your last name'\n                  });else if (_this2.state.email1 == '') _this2.setState({\n                    error: true,\n                    errorMessage: 'Please enter your email address'\n                  });else if (_this2.state.phoneNumber == '') _this2.setState({\n                    error: true,\n                    errorMessage: 'Please enter your phone number'\n                  });else if (_this2.state.password1 == '') _this2.setState({\n                    error: true,\n                    errorMessage: 'Please enter a password'\n                  });else if (_this2.state.password1 !== _this2.state.confirmPassword) _this2.setState({\n                    error: true,\n                    errorMessage: 'Passwords do not match',\n                    confirmPassword: ''\n                  });else signUp.call(_this2, _this2.state.firstName, _this2.state.lastName, _this2.state.email1, _this2.state.phoneNumber, _this2.state.password1);\n                }\n              },\n              children: this.state.loading ? /*#__PURE__*/_jsx(Loader, {\n                type: \"TailSpin\",\n                color: WHITE,\n                height: '20px',\n                width: '20px'\n              }) : /*#__PURE__*/_jsx(\"p\", {\n                className: styles.buttonText1,\n                children: \"Sign up\"\n              })\n            }), /*#__PURE__*/_jsxs(\"p\", {\n              style: {\n                marginTop: '10px'\n              },\n              className: styles.cu_,\n              children: [\"Running into an issue? \", /*#__PURE__*/_jsx(\"a\", {\n                href: \"/contact_us\",\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.cu,\n                  children: \"Contact us\"\n                })\n              })]\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: styles.ca,\n              children: \"Have an account ?\"\n            }), /*#__PURE__*/_jsx(\"a\", {\n              className: styles.caC,\n              onClick: function onClick() {\n                _this2.setState({\n                  isFlipped: !_this2.state.isFlipped,\n                  error: false\n                });\n              },\n              children: /*#__PURE__*/_jsx(\"p\", {\n                className: styles.ca_,\n                children: \"Log in\"\n              })\n            })]\n          })]\n        })]\n      });\n    }\n  }]);\n\n  return index;\n}(React.Component);\n\nexport { index as default };","map":null,"metadata":{},"sourceType":"module"}