{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { MdContentCopy } from 'react-icons/md';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport styles from '../panel_layout.module.css';\nimport { colors } from '../../functions';\nimport firebase from 'firebase';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\n\nvar UserDashBoard = /*#__PURE__*/function (_React$Component) {\n  _inherits(UserDashBoard, _React$Component);\n\n  var _super = _createSuper(UserDashBoard);\n\n  function UserDashBoard(props) {\n    var _this;\n\n    _classCallCheck(this, UserDashBoard);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      userDetails: _this.props.userDetails,\n      sharedLinks: true,\n      peopleWhoUsedReferralCodes: null\n    };\n    return _this;\n  }\n\n  _createClass(UserDashBoard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      firebase.database().ref(\"peopleWhoUsedReferralCodes/\".concat(this.state.userDetails.userID)).once('value', function (snapshot) {\n        _this2.setState({\n          peopleWhoUsedReferralCodes: snapshot.val()\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var sharedLinks = [];\n      var peopleWhoUsedReferralCodes = this.state.peopleWhoUsedReferralCodes || {};\n      var keys = Object.keys(peopleWhoUsedReferralCodes);\n\n      for (var i = 0; i < keys.length; i++) {\n        var obj = peopleWhoUsedReferralCodes[keys[i]];\n        sharedLinks.push( /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.sharedLinksCont,\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: styles.sharedLinks,\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: styles.dp1,\n              children: /*#__PURE__*/_jsx(\"img\", {\n                src: obj.avatar,\n                className: styles.doggyProfilePicture\n              })\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: styles.text1,\n              style: {\n                color: colors.BLACK\n              },\n              children: obj.name\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: styles.addedKm,\n              children: \"+ \".concat(obj.addedKms, \"kms\")\n            })]\n          }), i !== keys.length - 1 ? /*#__PURE__*/_jsx(\"div\", {\n            className: styles.sharedLine\n          }) : /*#__PURE__*/_jsx(_Fragment, {})]\n        }));\n      }\n\n      return /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.cont,\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: styles.container,\n          id: styles.ud1,\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: styles.ud1,\n            children: [/*#__PURE__*/_jsx(\"p\", {\n              className: styles.title,\n              style: {\n                color: colors.WHITE\n              },\n              children: \"Promos\"\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: styles.text,\n              style: {\n                color: colors.WHITE\n              },\n              children: \"Want free rides? Share your invite code with friends and family, and when they book their first ride, you get free kilometers!\"\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: styles.iC_Cont,\n              children: [/*#__PURE__*/_jsx(\"p\", {\n                className: styles.text,\n                style: {\n                  color: colors.WHITE,\n                  fontFamily: 'Gilroy-Semibold',\n                  margin: '0px',\n                  marginRight: '15px',\n                  width: 'initial'\n                },\n                children: \"Invite Code\"\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: styles.copyBox,\n                children: [/*#__PURE__*/_jsx(\"p\", {\n                  className: styles.text,\n                  id: styles.iC_link,\n                  children: 'https://www.perch.com/john123'\n                }), /*#__PURE__*/_jsx(MdContentCopy, {\n                  className: styles.copy,\n                  color: colors.WHITE\n                })]\n              })]\n            })]\n          }), /*#__PURE__*/_jsx(\"img\", {\n            src: \"/giftBox.svg\",\n            alt: \"Perch Carpool\",\n            className: styles.giftBox\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.container,\n          style: {\n            backgroundColor: colors.WHITE,\n            marginTop: '20px'\n          },\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: styles.title,\n            style: {\n              color: colors.BLACK\n            },\n            children: \"Platform links\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: styles.text,\n            style: {\n              color: colors.GREY\n            },\n            children: \"At the moment, getting rides with Perch is only available on the mobile app for iOS and android devices.\"\n          }), /*#__PURE__*/_jsx(\"div\", {\n            style: {\n              display: 'flex',\n              width: '90%',\n              flexDirection: 'row',\n              justifyContent: 'flex-start'\n            },\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: styles.downloadCont,\n              children: [/*#__PURE__*/_jsx(\"img\", {\n                src: \"/downloadAppStore.svg\",\n                alt: \"Download Perch on App store\",\n                className: styles.downloadApp\n              }), /*#__PURE__*/_jsx(\"img\", {\n                src: \"/downloadGooglePlay.svg\",\n                alt: \"Download Perch on App store\",\n                className: styles.downloadApp\n              })]\n            })\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.container,\n          style: {\n            backgroundColor: colors.WHITE,\n            marginTop: '20px',\n            marginBottom: '150px'\n          },\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: styles.title,\n            style: {\n              color: colors.BLACK\n            },\n            children: \"Riders who signed up with your share link\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: styles.text,\n            style: {\n              color: colors.GREY\n            },\n            children: this.state.peopleWhoUsedReferralCodes ? 'Here are a list of the users who used your invite links along with the kilometers you got credited.' : 'When you share your code with friends and they use it to book their first ride, you would see their name here along with the kilometers you got from sharing it. Right now, no one has used your code to book a ride.'\n          }), sharedLinks.length !== 0 && sharedLinks]\n        })]\n      });\n    }\n  }]);\n\n  return UserDashBoard;\n}(React.Component);\n\nexport { UserDashBoard as default };\n;","map":{"version":3,"sources":["/Users/ugo/Documents/Perch_Projects/Perch-Website/functions/panels/userPanels/userDashBoard.js"],"names":["React","MdContentCopy","styles","colors","firebase","UserDashBoard","props","state","userDetails","sharedLinks","peopleWhoUsedReferralCodes","database","ref","userID","once","snapshot","setState","val","keys","Object","i","length","obj","push","sharedLinksCont","dp1","avatar","doggyProfilePicture","text1","color","BLACK","name","addedKm","addedKms","sharedLine","cont","container","ud1","title","WHITE","text","iC_Cont","fontFamily","margin","marginRight","width","copyBox","iC_link","copy","giftBox","backgroundColor","marginTop","GREY","display","flexDirection","justifyContent","downloadCont","downloadApp","marginBottom","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { MdContentCopy } from 'react-icons/md';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport styles from '../panel_layout.module.css';\nimport { colors } from '../../functions';\nimport firebase from 'firebase';\n\nexport default class UserDashBoard extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            userDetails: this.props.userDetails,\n            sharedLinks: true,\n            peopleWhoUsedReferralCodes: null,\n        };\n    };\n    componentDidMount() {\n        firebase.database().ref(`peopleWhoUsedReferralCodes/${this.state.userDetails.userID}`).once('value', snapshot => {\n            this.setState({ peopleWhoUsedReferralCodes: snapshot.val() });\n        })\n    };\n    render() {\n        let sharedLinks = [];\n        const peopleWhoUsedReferralCodes = this.state.peopleWhoUsedReferralCodes || {};\n        const keys = Object.keys(peopleWhoUsedReferralCodes);\n\n        for (let i = 0; i < keys.length; i++) {\n            const obj = peopleWhoUsedReferralCodes[keys[i]];\n            sharedLinks.push(\n                <div className={styles.sharedLinksCont}>\n                    <div className={styles.sharedLinks}>\n                        <div className={styles.dp1}>\n                            <img src={obj.avatar} className={styles.doggyProfilePicture} />\n                        </div>\n                        <p className={styles.text1} style={{ color: colors.BLACK }}>{obj.name}</p>\n                        <p className={styles.addedKm}>{`+ ${obj.addedKms}kms`}</p>\n                    </div>\n                    {i !== keys.length - 1 ?\n                        <div className={styles.sharedLine}></div>\n                        : <></>}\n                </div>\n            );\n        }\n        return (\n            <div className={styles.cont}>\n                <div className={styles.container} id={styles.ud1}>\n                    <div className={styles.ud1}>\n                        <p className={styles.title} style={{ color: colors.WHITE }}>Promos</p>\n                        <p className={styles.text} style={{ color: colors.WHITE }}>\n                            Want free rides? Share your invite code with friends and family, and when they book their first ride, you get free kilometers!\n                        </p>\n                        <div className={styles.iC_Cont}>\n                            <p className={styles.text} style={{ color: colors.WHITE, fontFamily: 'Gilroy-Semibold', margin: '0px', marginRight: '15px', width: 'initial' }}>\n                                Invite Code\n                            </p>\n                            <div className={styles.copyBox}>\n                                <p className={styles.text} id={styles.iC_link} >{'https://www.perch.com/john123'}</p>\n                                <MdContentCopy className={styles.copy} color={colors.WHITE} />\n                            </div>\n                        </div>\n                    </div>\n                    <img src=\"/giftBox.svg\" alt=\"Perch Carpool\" className={styles.giftBox} />\n                </div>\n\n                <div className={styles.container} style={{ backgroundColor: colors.WHITE, marginTop: '20px' }}>\n                    <p className={styles.title} style={{ color: colors.BLACK }}>Platform links</p>\n                    <p className={styles.text} style={{ color: colors.GREY }}>\n                        At the moment, getting rides with Perch is only available on the mobile app for iOS and android devices.\n                    </p>\n                    <div style={{ display: 'flex', width: '90%', flexDirection: 'row', justifyContent: 'flex-start', }}>\n                        <div className={styles.downloadCont}>\n                            <img src=\"/downloadAppStore.svg\" alt=\"Download Perch on App store\" className={styles.downloadApp} />\n                            <img src=\"/downloadGooglePlay.svg\" alt=\"Download Perch on App store\" className={styles.downloadApp} />\n                        </div>\n                    </div>\n                </div>\n\n                <div className={styles.container} style={{ backgroundColor: colors.WHITE, marginTop: '20px', marginBottom: '150px' }}>\n                    <p className={styles.title} style={{ color: colors.BLACK }}>\n                        Riders who signed up with your share link\n                    </p>\n                    <p className={styles.text} style={{ color: colors.GREY }}>\n                        {\n                            this.state.peopleWhoUsedReferralCodes ?\n                                'Here are a list of the users who used your invite links along with the kilometers you got credited.' :\n                                'When you share your code with friends and they use it to book their first ride, you would see their name here along with the kilometers you got from sharing it. Right now, no one has used your code to book a ride.'\n                        }\n                    </p>\n                    {sharedLinks.length !== 0 && sharedLinks}\n                </div>\n            </div>\n        )\n\n    }\n};"]},"metadata":{},"sourceType":"module"}