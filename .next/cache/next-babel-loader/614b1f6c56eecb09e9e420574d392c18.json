{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport styles from './layout.module.css';\nimport React, { Component } from 'react';\nimport Router from 'next/router';\nimport Head from 'next/head';\nimport { Logo } from '../../../functions/images/vectors';\nimport { IoIosMenu } from \"react-icons/io\";\nimport { Animated } from \"react-animated-css\";\nimport { ImExit } from \"react-icons/im\";\nimport firebase from 'firebase';\nimport { signOut } from '../../../functions/functions';\nexport default class index extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      dropDownMenu: false,\n      hideMenu: false,\n      firstName: null,\n      isDriver: false,\n      url: null,\n      loggedIn: false,\n      driverVerified: ''\n    };\n  }\n\n  componentDidMount() {\n    window.addEventListener('resize', event => {\n      if (window.innerWidth > 1024 && this.state.hideMenu == false) this.setState({\n        dropDownMenu: false,\n        hideMenu: true\n      });else if (window.innerWidth < 1024 && this.state.hideMenu == true) this.setState({\n        hideMenu: false\n      });\n    });\n    firebase.auth().onAuthStateChanged(user => {\n      if (user) {\n        firebase.database().ref(`users/${user.uid}/firstName`).once('value', snapshot => {\n          firebase.database().ref(`users/${user.uid}/driverVerified`).once('value', snap => {\n            this.setState({\n              isDriver: snap.val() ? true : false,\n              firstName: snapshot.val(),\n              loggedIn: true,\n              driverVerified: snap.val()\n            });\n          }).catch(error => {\n            console.log(error.message);\n          });\n        }).catch(error => {\n          console.log(error.message);\n        });\n        firebase.database().ref(`users/${user.uid}/photoRef`).once('value', snapshot => {\n          firebase.storage().ref(`${snapshot.val()}`).getDownloadURL().then(result => {\n            this.setState({\n              url: result\n            });\n          }).catch(error => {\n            console.log(error.message);\n          });\n        }).catch(error => {\n          console.log(error.message);\n        });\n      } else this.setState({\n        loggedIn: false\n      });\n    });\n  }\n\n  componentWillUnmount() {// window.removeEventListener('resize');\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxs(\"div\", {\n      className: styles.container1,\n      children: [/*#__PURE__*/_jsxs(Head, {\n        children: [/*#__PURE__*/_jsx(\"link\", {\n          rel: \"stylesheet\",\n          href: \"https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css\"\n        }), /*#__PURE__*/_jsx(\"meta\", {\n          name: \"viewport\",\n          content: \"width=device-width, initial-scale=1\"\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.container,\n        children: [/*#__PURE__*/_jsx(\"a\", {\n          className: styles.menu,\n          onClick: () => {\n            this.setState({\n              dropDownMenu: !this.state.dropDownMenu\n            });\n          },\n          children: /*#__PURE__*/_jsx(IoIosMenu, {\n            color: '#4EB848',\n            className: styles.menuIcon\n          })\n        }), /*#__PURE__*/_jsx(\"a\", {\n          href: \"/\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: styles.logo,\n            children: /*#__PURE__*/_jsx(Logo, {\n              color: '#4EB848'\n            })\n          })\n        }), this.state.loggedIn ? /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.textRow1,\n          children: [this.state.firstName ? /*#__PURE__*/_jsxs(_Fragment, {\n            children: [this.state.url ? /*#__PURE__*/_jsx(\"img\", {\n              src: this.state.url,\n              className: styles.dp,\n              style: {\n                borderWidth: '0px'\n              }\n            }) : /*#__PURE__*/_jsx(\"div\", {\n              className: styles.dp\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: styles.text_,\n              children: `Hello, ${this.state.firstName}`\n            })]\n          }) : /*#__PURE__*/_jsx(_Fragment, {}), this.state.isDriver ? /*#__PURE__*/_jsxs(_Fragment, {\n            children: [this.state.driverVerified == 'VERIFIED' ? /*#__PURE__*/_jsx(\"a\", {\n              className: styles.link_,\n              href: \"/s/db/ddash\",\n              children: /*#__PURE__*/_jsx(\"p\", {\n                className: styles.text,\n                children: \"Driver dashboard\"\n              })\n            }) : /*#__PURE__*/_jsx(\"a\", {\n              className: styles.link_,\n              href: \"/s/db/d_app_dash\",\n              children: /*#__PURE__*/_jsx(\"p\", {\n                className: styles.text,\n                children: \"Continue driver application\"\n              })\n            }), /*#__PURE__*/_jsx(\"a\", {\n              className: styles.link_,\n              href: \"/s/db/udash\",\n              children: /*#__PURE__*/_jsx(\"p\", {\n                className: styles.text,\n                children: \"Rider dashboard\"\n              })\n            })]\n          }) : /*#__PURE__*/_jsxs(_Fragment, {\n            children: [/*#__PURE__*/_jsx(\"a\", {\n              className: styles.link_,\n              href: \"/s/db/udash\",\n              children: /*#__PURE__*/_jsx(\"p\", {\n                className: styles.text,\n                children: \"My dashboard\"\n              })\n            }), /*#__PURE__*/_jsx(\"a\", {\n              className: styles.link_,\n              href: \"/s/auth/d_si_su\",\n              children: /*#__PURE__*/_jsx(\"p\", {\n                className: styles.text,\n                children: \"Become a driver\"\n              })\n            })]\n          }), /*#__PURE__*/_jsx(\"a\", {\n            className: styles.link_,\n            href: \"/s/articles/how_perch_works\",\n            children: /*#__PURE__*/_jsx(\"p\", {\n              className: styles.text,\n              children: \"How it works\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: styles.circle,\n            onClick: () => {\n              signOut.call(this, true);\n            },\n            children: /*#__PURE__*/_jsx(ImExit, {\n              color: '#FFFFFF',\n              className: styles.logOut\n            })\n          })]\n        }) : /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.textRow,\n          children: [/*#__PURE__*/_jsx(\"a\", {\n            className: styles.link1,\n            href: \"/s/articles/how_perch_works\",\n            children: /*#__PURE__*/_jsx(\"p\", {\n              className: styles.text,\n              children: \"How it works\"\n            })\n          }), /*#__PURE__*/_jsx(\"a\", {\n            className: styles.link,\n            href: \"/s/auth/u_si_su\",\n            children: /*#__PURE__*/_jsx(\"p\", {\n              className: styles.text,\n              children: \"Rider\"\n            })\n          }), /*#__PURE__*/_jsx(\"a\", {\n            className: styles.link,\n            href: \"/s/auth/d_si_su\",\n            children: /*#__PURE__*/_jsx(\"p\", {\n              className: styles.text,\n              children: \"Driver\"\n            })\n          })]\n        })]\n      }), this.state.hideMenu ? /*#__PURE__*/_jsx(_Fragment, {}) : /*#__PURE__*/_jsx(Animated, {\n        animationInDuration: 300,\n        animationOutDuration: 300,\n        animationIn: 'fadeIn',\n        animationOut: 'fadeOut',\n        isVisible: this.state.dropDownMenu,\n        animateOnMount: false,\n        className: styles.animated,\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.lowersection,\n          children: [/*#__PURE__*/_jsx(\"hr\", {\n            className: styles.hr\n          }), this.state.loggedIn ? /*#__PURE__*/_jsxs(_Fragment, {\n            children: [/*#__PURE__*/_jsx(\"p\", {\n              className: styles.lowerLinkText_,\n              children: `Hello, ${this.state.firstName}`\n            }), this.state.isDriver ? /*#__PURE__*/_jsxs(_Fragment, {\n              children: [this.state.driverVerified == 'VERIFIED' ? /*#__PURE__*/_jsx(\"a\", {\n                className: styles.lowerLink,\n                href: \"/s/db/ddash\",\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.lowerLinkText,\n                  children: \"Driver dashboard\"\n                })\n              }) : /*#__PURE__*/_jsx(\"a\", {\n                className: styles.lowerLink,\n                href: \"/s/db/d_app_dash\",\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.lowerLinkText,\n                  children: \"Continue driver application\"\n                })\n              }), /*#__PURE__*/_jsx(\"a\", {\n                className: styles.lowerLink,\n                href: \"/s/db/udash\",\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.lowerLinkText,\n                  children: \"Rider dashboard\"\n                })\n              })]\n            }) : /*#__PURE__*/_jsxs(_Fragment, {\n              children: [/*#__PURE__*/_jsx(\"a\", {\n                className: styles.lowerLink,\n                href: \"/s/db/udash\",\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.lowerLinkText,\n                  children: \"My dashboard\"\n                })\n              }), /*#__PURE__*/_jsx(\"a\", {\n                className: styles.lowerLink,\n                href: \"/s/auth/d_si_su\",\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.lowerLinkText,\n                  children: \"Become a driver\"\n                })\n              })]\n            }), /*#__PURE__*/_jsx(\"a\", {\n              className: styles.lowerLink,\n              href: \"/s/articles/how_perch_works\",\n              children: /*#__PURE__*/_jsx(\"p\", {\n                className: styles.lowerLinkText,\n                children: \"How it works\"\n              })\n            }), /*#__PURE__*/_jsx(\"a\", {\n              className: styles.lowerLink,\n              onClick: () => {\n                signOut.call(this, true);\n              },\n              children: /*#__PURE__*/_jsx(\"p\", {\n                className: styles.lowerLinkText,\n                children: \"Log out\"\n              })\n            })]\n          }) : /*#__PURE__*/_jsxs(_Fragment, {\n            children: [/*#__PURE__*/_jsx(\"a\", {\n              className: styles.lowerLink,\n              href: \"/s/articles/how_perch_works\",\n              children: /*#__PURE__*/_jsx(\"p\", {\n                className: styles.lowerLinkText,\n                children: \"How it works\"\n              })\n            }), /*#__PURE__*/_jsx(\"a\", {\n              className: styles.lowerLink,\n              href: \"/s/auth/u_si_su\",\n              children: /*#__PURE__*/_jsx(\"p\", {\n                className: styles.lowerLinkText,\n                children: \"Rider\"\n              })\n            }), /*#__PURE__*/_jsx(\"a\", {\n              className: styles.lowerLink,\n              href: \"/s/auth/d_si_su\",\n              children: /*#__PURE__*/_jsx(\"p\", {\n                className: styles.lowerLinkText,\n                children: \"Driver\"\n              })\n            })]\n          })]\n        })\n      })]\n    });\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}