{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport styles from './layout.module.css';\nimport React, { Component } from 'react';\nimport Router from 'next/router';\nimport Head from 'next/head';\nimport { Logo } from '../../../functions/images/vectors';\nimport { IoIosMenu } from \"react-icons/io\";\nimport { Animated } from \"react-animated-css\";\nimport { ImExit } from \"react-icons/im\";\nimport firebase from 'firebase';\nimport { signOut } from '../../../functions/functions';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\n\nvar index = /*#__PURE__*/function (_React$Component) {\n  _inherits(index, _React$Component);\n\n  var _super = _createSuper(index);\n\n  function index() {\n    var _this;\n\n    _classCallCheck(this, index);\n\n    _this = _super.call(this);\n    _this.state = {\n      dropDownMenu: false,\n      hideMenu: false,\n      firstName: null,\n      isDriver: false,\n      url: null,\n      loggedIn: false,\n      driverVerified: ''\n    };\n    return _this;\n  }\n\n  _createClass(index, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      window.addEventListener('resize', function (event) {\n        if (window.innerWidth > 1024 && _this2.state.hideMenu == false) _this2.setState({\n          dropDownMenu: false,\n          hideMenu: true\n        });else if (window.innerWidth < 1024 && _this2.state.hideMenu == true) _this2.setState({\n          hideMenu: false\n        });\n      });\n      firebase.auth().onAuthStateChanged(function (user) {\n        if (user) {\n          firebase.database().ref(\"users/\".concat(user.uid, \"/firstName\")).once('value', function (snapshot) {\n            firebase.database().ref(\"users/\".concat(user.uid, \"/driverVerified\")).once('value', function (snap) {\n              _this2.setState({\n                isDriver: snap.val() ? true : false,\n                firstName: snapshot.val(),\n                loggedIn: true,\n                driverVerified: snap.val()\n              });\n            })[\"catch\"](function (error) {\n              console.log(error.message);\n            });\n          })[\"catch\"](function (error) {\n            console.log(error.message);\n          });\n          firebase.database().ref(\"users/\".concat(user.uid, \"/photoRef\")).once('value', function (snapshot) {\n            firebase.storage().ref(\"\".concat(snapshot.val())).getDownloadURL().then(function (result) {\n              _this2.setState({\n                url: result\n              });\n            })[\"catch\"](function (error) {\n              console.log(error.message);\n            });\n          })[\"catch\"](function (error) {\n            console.log(error.message);\n          });\n        } else _this2.setState({\n          loggedIn: false\n        });\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {// window.removeEventListener('resize');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.container1,\n        children: [/*#__PURE__*/_jsxs(Head, {\n          children: [/*#__PURE__*/_jsx(\"link\", {\n            rel: \"stylesheet\",\n            href: \"https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css\"\n          }), /*#__PURE__*/_jsx(\"meta\", {\n            name: \"viewport\",\n            content: \"width=device-width, initial-scale=1\"\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.container,\n          children: [/*#__PURE__*/_jsx(\"a\", {\n            className: styles.menu,\n            onClick: function onClick() {\n              _this3.setState({\n                dropDownMenu: !_this3.state.dropDownMenu\n              });\n            },\n            children: /*#__PURE__*/_jsx(IoIosMenu, {\n              color: '#4EB848',\n              className: styles.menuIcon\n            })\n          }), /*#__PURE__*/_jsx(\"a\", {\n            href: \"/\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: styles.logo,\n              children: /*#__PURE__*/_jsx(Logo, {\n                color: '#4EB848'\n              })\n            })\n          }), this.state.loggedIn ? /*#__PURE__*/_jsxs(\"div\", {\n            className: styles.textRow1,\n            children: [this.state.firstName ? /*#__PURE__*/_jsxs(_Fragment, {\n              children: [this.state.url ? /*#__PURE__*/_jsx(\"img\", {\n                src: this.state.url,\n                className: styles.dp,\n                style: {\n                  borderWidth: '0px'\n                }\n              }) : /*#__PURE__*/_jsx(\"div\", {\n                className: styles.dp\n              }), /*#__PURE__*/_jsx(\"p\", {\n                className: styles.text_,\n                children: \"Hello, \".concat(this.state.firstName)\n              })]\n            }) : /*#__PURE__*/_jsx(_Fragment, {}), this.state.isDriver ? /*#__PURE__*/_jsxs(_Fragment, {\n              children: [this.state.driverVerified == 'VERIFIED' ? /*#__PURE__*/_jsx(\"a\", {\n                className: styles.link_,\n                href: \"/s/db/ddash\",\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.text,\n                  children: \"Driver dashboard\"\n                })\n              }) : /*#__PURE__*/_jsx(\"a\", {\n                className: styles.link_,\n                href: \"/s/db/d_app_dash\",\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.text,\n                  children: \"Continue driver application\"\n                })\n              }), /*#__PURE__*/_jsx(\"a\", {\n                className: styles.link_,\n                href: \"/s/db/udash\",\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.text,\n                  children: \"Rider dashboard\"\n                })\n              })]\n            }) : /*#__PURE__*/_jsxs(_Fragment, {\n              children: [/*#__PURE__*/_jsx(\"a\", {\n                className: styles.link_,\n                href: \"/s/db/udash\",\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.text,\n                  children: \"My dashboard\"\n                })\n              }), /*#__PURE__*/_jsx(\"a\", {\n                className: styles.link_,\n                href: \"/s/auth/d_si_su\",\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.text,\n                  children: \"Become a driver\"\n                })\n              })]\n            }), /*#__PURE__*/_jsx(\"a\", {\n              className: styles.link_,\n              href: \"/s/articles/how_perch_works\",\n              children: /*#__PURE__*/_jsx(\"p\", {\n                className: styles.text,\n                children: \"How it works\"\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: styles.circle,\n              onClick: function onClick() {\n                signOut.call(_this3, true);\n              },\n              children: /*#__PURE__*/_jsx(ImExit, {\n                color: '#FFFFFF',\n                className: styles.logOut\n              })\n            })]\n          }) : /*#__PURE__*/_jsxs(\"div\", {\n            className: styles.textRow,\n            children: [/*#__PURE__*/_jsx(\"a\", {\n              className: styles.link1,\n              href: \"/s/articles/how_perch_works\",\n              children: /*#__PURE__*/_jsx(\"p\", {\n                className: styles.text,\n                children: \"How it works\"\n              })\n            }), /*#__PURE__*/_jsx(\"a\", {\n              className: styles.link,\n              href: \"/s/auth/u_si_su\",\n              children: /*#__PURE__*/_jsx(\"p\", {\n                className: styles.text,\n                children: \"Rider\"\n              })\n            }), /*#__PURE__*/_jsx(\"a\", {\n              className: styles.link,\n              href: \"/s/auth/d_si_su\",\n              children: /*#__PURE__*/_jsx(\"p\", {\n                className: styles.text,\n                children: \"Driver\"\n              })\n            })]\n          })]\n        }), this.state.hideMenu ? /*#__PURE__*/_jsx(_Fragment, {}) : /*#__PURE__*/_jsx(Animated, {\n          animationInDuration: 300,\n          animationOutDuration: 300,\n          animationIn: 'fadeIn',\n          animationOut: 'fadeOut',\n          isVisible: this.state.dropDownMenu,\n          animateOnMount: false,\n          className: styles.animated,\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            className: styles.lowersection,\n            children: [/*#__PURE__*/_jsx(\"hr\", {\n              className: styles.hr\n            }), this.state.loggedIn ? /*#__PURE__*/_jsxs(_Fragment, {\n              children: [/*#__PURE__*/_jsx(\"p\", {\n                className: styles.lowerLinkText_,\n                children: \"Hello, \".concat(this.state.firstName)\n              }), this.state.isDriver ? /*#__PURE__*/_jsxs(_Fragment, {\n                children: [this.state.driverVerified == 'VERIFIED' ? /*#__PURE__*/_jsx(\"a\", {\n                  className: styles.lowerLink,\n                  href: \"/s/db/ddash\",\n                  children: /*#__PURE__*/_jsx(\"p\", {\n                    className: styles.lowerLinkText,\n                    children: \"Driver dashboard\"\n                  })\n                }) : /*#__PURE__*/_jsx(\"a\", {\n                  className: styles.lowerLink,\n                  href: \"/s/db/d_app_dash\",\n                  children: /*#__PURE__*/_jsx(\"p\", {\n                    className: styles.lowerLinkText,\n                    children: \"Continue driver application\"\n                  })\n                }), /*#__PURE__*/_jsx(\"a\", {\n                  className: styles.lowerLink,\n                  href: \"/s/db/udash\",\n                  children: /*#__PURE__*/_jsx(\"p\", {\n                    className: styles.lowerLinkText,\n                    children: \"Rider dashboard\"\n                  })\n                })]\n              }) : /*#__PURE__*/_jsxs(_Fragment, {\n                children: [/*#__PURE__*/_jsx(\"a\", {\n                  className: styles.lowerLink,\n                  href: \"/s/db/udash\",\n                  children: /*#__PURE__*/_jsx(\"p\", {\n                    className: styles.lowerLinkText,\n                    children: \"My dashboard\"\n                  })\n                }), /*#__PURE__*/_jsx(\"a\", {\n                  className: styles.lowerLink,\n                  href: \"/s/auth/d_si_su\",\n                  children: /*#__PURE__*/_jsx(\"p\", {\n                    className: styles.lowerLinkText,\n                    children: \"Become a driver\"\n                  })\n                })]\n              }), /*#__PURE__*/_jsx(\"a\", {\n                className: styles.lowerLink,\n                href: \"/s/articles/how_perch_works\",\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.lowerLinkText,\n                  children: \"How it works\"\n                })\n              }), /*#__PURE__*/_jsx(\"a\", {\n                className: styles.lowerLink,\n                onClick: function onClick() {\n                  signOut.call(_this3, true);\n                },\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.lowerLinkText,\n                  children: \"Log out\"\n                })\n              })]\n            }) : /*#__PURE__*/_jsxs(_Fragment, {\n              children: [/*#__PURE__*/_jsx(\"a\", {\n                className: styles.lowerLink,\n                href: \"/s/articles/how_perch_works\",\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.lowerLinkText,\n                  children: \"How it works\"\n                })\n              }), /*#__PURE__*/_jsx(\"a\", {\n                className: styles.lowerLink,\n                href: \"/s/auth/u_si_su\",\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.lowerLinkText,\n                  children: \"Rider\"\n                })\n              }), /*#__PURE__*/_jsx(\"a\", {\n                className: styles.lowerLink,\n                href: \"/s/auth/d_si_su\",\n                children: /*#__PURE__*/_jsx(\"p\", {\n                  className: styles.lowerLinkText,\n                  children: \"Driver\"\n                })\n              })]\n            })]\n          })\n        })]\n      });\n    }\n  }]);\n\n  return index;\n}(React.Component);\n\nexport { index as default };","map":{"version":3,"sources":["/Users/ugo/Documents/Perch_Projects/Perch-Website/pages/components/header/header.js"],"names":["styles","React","Component","Router","Head","Logo","IoIosMenu","Animated","ImExit","firebase","signOut","index","state","dropDownMenu","hideMenu","firstName","isDriver","url","loggedIn","driverVerified","window","addEventListener","event","innerWidth","setState","auth","onAuthStateChanged","user","database","ref","uid","once","snapshot","snap","val","error","console","log","message","storage","getDownloadURL","then","result","container1","container","menu","menuIcon","logo","textRow1","dp","borderWidth","text_","link_","text","circle","call","logOut","textRow","link1","link","animated","lowersection","hr","lowerLinkText_","lowerLink","lowerLinkText"],"mappings":";;;;;;;;;;AAAA,OAAOA,MAAP,MAAmB,qBAAnB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,IAAT,QAAqB,mCAArB;AACA,SAASC,SAAT,QAA0B,gBAA1B;AACA,SAASC,QAAT,QAAyB,oBAAzB;AACA,SAASC,MAAT,QAAuB,gBAAvB;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,SAASC,OAAT,QAAwB,8BAAxB;;;;;IAEqBC,K;;;;;AACjB,mBAAc;AAAA;;AAAA;;AACV;AAEA,UAAKC,KAAL,GAAa;AACTC,MAAAA,YAAY,EAAE,KADL;AAETC,MAAAA,QAAQ,EAAE,KAFD;AAGTC,MAAAA,SAAS,EAAE,IAHF;AAITC,MAAAA,QAAQ,EAAE,KAJD;AAKTC,MAAAA,GAAG,EAAE,IALI;AAMTC,MAAAA,QAAQ,EAAE,KAND;AAOTC,MAAAA,cAAc,EAAE;AAPP,KAAb;AAHU;AAYb;;;;WACD,6BAAoB;AAAA;;AAChBC,MAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkC,UAACC,KAAD,EAAW;AACzC,YAAIF,MAAM,CAACG,UAAP,GAAoB,IAApB,IAA4B,MAAI,CAACX,KAAL,CAAWE,QAAX,IAAuB,KAAvD,EACI,MAAI,CAACU,QAAL,CAAc;AAAEX,UAAAA,YAAY,EAAE,KAAhB;AAAuBC,UAAAA,QAAQ,EAAE;AAAjC,SAAd,EADJ,KAEK,IAAIM,MAAM,CAACG,UAAP,GAAoB,IAApB,IAA4B,MAAI,CAACX,KAAL,CAAWE,QAAX,IAAuB,IAAvD,EACD,MAAI,CAACU,QAAL,CAAc;AAAEV,UAAAA,QAAQ,EAAE;AAAZ,SAAd;AACP,OALD;AAOAL,MAAAA,QAAQ,CAACgB,IAAT,GAAgBC,kBAAhB,CAAmC,UAACC,IAAD,EAAU;AACzC,YAAIA,IAAJ,EAAU;AACNlB,UAAAA,QAAQ,CAACmB,QAAT,GAAoBC,GAApB,iBAAiCF,IAAI,CAACG,GAAtC,iBAAuDC,IAAvD,CAA4D,OAA5D,EAAqE,UAACC,QAAD,EAAc;AAC/EvB,YAAAA,QAAQ,CAACmB,QAAT,GAAoBC,GAApB,iBAAiCF,IAAI,CAACG,GAAtC,sBAA4DC,IAA5D,CAAiE,OAAjE,EAA0E,UAACE,IAAD,EAAU;AAChF,cAAA,MAAI,CAACT,QAAL,CAAc;AAAER,gBAAAA,QAAQ,EAAEiB,IAAI,CAACC,GAAL,KAAa,IAAb,GAAoB,KAAhC;AAAuCnB,gBAAAA,SAAS,EAAEiB,QAAQ,CAACE,GAAT,EAAlD;AAAkEhB,gBAAAA,QAAQ,EAAE,IAA5E;AAAkFC,gBAAAA,cAAc,EAAEc,IAAI,CAACC,GAAL;AAAlG,eAAd;AACH,aAFD,WAES,UAAAC,KAAK,EAAI;AAAEC,cAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,OAAlB;AAA4B,aAFhD;AAGH,WAJD,WAIS,UAAAH,KAAK,EAAI;AAAEC,YAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,OAAlB;AAA4B,WAJhD;AAMA7B,UAAAA,QAAQ,CAACmB,QAAT,GAAoBC,GAApB,iBAAiCF,IAAI,CAACG,GAAtC,gBAAsDC,IAAtD,CAA2D,OAA3D,EAAoE,UAACC,QAAD,EAAc;AAC9EvB,YAAAA,QAAQ,CAAC8B,OAAT,GAAmBV,GAAnB,WAA0BG,QAAQ,CAACE,GAAT,EAA1B,GAA4CM,cAA5C,GACKC,IADL,CACU,UAAAC,MAAM,EAAI;AACZ,cAAA,MAAI,CAAClB,QAAL,CAAc;AAAEP,gBAAAA,GAAG,EAAEyB;AAAP,eAAd;AACH,aAHL,WAGa,UAAAP,KAAK,EAAI;AAAEC,cAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,OAAlB;AAA4B,aAHpD;AAIH,WALD,WAKS,UAAAH,KAAK,EAAI;AAAEC,YAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,OAAlB;AAA4B,WALhD;AAMH,SAbD,MAeI,MAAI,CAACd,QAAL,CAAc;AAAEN,UAAAA,QAAQ,EAAE;AAAZ,SAAd;AACP,OAjBD;AAkBH;;;WAED,gCAAuB,CACnB;AACH;;;WAED,kBAAS;AAAA;;AACL,0BACI;AAAK,QAAA,SAAS,EAAElB,MAAM,CAAC2C,UAAvB;AAAA,gCACI,MAAC,IAAD;AAAA,kCACI;AAAM,YAAA,GAAG,EAAC,YAAV;AAAuB,YAAA,IAAI,EAAC;AAA5B,YADJ,eAEI;AAAM,YAAA,IAAI,EAAC,UAAX;AAAsB,YAAA,OAAO,EAAC;AAA9B,YAFJ;AAAA,UADJ,eAKI;AAAK,UAAA,SAAS,EAAE3C,MAAM,CAAC4C,SAAvB;AAAA,kCACI;AAAG,YAAA,SAAS,EAAE5C,MAAM,CAAC6C,IAArB;AAA2B,YAAA,OAAO,EAAE,mBAAM;AAAE,cAAA,MAAI,CAACrB,QAAL,CAAc;AAAEX,gBAAAA,YAAY,EAAE,CAAC,MAAI,CAACD,KAAL,CAAWC;AAA5B,eAAd;AAA2D,aAAvG;AAAA,mCACI,KAAC,SAAD;AAAW,cAAA,KAAK,EAAE,SAAlB;AAA6B,cAAA,SAAS,EAAEb,MAAM,CAAC8C;AAA/C;AADJ,YADJ,eAII;AAAG,YAAA,IAAI,EAAC,GAAR;AAAA,mCACI;AAAK,cAAA,SAAS,EAAE9C,MAAM,CAAC+C,IAAvB;AAAA,qCACI,KAAC,IAAD;AAAM,gBAAA,KAAK,EAAE;AAAb;AADJ;AADJ,YAJJ,EASK,KAAKnC,KAAL,CAAWM,QAAX,gBACG;AAAK,YAAA,SAAS,EAAElB,MAAM,CAACgD,QAAvB;AAAA,uBACK,KAAKpC,KAAL,CAAWG,SAAX,gBACG;AAAA,yBACK,KAAKH,KAAL,CAAWK,GAAX,gBACG;AAAK,gBAAA,GAAG,EAAE,KAAKL,KAAL,CAAWK,GAArB;AAA0B,gBAAA,SAAS,EAAEjB,MAAM,CAACiD,EAA5C;AAAgD,gBAAA,KAAK,EAAE;AAAEC,kBAAAA,WAAW,EAAE;AAAf;AAAvD,gBADH,gBAEG;AAAK,gBAAA,SAAS,EAAElD,MAAM,CAACiD;AAAvB,gBAHR,eAII;AAAG,gBAAA,SAAS,EAAEjD,MAAM,CAACmD,KAArB;AAAA,2CAAuC,KAAKvC,KAAL,CAAWG,SAAlD;AAAA,gBAJJ;AAAA,cADH,gBAMS,mBAPd,EASQ,KAAKH,KAAL,CAAWI,QAAX,gBACI;AAAA,yBACK,KAAKJ,KAAL,CAAWO,cAAX,IAA6B,UAA7B,gBACG;AAAG,gBAAA,SAAS,EAAEnB,MAAM,CAACoD,KAArB;AAA4B,gBAAA,IAAI,EAAC,aAAjC;AAAA,uCAA+C;AAAG,kBAAA,SAAS,EAAEpD,MAAM,CAACqD,IAArB;AAAA;AAAA;AAA/C,gBADH,gBAEG;AAAG,gBAAA,SAAS,EAAErD,MAAM,CAACoD,KAArB;AAA4B,gBAAA,IAAI,EAAC,kBAAjC;AAAA,uCAAoD;AAAG,kBAAA,SAAS,EAAEpD,MAAM,CAACqD,IAArB;AAAA;AAAA;AAApD,gBAHR,eAII;AAAG,gBAAA,SAAS,EAAErD,MAAM,CAACoD,KAArB;AAA4B,gBAAA,IAAI,EAAC,aAAjC;AAAA,uCAA+C;AAAG,kBAAA,SAAS,EAAEpD,MAAM,CAACqD,IAArB;AAAA;AAAA;AAA/C,gBAJJ;AAAA,cADJ,gBAOI;AAAA,sCACI;AAAG,gBAAA,SAAS,EAAErD,MAAM,CAACoD,KAArB;AAA4B,gBAAA,IAAI,EAAC,aAAjC;AAAA,uCAA+C;AAAG,kBAAA,SAAS,EAAEpD,MAAM,CAACqD,IAArB;AAAA;AAAA;AAA/C,gBADJ,eAEI;AAAG,gBAAA,SAAS,EAAErD,MAAM,CAACoD,KAArB;AAA4B,gBAAA,IAAI,EAAC,iBAAjC;AAAA,uCAAmD;AAAG,kBAAA,SAAS,EAAEpD,MAAM,CAACqD,IAArB;AAAA;AAAA;AAAnD,gBAFJ;AAAA,cAhBZ,eAqBI;AAAG,cAAA,SAAS,EAAErD,MAAM,CAACoD,KAArB;AAA4B,cAAA,IAAI,EAAC,6BAAjC;AAAA,qCAA+D;AAAG,gBAAA,SAAS,EAAEpD,MAAM,CAACqD,IAArB;AAAA;AAAA;AAA/D,cArBJ,eAsBI;AAAK,cAAA,SAAS,EAAErD,MAAM,CAACsD,MAAvB;AAA+B,cAAA,OAAO,EAAE,mBAAM;AAAE5C,gBAAAA,OAAO,CAAC6C,IAAR,CAAa,MAAb,EAAmB,IAAnB;AAA2B,eAA3E;AAAA,qCACI,KAAC,MAAD;AAAQ,gBAAA,KAAK,EAAE,SAAf;AAA0B,gBAAA,SAAS,EAAEvD,MAAM,CAACwD;AAA5C;AADJ,cAtBJ;AAAA,YADH,gBA2BG;AAAK,YAAA,SAAS,EAAExD,MAAM,CAACyD,OAAvB;AAAA,oCACI;AAAG,cAAA,SAAS,EAAEzD,MAAM,CAAC0D,KAArB;AAA4B,cAAA,IAAI,EAAC,6BAAjC;AAAA,qCAA+D;AAAG,gBAAA,SAAS,EAAE1D,MAAM,CAACqD,IAArB;AAAA;AAAA;AAA/D,cADJ,eAEI;AAAG,cAAA,SAAS,EAAErD,MAAM,CAAC2D,IAArB;AAA2B,cAAA,IAAI,EAAC,iBAAhC;AAAA,qCAAkD;AAAG,gBAAA,SAAS,EAAE3D,MAAM,CAACqD,IAArB;AAAA;AAAA;AAAlD,cAFJ,eAGI;AAAG,cAAA,SAAS,EAAErD,MAAM,CAAC2D,IAArB;AAA2B,cAAA,IAAI,EAAC,iBAAhC;AAAA,qCAAkD;AAAG,gBAAA,SAAS,EAAE3D,MAAM,CAACqD,IAArB;AAAA;AAAA;AAAlD,cAHJ;AAAA,YApCR;AAAA,UALJ,EA+CK,KAAKzC,KAAL,CAAWE,QAAX,gBACG,mBADH,gBAEG,KAAC,QAAD;AACI,UAAA,mBAAmB,EAAE,GADzB;AAEI,UAAA,oBAAoB,EAAE,GAF1B;AAGI,UAAA,WAAW,EAAE,QAHjB;AAII,UAAA,YAAY,EAAE,SAJlB;AAKI,UAAA,SAAS,EAAE,KAAKF,KAAL,CAAWC,YAL1B;AAMI,UAAA,cAAc,EAAE,KANpB;AAOI,UAAA,SAAS,EAAEb,MAAM,CAAC4D,QAPtB;AAAA,iCAQI;AAAK,YAAA,SAAS,EAAE5D,MAAM,CAAC6D,YAAvB;AAAA,oCACI;AAAI,cAAA,SAAS,EAAE7D,MAAM,CAAC8D;AAAtB,cADJ,EAEK,KAAKlD,KAAL,CAAWM,QAAX,gBACG;AAAA,sCACI;AAAG,gBAAA,SAAS,EAAElB,MAAM,CAAC+D,cAArB;AAAA,2CAAiD,KAAKnD,KAAL,CAAWG,SAA5D;AAAA,gBADJ,EAGQ,KAAKH,KAAL,CAAWI,QAAX,gBACI;AAAA,2BAEK,KAAKJ,KAAL,CAAWO,cAAX,IAA6B,UAA7B,gBACG;AAAG,kBAAA,SAAS,EAAEnB,MAAM,CAACgE,SAArB;AAAgC,kBAAA,IAAI,EAAC,aAArC;AAAA,yCAAmD;AAAG,oBAAA,SAAS,EAAEhE,MAAM,CAACiE,aAArB;AAAA;AAAA;AAAnD,kBADH,gBAEG;AAAG,kBAAA,SAAS,EAAEjE,MAAM,CAACgE,SAArB;AAAgC,kBAAA,IAAI,EAAC,kBAArC;AAAA,yCAAwD;AAAG,oBAAA,SAAS,EAAEhE,MAAM,CAACiE,aAArB;AAAA;AAAA;AAAxD,kBAJR,eAKI;AAAG,kBAAA,SAAS,EAAEjE,MAAM,CAACgE,SAArB;AAAgC,kBAAA,IAAI,EAAC,aAArC;AAAA,yCAAmD;AAAG,oBAAA,SAAS,EAAEhE,MAAM,CAACiE,aAArB;AAAA;AAAA;AAAnD,kBALJ;AAAA,gBADJ,gBAQI;AAAA,wCACI;AAAG,kBAAA,SAAS,EAAEjE,MAAM,CAACgE,SAArB;AAAgC,kBAAA,IAAI,EAAC,aAArC;AAAA,yCAAmD;AAAG,oBAAA,SAAS,EAAEhE,MAAM,CAACiE,aAArB;AAAA;AAAA;AAAnD,kBADJ,eAEI;AAAG,kBAAA,SAAS,EAAEjE,MAAM,CAACgE,SAArB;AAAgC,kBAAA,IAAI,EAAC,iBAArC;AAAA,yCAAuD;AAAG,oBAAA,SAAS,EAAEhE,MAAM,CAACiE,aAArB;AAAA;AAAA;AAAvD,kBAFJ;AAAA,gBAXZ,eAgBI;AAAG,gBAAA,SAAS,EAAEjE,MAAM,CAACgE,SAArB;AAAgC,gBAAA,IAAI,EAAC,6BAArC;AAAA,uCAAmE;AAAG,kBAAA,SAAS,EAAEhE,MAAM,CAACiE,aAArB;AAAA;AAAA;AAAnE,gBAhBJ,eAiBI;AAAG,gBAAA,SAAS,EAAEjE,MAAM,CAACgE,SAArB;AAAgC,gBAAA,OAAO,EAAE,mBAAM;AAAEtD,kBAAAA,OAAO,CAAC6C,IAAR,CAAa,MAAb,EAAmB,IAAnB;AAA2B,iBAA5E;AAAA,uCAA8E;AAAG,kBAAA,SAAS,EAAEvD,MAAM,CAACiE,aAArB;AAAA;AAAA;AAA9E,gBAjBJ;AAAA,cADH,gBAoBS;AAAA,sCACF;AAAG,gBAAA,SAAS,EAAEjE,MAAM,CAACgE,SAArB;AAAgC,gBAAA,IAAI,EAAC,6BAArC;AAAA,uCAAmE;AAAG,kBAAA,SAAS,EAAEhE,MAAM,CAACiE,aAArB;AAAA;AAAA;AAAnE,gBADE,eAEF;AAAG,gBAAA,SAAS,EAAEjE,MAAM,CAACgE,SAArB;AAAgC,gBAAA,IAAI,EAAC,iBAArC;AAAA,uCAAuD;AAAG,kBAAA,SAAS,EAAEhE,MAAM,CAACiE,aAArB;AAAA;AAAA;AAAvD,gBAFE,eAGF;AAAG,gBAAA,SAAS,EAAEjE,MAAM,CAACgE,SAArB;AAAgC,gBAAA,IAAI,EAAC,iBAArC;AAAA,uCAAuD;AAAG,kBAAA,SAAS,EAAEhE,MAAM,CAACiE,aAArB;AAAA;AAAA;AAAvD,gBAHE;AAAA,cAtBd;AAAA;AARJ,UAjDR;AAAA,QADJ;AAyFH;;;;EAxI8BhE,KAAK,CAACC,S;;SAApBS,K","sourcesContent":["import styles from './layout.module.css';\nimport React, { Component } from 'react';\nimport Router from 'next/router';\nimport Head from 'next/head';\nimport { Logo } from '../../../functions/images/vectors';\nimport { IoIosMenu } from \"react-icons/io\";\nimport { Animated } from \"react-animated-css\";\nimport { ImExit } from \"react-icons/im\";\nimport firebase from 'firebase';\nimport { signOut } from '../../../functions/functions';\n\nexport default class index extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            dropDownMenu: false,\n            hideMenu: false,\n            firstName: null,\n            isDriver: false,\n            url: null,\n            loggedIn: false,\n            driverVerified: '',\n        };\n    };\n    componentDidMount() {\n        window.addEventListener('resize', (event) => {\n            if (window.innerWidth > 1024 && this.state.hideMenu == false)\n                this.setState({ dropDownMenu: false, hideMenu: true })\n            else if (window.innerWidth < 1024 && this.state.hideMenu == true)\n                this.setState({ hideMenu: false })\n        });\n\n        firebase.auth().onAuthStateChanged((user) => {\n            if (user) {\n                firebase.database().ref(`users/${user.uid}/firstName`).once('value', (snapshot) => {\n                    firebase.database().ref(`users/${user.uid}/driverVerified`).once('value', (snap) => {\n                        this.setState({ isDriver: snap.val() ? true : false, firstName: snapshot.val(), loggedIn: true, driverVerified: snap.val() });\n                    }).catch(error => { console.log(error.message) });\n                }).catch(error => { console.log(error.message) });\n\n                firebase.database().ref(`users/${user.uid}/photoRef`).once('value', (snapshot) => {\n                    firebase.storage().ref(`${snapshot.val()}`).getDownloadURL()\n                        .then(result => {\n                            this.setState({ url: result })\n                        }).catch(error => { console.log(error.message) });\n                }).catch(error => { console.log(error.message) });\n            }\n            else\n                this.setState({ loggedIn: false });\n        });\n    }\n\n    componentWillUnmount() {\n        // window.removeEventListener('resize');\n    }\n\n    render() {\n        return (\n            <div className={styles.container1}>\n                <Head>\n                    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css\" />\n                    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"></meta>\n                </Head>\n                <div className={styles.container}>\n                    <a className={styles.menu} onClick={() => { this.setState({ dropDownMenu: !this.state.dropDownMenu }) }}>\n                        <IoIosMenu color={'#4EB848'} className={styles.menuIcon} />\n                    </a>\n                    <a href=\"/\">\n                        <div className={styles.logo} >\n                            <Logo color={'#4EB848'} />\n                        </div>\n                    </a>\n                    {this.state.loggedIn ?\n                        <div className={styles.textRow1}>\n                            {this.state.firstName ?\n                                <>\n                                    {this.state.url ?\n                                        <img src={this.state.url} className={styles.dp} style={{ borderWidth: '0px' }} /> :\n                                        <div className={styles.dp}></div>}\n                                    <p className={styles.text_}>{`Hello, ${this.state.firstName}`}</p>\n                                </> : <></>}\n                            {\n                                this.state.isDriver ?\n                                    <>\n                                        {this.state.driverVerified == 'VERIFIED' ?\n                                            <a className={styles.link_} href='/s/db/ddash'><p className={styles.text}>Driver dashboard</p></a> :\n                                            <a className={styles.link_} href='/s/db/d_app_dash'><p className={styles.text}>Continue driver application</p></a>}\n                                        <a className={styles.link_} href='/s/db/udash'><p className={styles.text}>Rider dashboard</p></a>\n                                    </> :\n                                    <>\n                                        <a className={styles.link_} href='/s/db/udash'><p className={styles.text}>My dashboard</p></a>\n                                        <a className={styles.link_} href='/s/auth/d_si_su'><p className={styles.text}>Become a driver</p></a>\n                                    </>\n                            }\n                            <a className={styles.link_} href='/s/articles/how_perch_works'><p className={styles.text}>How it works</p></a>\n                            <div className={styles.circle} onClick={() => { signOut.call(this, true); }}>\n                                <ImExit color={'#FFFFFF'} className={styles.logOut} />\n                            </div>\n                        </div> :\n                        <div className={styles.textRow}>\n                            <a className={styles.link1} href='/s/articles/how_perch_works'><p className={styles.text}>How it works</p></a>\n                            <a className={styles.link} href='/s/auth/u_si_su'><p className={styles.text}>Rider</p></a>\n                            <a className={styles.link} href='/s/auth/d_si_su'><p className={styles.text}>Driver</p></a>\n                        </div>}\n                </div>\n                {this.state.hideMenu ?\n                    <></> :\n                    <Animated\n                        animationInDuration={300}\n                        animationOutDuration={300}\n                        animationIn={'fadeIn'}\n                        animationOut={'fadeOut'}\n                        isVisible={this.state.dropDownMenu}\n                        animateOnMount={false}\n                        className={styles.animated}>\n                        <div className={styles.lowersection}>\n                            <hr className={styles.hr} />\n                            {this.state.loggedIn ?\n                                <>\n                                    <p className={styles.lowerLinkText_} >{`Hello, ${this.state.firstName}`}</p>\n                                    {\n                                        this.state.isDriver ?\n                                            <>\n\n                                                {this.state.driverVerified == 'VERIFIED' ?\n                                                    <a className={styles.lowerLink} href='/s/db/ddash'><p className={styles.lowerLinkText}>Driver dashboard</p></a> :\n                                                    <a className={styles.lowerLink} href='/s/db/d_app_dash'><p className={styles.lowerLinkText}>Continue driver application</p></a>}\n                                                <a className={styles.lowerLink} href='/s/db/udash'><p className={styles.lowerLinkText}>Rider dashboard</p></a>\n                                            </> :\n                                            <>\n                                                <a className={styles.lowerLink} href='/s/db/udash'><p className={styles.lowerLinkText}>My dashboard</p></a>\n                                                <a className={styles.lowerLink} href='/s/auth/d_si_su'><p className={styles.lowerLinkText}>Become a driver</p></a>\n                                            </>\n                                    }\n                                    <a className={styles.lowerLink} href='/s/articles/how_perch_works'><p className={styles.lowerLinkText}>How it works</p></a>\n                                    <a className={styles.lowerLink} onClick={() => { signOut.call(this, true); }}><p className={styles.lowerLinkText}>Log out</p></a>\n\n                                </> : <>\n                                    <a className={styles.lowerLink} href='/s/articles/how_perch_works'><p className={styles.lowerLinkText}>How it works</p></a>\n                                    <a className={styles.lowerLink} href='/s/auth/u_si_su'><p className={styles.lowerLinkText}>Rider</p></a>\n                                    <a className={styles.lowerLink} href='/s/auth/d_si_su'><p className={styles.lowerLinkText}>Driver</p></a>\n                                </>}\n                        </div>\n                    </Animated>}\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}