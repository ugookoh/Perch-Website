_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[60],{SAip:function(t,e,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/s/db/udash",function(){return o("iJvk")}])},iJvk:function(t,e,o){"use strict";o.r(e),o.d(e,"default",(function(){return D}));var i=o("1OyB"),n=o("vuIU"),s=o("JX7q"),c=o("Ji7U"),a=o("md7G"),l=o("foSv"),r=o("rePB"),d=o("q1tI"),_=o.n(d),u=o("mw2Z"),j=o.n(u),p=o("8Kt/"),h=o.n(p),b=o("+jxT"),x=o("Z6QF"),O=o("nOHt"),m=o.n(O),f=o("8rXc"),v=o("JZFu"),g=o("l099"),y=o("9uY5"),w=o("nKUr");function C(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,i=Object(l.a)(t);if(e){var n=Object(l.a)(this).constructor;o=Reflect.construct(i,arguments,n)}else o=i.apply(this,arguments);return Object(a.a)(this,o)}}var D=function(t){Object(c.a)(o,t);var e=C(o);function o(){var t;return Object(i.a)(this,o),t=e.call(this),Object(r.a)(Object(s.a)(t),"setImage",(function(e){v.a.storage().ref("".concat(e)).getDownloadURL().then((function(e){t.setState({url:e})})).catch((function(t){console.log(t.message)}))})),Object(r.a)(Object(s.a)(t),"updateWindowDimensions",(function(){t.setState({width:window.innerWidth,height:window.innerHeight})})),Object(r.a)(Object(s.a)(t),"navigate",(function(e){switch(e){case"db":t.setState({optionCode:"db"});break;case"th":t.setState({optionCode:"th"});break;case"pw":t.setState({optionCode:"pw"});break;case"cu":t.setState({optionCode:"cu"});break;case"ss":t.setState({optionCode:"ss"})}})),t.state={optionCode:"db",width:0,height:0,loggedIn:"NULL",userDetails:null,url:null},t}return Object(n.a)(o,[{key:"componentDidMount",value:function(){var t=this;this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions),v.a.auth().onAuthStateChanged((function(e){e?(t.setState({loggedIn:"TRUE"}),v.a.database().ref("users/".concat(e.uid)).once("value",(function(e){t.setState({userDetails:e.val()}),t.setImage(e.val().photoRef)})).catch((function(t){console.log(t.message)}))):t.setState({loggedIn:"FALSE"})}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"render",value:function(){var t=this;if("FALSE"==this.state.loggedIn&&m.a.push("/s/auth/u_si_su").then((function(){return window.scrollTo(0,0)})),"TRUE"!=this.state.loggedIn||!this.state.userDetails)return Object(w.jsx)(g.default,{});var e="",o=Object(w.jsx)(w.Fragment,{});switch(this.state.optionCode){case"db":e="Dashboard",o=Object(w.jsx)(f.t,{userDetails:this.state.userDetails});break;case"th":e="Trip History",o=Object(w.jsx)(f.q,{userDetails:this.state.userDetails});break;case"pw":e="Perch Wallet",o=Object(w.jsx)(f.n,{userDetails:this.state.userDetails});break;case"cu":e="Contact Us",o=Object(w.jsx)(f.d,{userDetails:this.state.userDetails});break;case"ss":e="Settings",o=Object(w.jsx)(f.p,{userDetails:this.state.userDetails})}return Object(w.jsxs)("div",{className:j.a.container,style:{height:0!=this.state.height?this.state.height:"100vh"},children:[Object(w.jsxs)(h.a,{children:[Object(w.jsx)("html",{lang:"en"}),Object(w.jsx)("title",{children:"Rider Dashboard | Perch"}),Object(w.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),Object(w.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon-32x32.png"}),Object(w.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon-16x16.png"}),Object(w.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png"}),Object(w.jsx)("link",{rel:"manifest",href:"/site.webmanifest"}),Object(w.jsx)("link",{rel:"mask-icon",href:"/safari-pinned-tab.svg",color:"#5bbad5"}),Object(w.jsx)("meta",{name:"theme-color",content:"#ffffff"})]}),Object(w.jsxs)("div",{className:j.a.header,children:[Object(w.jsx)("div",{className:j.a.logoBox,children:Object(w.jsx)("a",{href:"/",children:Object(w.jsx)("div",{className:j.a.logo,children:Object(w.jsx)(x.c,{color:"#FFFFFF"})})})}),Object(w.jsxs)("div",{className:j.a.optionShadowBox,children:[Object(w.jsx)("p",{className:j.a.optionTitle,children:e}),Object(w.jsxs)("div",{className:j.a.textRow1,children:[this.state.userDetails?Object(w.jsxs)(w.Fragment,{children:[this.state.url?Object(w.jsx)("img",{src:this.state.url,className:j.a.dp,style:{objectFit:"cover",borderWidth:"0px"}}):Object(w.jsx)("div",{className:j.a.dp}),Object(w.jsx)("p",{className:j.a.text_,children:"Hello, ".concat(this.state.userDetails.firstName)})]}):Object(w.jsx)(w.Fragment,{}),Object(w.jsx)("a",{className:j.a.link_,href:"/s/articles/how_perch_works",children:Object(w.jsx)("p",{className:j.a.text,children:"How it works"})}),Object(w.jsx)("a",{children:Object(w.jsx)("div",{className:j.a.circle,onClick:function(){y.C.call(t,!0)},children:Object(w.jsx)(b.a,{color:"#FFFFFF",className:j.a.logOut})})})]})]})]}),Object(w.jsxs)("div",{className:j.a.body,children:[Object(w.jsxs)("div",{className:j.a.couple,children:[Object(w.jsxs)("div",{className:j.a.column,children:[Object(w.jsx)("a",{onClick:function(){t.navigate("db")},children:Object(w.jsx)("div",{className:"db"==this.state.optionCode?j.a.optionIcon_Selected:j.a.optionIcon,children:Object(w.jsx)("div",{className:j.a.db,children:Object(w.jsx)(x.a,{icon:"db"})})})}),Object(w.jsx)("a",{onClick:function(){t.navigate("th")},children:Object(w.jsx)("div",{className:"th"==this.state.optionCode?j.a.optionIcon_Selected:j.a.optionIcon,children:Object(w.jsx)("div",{className:j.a.th,children:Object(w.jsx)(x.a,{icon:"th"})})})}),Object(w.jsx)("a",{onClick:function(){t.navigate("pw")},children:Object(w.jsx)("div",{className:"pw"==this.state.optionCode?j.a.optionIcon_Selected:j.a.optionIcon,children:Object(w.jsx)("div",{className:j.a.pw,children:Object(w.jsx)(x.a,{icon:"pw"})})})}),Object(w.jsx)("a",{onClick:function(){t.navigate("cu")},children:Object(w.jsx)("div",{className:"cu"==this.state.optionCode?j.a.optionIcon_Selected:j.a.optionIcon,children:Object(w.jsx)("div",{className:j.a.cu,children:Object(w.jsx)(x.a,{icon:"cu"})})})}),Object(w.jsx)("a",{onClick:function(){t.navigate("ss")},children:Object(w.jsx)("div",{className:"ss"==this.state.optionCode?j.a.optionIcon_Selected:j.a.optionIcon,children:Object(w.jsx)("div",{className:j.a.ss,children:Object(w.jsx)(x.a,{icon:"ss"})})})})]}),Object(w.jsxs)("div",{className:j.a.optionList,children:[Object(w.jsx)("a",{onClick:function(){t.navigate("db")},children:Object(w.jsx)("div",{className:"db"==this.state.optionCode?j.a.optionDescriptionCont_Selected:j.a.optionDescriptionCont,children:Object(w.jsx)("p",{className:j.a.optionDescription,children:"Dashboard"})})}),Object(w.jsx)("a",{onClick:function(){t.navigate("th")},children:Object(w.jsx)("div",{className:"th"==this.state.optionCode?j.a.optionDescriptionCont_Selected:j.a.optionDescriptionCont,children:Object(w.jsx)("p",{className:j.a.optionDescription,children:"Trip History"})})}),Object(w.jsx)("a",{onClick:function(){t.navigate("pw")},children:Object(w.jsx)("div",{className:"pw"==this.state.optionCode?j.a.optionDescriptionCont_Selected:j.a.optionDescriptionCont,children:Object(w.jsx)("p",{className:j.a.optionDescription,children:"Perch Wallet"})})}),Object(w.jsx)("a",{onClick:function(){t.navigate("cu")},children:Object(w.jsx)("div",{className:"cu"==this.state.optionCode?j.a.optionDescriptionCont_Selected:j.a.optionDescriptionCont,children:Object(w.jsx)("p",{className:j.a.optionDescription,children:"Contact Us"})})}),Object(w.jsx)("a",{onClick:function(){t.navigate("ss")},children:Object(w.jsx)("div",{className:"ss"==this.state.optionCode?j.a.optionDescriptionCont_Selected:j.a.optionDescriptionCont,children:Object(w.jsx)("p",{className:j.a.optionDescription,children:"Settings"})})})]})]}),Object(w.jsx)("div",{className:j.a.content,children:o})]})]})}}]),o}(_.a.Component)},mw2Z:function(t,e,o){t.exports={container:"layout_container__4j1Ab",textRow1:"layout_textRow1__3i_4d",dp:"layout_dp__39qxU",body:"layout_body__dVbfB",couple:"layout_couple__1kNwy",column:"layout_column__2KJEV",column_d:"layout_column_d__1wDt7",optionList:"layout_optionList__2U_e6",content:"layout_content__1g7bu",text:"layout_text__2-bGs",text_:"layout_text___1R1WJ",text_d:"layout_text_d__2B94q",link_:"layout_link___DsGSd",link_d:"layout_link_d__3zdFt",circle:"layout_circle__J0sLg",circle_d:"layout_circle_d__1onJ1",logOut:"layout_logOut__3pMVj",header:"layout_header__h3g50",logo:"layout_logo__17pZ2",logoBox:"layout_logoBox__kxwp_",logoBox_d:"layout_logoBox_d__2xdwq",optionTitle:"layout_optionTitle__uyxw1",optionShadowBox:"layout_optionShadowBox__1Q-Ae",optionIcon:"layout_optionIcon__3m-31",optionIcon_Selected:"layout_optionIcon_Selected__scCvh",optionIcon_d:"layout_optionIcon_d__2-Vja",optionIcon_Selected_d:"layout_optionIcon_Selected_d__2xBHT",optionDescriptionCont:"layout_optionDescriptionCont__3A8yW",optionDescriptionCont_Selected:"layout_optionDescriptionCont_Selected__1i8LD",optionDescriptionCont_:"layout_optionDescriptionCont___CgXvL",optionIcon_:"layout_optionIcon___3y1uu",optionDescription:"layout_optionDescription__2l35V",db:"layout_db__2lWSG",th:"layout_th__39m13",pw:"layout_pw__1dO6s",cu:"layout_cu__mNpeH",ss:"layout_ss__3rlCI",tt:"layout_tt__1dwRg",vh:"layout_vh__tDXSS",md:"layout_md__PTNMa",pi:"layout_pi__iAidU",one:"layout_one__37Fah",two:"layout_two__JWVLW",three:"layout_three__1aTnh"}}},[["SAip",0,1,6,5,7,9,15,14,21,23,24,22,17,18,16,3,2,4,8,13,19,20]]]);